<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes, viewport-fit=cover">
    <meta name="description" content="Dunyo bo'ylab unutilmas sayohatlar - Compare tours, discover destinations, and book smarter">
    <meta name="theme-color" content="#0a4d68">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="KETMON">
    <meta name="mobile-web-app-capable" content="yes">
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-1N1Z1SPFSY"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-1N1Z1SPFSY');
    </script>
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="/manifest.json">
    
    <!-- Icons for different devices -->
    <link rel="icon" type="image/png" sizes="192x192" href="icon-192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="icon-512.png">
    <link rel="apple-touch-icon" href="icon-192.png">
    
    <title>Ketmon - Sayohat Agentligi</title>
    <style>
        /* Base Responsive Styles */
        * {
            -webkit-tap-highlight-color: transparent;
        }

        html {
            font-size: 16px;
            -webkit-text-size-adjust: 100%;
            -ms-text-size-adjust: 100%;
        }

        body {
            overflow-x: hidden;
            touch-action: pan-y;
        }

        img {
            max-width: 100%;
            height: auto;
        }

        /* CSS Variables for Futuristic Light/Dark Mode */
        :root {
            --bg-primary: #f0f4ff;
            --bg-secondary: #e8f0ff;
            --bg-tertiary: #0a0e27;
            --text-primary: #1a1a2e;
            --text-secondary: #4a5568;
            --text-inverse: #ffffff;
            --header-bg: rgba(255, 255, 255, 0.85);
            --header-shadow: rgba(10, 77, 104, 0.15);
            --nav-link-color: #1a1a2e;
            --nav-link-hover: #00d4ff;
            --card-bg: rgba(255, 255, 255, 0.9);
            --card-border: rgba(0, 212, 255, 0.3);
            --border-color: rgba(0, 212, 255, 0.2);
            --input-bg: rgba(255, 255, 255, 0.95);
            --input-border: rgba(0, 212, 255, 0.3);
            --accent-primary: #00d4ff;
            --accent-secondary: #088395;
            --accent-glow: rgba(0, 212, 255, 0.5);
            --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #00d4ff 100%);
            --gradient-secondary: linear-gradient(135deg, #0a4d68 0%, #088395 50%, #00d4ff 100%);
            --gradient-card: linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(240,244,255,0.9) 100%);
        }

        [data-theme="dark"] {
            --bg-primary: #0a0e27;
            --bg-secondary: #0f1629;
            --bg-tertiary: #1a1a2e;
            --text-primary: #e0f2ff;
            --text-secondary: #a0b8d0;
            --text-inverse: #ffffff;
            --header-bg: rgba(10, 14, 39, 0.85);
            --header-shadow: rgba(0, 212, 255, 0.2);
            --nav-link-color: #e0f2ff;
            --nav-link-hover: #00d4ff;
            --card-bg: rgba(15, 22, 41, 0.7);
            --card-border: rgba(0, 212, 255, 0.4);
            --border-color: rgba(0, 212, 255, 0.3);
            --input-bg: rgba(15, 22, 41, 0.8);
            --input-border: rgba(0, 212, 255, 0.4);
            --accent-primary: #00d4ff;
            --accent-secondary: #00f5ff;
            --accent-glow: rgba(0, 212, 255, 0.6);
            --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #00d4ff 100%);
            --gradient-secondary: linear-gradient(135deg, #0a4d68 0%, #088395 50%, #00d4ff 100%);
            --gradient-card: linear-gradient(135deg, rgba(15, 22, 41, 0.8) 0%, rgba(10, 14, 39, 0.6) 100%);
        }

        /* Animated Background Pattern */
        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        @keyframes glowPulse {
            0%, 100% { 
                box-shadow: 0 0 20px var(--accent-glow), 0 0 40px var(--accent-glow), 0 0 60px var(--accent-glow);
            }
            50% { 
                box-shadow: 0 0 30px var(--accent-glow), 0 0 60px var(--accent-glow), 0 0 90px var(--accent-glow);
            }
        }

        @keyframes borderGlow {
            0%, 100% { border-color: var(--accent-primary); }
            50% { border-color: var(--accent-secondary); }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        @keyframes slideCarousel {
            0% { transform: translateX(0); }
            100% { transform: translateX(calc(-50% - 10px)); }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-primary);
            background: var(--bg-primary);
            background-image: 
                radial-gradient(circle at 20% 50%, rgba(0, 212, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(102, 126, 234, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 20%, rgba(118, 75, 162, 0.1) 0%, transparent 50%);
            background-size: 100% 100%, 100% 100%, 100% 100%;
            background-attachment: fixed;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            transition: background-color 0.5s ease, color 0.5s ease;
            position: relative;
        }

        /* Mobile Performance Optimizations */
        @media (max-width: 768px) {
            /* Disable heavy background effects on mobile */
            body {
                background-attachment: scroll;
                background-image: none;
                background: var(--bg-primary);
            }

            [data-theme="dark"] body {
                background-image: none;
                background: var(--bg-primary);
            }

            /* Optimize animations on mobile - keep essential, reduce heavy ones */
            .destination-card,
            .service-card,
            .testimonial-card,
            .agency-card,
            .hero h1,
            .hero p,
            .hero-buttons {
                animation: none !important;
                animation-duration: 0s !important;
                animation-delay: 0s !important;
                opacity: 1 !important;
                transform: none !important;
            }

            /* Keep transitions but make them faster */
            * {
                transition-duration: 0.15s !important;
                transition-delay: 0s !important;
            }

            /* Disable glow and pulse animations */
            .service-icon,
            .agency-tag,
            .btn-gradient {
                animation: none !important;
            }

            /* Simplify backdrop filters - but keep for mobile menu */
            * {
                backdrop-filter: none !important;
                -webkit-backdrop-filter: none !important;
            }


            /* Reduce box shadows */
            .destination-card,
            .service-card,
            .testimonial-card,
            .agency-card,
            .property-card,
            .ai-card,
            .search-box {
                box-shadow: 0 2px 8px rgba(0,0,0,0.1) !important;
            }

            /* Disable ALL hover effects on mobile */
            *:hover {
                transform: none !important;
            }

            .destination-card:hover,
            .service-card:hover,
            .service-card:hover .service-icon,
            .testimonial-card:hover,
            .agency-card:hover {
                transform: none !important;
                box-shadow: 0 2px 8px rgba(0,0,0,0.1) !important;
                z-index: 1 !important;
            }

            /* Disable ::before hover effect on mobile */
            .destination-card:hover::before {
                opacity: 0 !important;
            }

            /* Disable hover on buttons and links */
            .lang-btn:hover,
            .currency-btn:hover,
            .cta-btn:hover,
            .btn-gradient:hover,
            nav a:hover,
            a:hover,
            button:hover {
                transform: none !important;
            }

            /* Prevent hover state from being triggered on touch */
            .destination-card:active {
                transform: scale(0.98) !important;
                box-shadow: 0 2px 8px rgba(0,0,0,0.1) !important;
            }

            /* Simplify gradients */
            .btn-gradient,
            .theme-toggle {
                background: var(--accent-primary) !important;
            }

            /* Optimize carousel */
            .carousel-track {
                will-change: auto !important;
                animation-duration: 25s !important;
            }

            .destination-card-carousel,
            .explore-card,
            .deal-card {
                backdrop-filter: none !important;
                -webkit-backdrop-filter: none !important;
                background: var(--card-bg) !important;
                box-shadow: 0 2px 8px rgba(0,0,0,0.1) !important;
                transition: none !important;
            }

            .destination-card-carousel:hover,
            .explore-card:hover,
            .deal-card:hover {
                transform: none !important;
                box-shadow: 0 2px 8px rgba(0,0,0,0.1) !important;
            }


            /* Simplify header */
            .main-header {
                backdrop-filter: none !important;
                -webkit-backdrop-filter: none !important;
                background: var(--header-bg) !important;
            }

            /* Mobile menu backdrop is handled above in performance optimizations */

            /* Disable complex filters */
            .hero-world img {
                filter: none !important;
            }

            /* Simplify modal */
            .modal {
                box-shadow: 0 4px 20px rgba(0,0,0,0.15) !important;
            }
            
            /* Tour Modal Mobile Responsive */
            #tourModal .modal {
                max-width: 100% !important;
                width: 100% !important;
                margin: 0;
                border-radius: 0;
                max-height: 100vh;
                overflow-y: auto;
            }

            #tourModal .modal-backdrop {
                padding: 0;
                align-items: flex-start;
            }

            #tourModal .modal-header {
                padding: 15px 18px;
                flex-shrink: 0;
                position: sticky;
                top: 0;
                z-index: 10;
                background: var(--bg-secondary);
                border-radius: 0;
            }

            #tourModal .modal-title {
                font-size: 18px;
            }

            #tourModal .modal-close {
                font-size: 24px;
                min-width: 44px;
                min-height: 44px;
                display: flex;
                align-items: center;
                justify-content: center;
                touch-action: manipulation;
                -webkit-tap-highlight-color: rgba(255, 255, 255, 0.1);
            }

            #tourModal .modal-body {
                grid-template-columns: 1fr !important;
                padding: 18px 15px 20px !important;
                gap: 15px;
            }

            #tourModal .modal-image {
                height: 200px;
                border-radius: 10px;
            }

            #tourModal .modal-info p {
                font-size: 14px;
                line-height: 1.6;
            }

            #tourModal .modal-meta {
                gap: 8px;
                margin: 12px 0;
            }

            #tourModal .meta-chip {
                padding: 5px 10px;
                font-size: 11px;
            }

            #tourModal .modal-actions {
                flex-direction: column;
                gap: 10px;
                margin-top: 12px;
            }

            #tourModal .modal-actions .btn-primary,
            #tourModal .modal-actions a.btn-primary {
                width: 100%;
                padding: 12px 16px;
                font-size: 14px;
                min-height: 44px;
                touch-action: manipulation;
                -webkit-tap-highlight-color: rgba(10, 77, 104, 0.1);
            }

            /* Disable theme toggle animations */
            .theme-toggle:hover {
                transform: none !important;
            }

            /* Simplify AI card */
            .ai-card {
                backdrop-filter: none !important;
                -webkit-backdrop-filter: none !important;
                background: var(--card-bg) !important;
            }

            /* Optimize images */
            img {
                image-rendering: -webkit-optimize-contrast;
                image-rendering: crisp-edges;
            }

            /* Reduce repaints */
            .container,
            section {
                contain: layout style paint;
            }

            /* Simplify search box */
            .search-box {
                backdrop-filter: none !important;
                -webkit-backdrop-filter: none !important;
                background: var(--card-bg) !important;
            }
        }

        /* Touch qurilmalar uchun maxsus */
        @media (hover: none) and (pointer: coarse) {
            /* Barcha hover effektlarni butunlay o'chirish */
            *:hover {
                transform: none !important;
                box-shadow: inherit !important;
                background: inherit !important;
            }

            /* Faqat active holatlar qoladi */
            button:active,
            a:active,
            .lang-btn:active,
            .currency-btn:active {
                opacity: 0.8;
                transform: scale(0.95);
            }
        }

        [data-theme="dark"] body {
            background-image: 
                radial-gradient(circle at 20% 50%, rgba(0, 212, 255, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(102, 126, 234, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 40% 20%, rgba(118, 75, 162, 0.15) 0%, transparent 50%);
        }

        /* Ensure touch-friendly elements */
        button, a, input, select, textarea {
            -webkit-tap-highlight-color: rgba(10, 77, 104, 0.2);
        }

        /* Prevent text size adjustment on iOS */
        html {
            -webkit-text-size-adjust: 100%;
            -moz-text-size-adjust: 100%;
            -ms-text-size-adjust: 100%;
            text-size-adjust: 100%;
        }

        /* Theme Toggle Button - Simple for White Header */
        .theme-toggle {
            background: linear-gradient(135deg, #0a4d68 0%, #088395 100%);
            border: none;
            color: #fff;
            width: 44px;
            height: 44px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            transition: all 0.3s ease;
            margin-left: 10px;
            box-shadow: 0 2px 8px rgba(10, 77, 104, 0.2);
        }

        .theme-toggle:hover {
            transform: translateY(-2px) rotate(15deg);
            box-shadow: 0 4px 12px rgba(10, 77, 104, 0.35);
        }

        .theme-toggle:active {
            transform: translateY(0) rotate(15deg) scale(0.95);
        }

        /* Header - Always White (like in image) */
        header {
            background: #ffffff;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
            transition: box-shadow 0.3s ease;
        }
        .top-bar {
            background: var(--bg-tertiary);
            color: var(--text-inverse);
            padding: 10px 0;
            font-size: 14px;
            transition: background-color 0.3s ease, transform 0.3s ease, opacity 0.3s ease;
            position: relative;
            z-index: 1001 !important;
        }
        
        /* Hide top bar when scrolling down on mobile */
        .top-bar.hidden {
            transform: translateY(-100%);
            opacity: 0;
            pointer-events: none;
        }

        /* TOP BAR TUGMALARINI DOIMO KO'RSATISH */
        .top-bar .container {
            position: relative;
            z-index: 1001 !important;
        }

        .lang-currency-wrapper {
            position: relative;
            z-index: 1001 !important;
        }

        .lang-selector,
        .currency-selector {
            position: relative;
            z-index: 1001 !important;
        }

        .lang-btn,
        .currency-btn {
            position: relative;
            z-index: 1001 !important;
            pointer-events: auto !important;
        }

        .top-bar .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }

        .contact-info {
            display: flex;
            gap: 25px;
            align-items: center;
        }

        .contact-info span {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .lang-selector {
            position: relative;
        }

        .lang-btn {
            background: transparent;
            color: #fff;
            border: 1px solid rgba(255,255,255,0.3);
            padding: 5px 15px;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 32px;
            font-size: 14px;
        }

        .lang-btn:hover, .lang-btn.active {
            background: #fff;
            color: #0a4d68;
        }

        .lang-dropdown {
            position: absolute;
            top: calc(100% + 5px);
            left: 0;
            background: #fff;
            border: 1px solid rgba(10, 77, 104, 0.2);
            border-radius: 4px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            min-width: 100%;
            display: none;
            flex-direction: column;
            z-index: 1002;
            overflow: hidden;
        }

        .lang-dropdown.open {
            display: flex;
        }

        .lang-dropdown-item {
            background: transparent;
            color: #0a4d68;
            border: none;
            padding: 8px 15px;
            cursor: pointer;
            transition: all 0.2s;
            font-weight: 500;
            text-align: left;
            white-space: nowrap;
            min-height: 36px;
            display: flex;
            align-items: center;
            touch-action: manipulation;
            -webkit-tap-highlight-color: rgba(10, 77, 104, 0.1);
        }

        .lang-dropdown-item:hover {
            background: rgba(10, 77, 104, 0.1);
        }

        .lang-dropdown-item.active {
            background: rgba(10, 77, 104, 0.15);
            font-weight: 600;
        }

        .lang-selector.open .lang-dropdown-icon {
            transform: rotate(180deg);
        }

        /* Ensure dropdown works on mobile */
        @media (max-width: 768px) {
            .lang-currency-wrapper {
                gap: 6px;
                flex-wrap: nowrap;
            }
            
            .lang-selector,
            .currency-selector {
                margin-left: 0;
            }
            
            .currency-selector {
                margin-left: 6px;
            }
            
            .lang-dropdown {
                z-index: 1003;
                min-width: 80px;
                box-shadow: 0 6px 16px rgba(0,0,0,0.2);
            }
            
            .lang-btn {
                padding: 8px 12px;
                min-height: 44px;
                font-size: 13px;
                touch-action: manipulation;
                -webkit-tap-highlight-color: rgba(255, 255, 255, 0.2);
            }
            
            /* Header responsive for mobile */
            .main-header {
                padding: 10px 0;
                overflow-x: auto;
                overflow-y: hidden;
                -webkit-overflow-scrolling: touch;
                scrollbar-width: none;
                -ms-overflow-style: none;
            }
            
            .main-header::-webkit-scrollbar {
                display: none;
                width: 0;
                height: 0;
            }
            
            .main-header .container {
                gap: 5px;
                padding: 0 8px;
                min-width: min-content;
                flex-shrink: 0;
                overflow-x: auto;
                overflow-y: hidden;
                -webkit-overflow-scrolling: touch;
                scrollbar-width: none;
                -ms-overflow-style: none;
            }
            
            .main-header .container::-webkit-scrollbar {
                display: none;
                width: 0;
                height: 0;
            }
            
            .main-header .container .logo {
                margin-right: 5px;
                font-size: 20px;
                letter-spacing: 0.5px;
                flex-shrink: 0;
                white-space: nowrap;
            }
            
            nav#mainNav {
                display: none !important;
            }
            
            .header-right-group {
                gap: 4px !important;
                margin-left: 4px;
                flex-shrink: 0;
                display: flex !important;
                align-items: center;
                white-space: nowrap;
                flex-wrap: nowrap !important;
            }
            
            .header-right-group > * {
                flex-shrink: 0;
                white-space: nowrap;
            }
            
            /* Header actions buttons on mobile */
            .header-right-group .header-actions {
                gap: 4px;
                flex-shrink: 0;
            }
            
            .header-action-btn {
                padding: 6px 10px;
                min-height: 42px;
                font-size: 11px;
                touch-action: manipulation;
                -webkit-tap-highlight-color: rgba(10, 77, 104, 0.1);
                white-space: nowrap;
                flex-shrink: 0;
                border-radius: 18px;
            }
            
            /* Theme toggle is now inside lang-currency-wrapper, so this rule applies to it */
            .header-right-group .header-theme-toggle {
                width: 42px;
                height: 42px;
                min-width: 42px;
                min-height: 42px;
                touch-action: manipulation;
                -webkit-tap-highlight-color: rgba(10, 77, 104, 0.1);
                font-size: 16px;
                flex-shrink: 0;
                margin-left: 0;
                display: flex;
                align-items: center;
                justify-content: center;
            }
            
            /* Header lang/currency buttons on mobile */
            .header-right-group .lang-currency-wrapper {
                gap: 0;
                flex-shrink: 0;
                flex-wrap: nowrap;
                display: flex;
                align-items: center;
            }
            
            .header-right-group .lang-btn,
            .header-right-group .currency-btn {
                background: #fff;
                color: #0a4d68;
                border: 1px solid rgba(10, 77, 104, 0.2);
                padding: 6px 10px;
                border-radius: 18px;
                min-height: 42px;
                font-size: 11px;
                touch-action: manipulation;
                -webkit-tap-highlight-color: rgba(10, 77, 104, 0.1);
                white-space: nowrap;
                flex-shrink: 0;
            }
            
            .header-right-group .lang-btn svg,
            .header-right-group .currency-btn svg {
                width: 9px;
                height: 9px;
                margin-left: 3px;
            }
            
            /* Theme toggle inside lang-currency-wrapper on mobile */
            .header-right-group .lang-currency-wrapper .header-theme-toggle {
                width: 42px;
                height: 42px;
                min-width: 42px;
                min-height: 42px;
                margin-left: 0;
                flex-shrink: 0;
            }
            
            .lang-btn svg {
                width: 10px;
                height: 10px;
            }
            
            .lang-dropdown-item {
                padding: 12px 15px;
                min-height: 44px;
                font-size: 14px;
            }

            /* Payment Modal Mobile Responsive */
            #paymentModal .modal {
                max-width: 100% !important;
                width: 100% !important;
                margin: 0;
                border-radius: 0;
                height: 100%;
                max-height: 100vh;
                overflow-y: auto;
                display: flex;
                flex-direction: column;
            }

            #paymentModal .modal-backdrop {
                padding: 0;
                align-items: flex-start;
            }

            #paymentModal .modal-header {
                padding: 15px 18px;
                flex-shrink: 0;
                position: sticky;
                top: 0;
                z-index: 10;
                background: var(--bg-secondary);
                border-radius: 0;
            }

            #paymentModal .modal-title {
                font-size: 18px;
            }

            #paymentModal .modal-close {
                font-size: 24px;
                min-width: 44px;
                min-height: 44px;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            #paymentModal .modal-body {
                padding: 14px 12px 16px !important;
                flex: 1;
                overflow-y: auto;
            }
            #paymentModal .payment-card-fields {
                grid-template-columns: 1fr !important;
                gap: 10px !important;
            }
            #paymentModal .form-field input,
            #paymentModal .form-field textarea {
                font-size: 14px !important;
                min-height: 42px !important;
            }

            #paymentTourSummary {
                padding: 15px !important;
                margin-bottom: 15px !important;
                border-radius: 10px !important;
            }

            #paymentTourSummary h3 {
                font-size: 15px !important;
                margin-bottom: 10px !important;
            }

            #paymentTourDetails p {
                font-size: 13px !important;
            }

            #paymentForm h3 {
                font-size: 15px !important;
                margin-bottom: 12px !important;
            }

            #paymentForm .form-field {
                gap: 5px;
            }

            #paymentForm .form-field label {
                font-size: 12px;
            }

            #paymentForm .form-field input {
                padding: 14px 12px !important;
                font-size: 16px !important;
                min-height: 44px;
                border-radius: 8px;
            }

            /* Stack card expiry and CVV on mobile */
            .payment-card-fields {
                grid-template-columns: 1fr !important;
                gap: 10px !important;
            }

            #paymentForm .form-field label[style*="flex"] {
                flex-wrap: wrap;
                gap: 6px !important;
            }

            #paymentForm .form-field input[type="checkbox"] {
                width: 20px !important;
                height: 20px !important;
                min-width: 20px;
                min-height: 20px;
                flex-shrink: 0;
            }

            #paymentForm .form-field label span {
                font-size: 12px !important;
                line-height: 1.4;
            }

            /* Stack form buttons on mobile */
            #paymentForm .form-actions {
                flex-direction: column;
                gap: 10px !important;
                margin-top: 12px !important;
            }

            #paymentForm .form-actions button {
                width: 100%;
                min-height: 48px;
                padding: 14px 20px !important;
                font-size: 15px;
                border-radius: 10px;
            }

            #paymentForm .form-actions button[type="submit"] {
                order: 1;
            }

            #paymentForm .form-actions button[type="button"] {
                order: 2;
            }
        }
        /* Extra small phones */
        @media (max-width: 480px) {
            .main-header {
                padding: 8px 0;
            }
            
            .main-header .container {
                gap: 4px;
                padding: 0 6px;
            }
            
            .main-header .container .logo {
                margin-right: 4px;
                font-size: 18px;
                letter-spacing: 0.5px;
            }
            
            .header-right-group {
                gap: 3px !important;
                margin-left: 3px;
                flex-wrap: nowrap !important;
            }
            
            .header-right-group > * {
                flex-shrink: 0 !important;
                white-space: nowrap;
            }
            
            .header-right-group .header-actions {
                gap: 3px;
                flex-wrap: nowrap;
            }
            
            .header-action-btn {
                padding: 5px 8px;
                min-height: 38px;
                font-size: 10px;
                border-radius: 16px;
            }
            
            .header-right-group .lang-currency-wrapper {
                gap: 0;
                flex-wrap: nowrap;
            }
            
            .header-right-group .lang-btn,
            .header-right-group .currency-btn {
                padding: 5px 8px;
                min-height: 38px;
                font-size: 10px;
                border-radius: 16px;
            }
            
            /* Theme toggle inside lang-currency-wrapper on extra small phones */
            .header-right-group .lang-currency-wrapper .header-theme-toggle {
                width: 38px;
                height: 38px;
                min-width: 38px;
                min-height: 38px;
                font-size: 14px;
                flex-shrink: 0 !important;
                margin-left: 0;
                display: flex;
                align-items: center;
                justify-content: center;
            }
            
            .header-right-group .lang-currency-wrapper {
                flex-wrap: nowrap;
            }
            
            .header-right-group .lang-btn svg,
            .header-right-group .currency-btn svg {
                width: 8px;
                height: 8px;
                margin-left: 2px;
            }
            
            #paymentModal .modal-header {
                padding: 12px 15px;
            }

            #paymentModal .modal-title {
                font-size: 16px;
            }

            #paymentModal .modal-body {
                padding: 15px 12px 18px !important;
            }
            
            /* Tour Modal Extra Small Phones */
            #tourModal .modal-header {
                padding: 12px 15px;
            }

            #tourModal .modal-title {
                font-size: 16px;
            }

            #tourModal .modal-close {
                font-size: 22px;
                min-width: 40px;
                min-height: 40px;
            }

            #tourModal .modal-body {
                padding: 15px 12px 18px !important;
                gap: 12px;
            }

            #tourModal .modal-image {
                height: 180px;
            }

            #tourModal .modal-info p {
                font-size: 13px;
            }

            #tourModal .modal-meta {
                gap: 6px;
                margin: 10px 0;
            }

            #tourModal .meta-chip {
                padding: 4px 8px;
                font-size: 10px;
            }

            #tourModal .modal-actions .btn-primary,
            #tourModal .modal-actions a.btn-primary {
                padding: 10px 14px;
                font-size: 13px;
                min-height: 40px;
            }

            #paymentTourSummary {
                padding: 12px !important;
            }

            #paymentForm .form-field input {
                padding: 12px 10px !important;
                font-size: 16px !important;
            }

            #paymentForm .form-actions button {
                min-height: 46px;
                padding: 12px 18px !important;
                font-size: 14px;
            }
        }

        .currency-selector {
            position: relative;
            margin-left: 8px;
        }

        .currency-btn {
            background: transparent;
            color: #fff;
            border: 1px solid rgba(255,255,255,0.3);
            padding: 5px 15px;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
            font-size: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 32px;
        }

        .currency-btn:hover, .currency-btn.active {
            background: #fff;
            color: #0a4d68;
        }

        .currency-dropdown {
            position: absolute;
            top: calc(100% + 5px);
            left: 0;
            background: #fff;
            border: 1px solid rgba(10, 77, 104, 0.2);
            border-radius: 4px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            min-width: 100%;
            display: none;
            flex-direction: column;
            z-index: 1002;
            overflow: hidden;
        }

        .currency-dropdown.open {
            display: flex;
        }

        .currency-dropdown-item {
            background: transparent;
            color: #0a4d68;
            border: none;
            padding: 8px 15px;
            cursor: pointer;
            transition: all 0.2s;
            font-weight: 500;
            text-align: left;
            white-space: nowrap;
            min-height: 36px;
            display: flex;
            align-items: center;
            touch-action: manipulation;
            -webkit-tap-highlight-color: rgba(10, 77, 104, 0.1);
        }

        .currency-dropdown-item:hover {
            background: rgba(10, 77, 104, 0.1);
        }

        .currency-dropdown-item.active {
            background: rgba(10, 77, 104, 0.15);
            font-weight: 600;
        }

        .currency-selector.open .currency-dropdown-icon {
            transform: rotate(180deg);
        }

        /* Ensure dropdown works on mobile */
        @media (max-width: 768px) {
            .currency-dropdown {
                z-index: 1003;
                min-width: 80px;
                box-shadow: 0 6px 16px rgba(0,0,0,0.2);
            }
            
            .currency-btn {
                padding: 8px 12px;
                min-height: 44px;
                font-size: 13px;
                touch-action: manipulation;
                -webkit-tap-highlight-color: rgba(255, 255, 255, 0.2);
            }
            
            .currency-btn svg {
                width: 10px;
                height: 10px;
            }
            
            .currency-dropdown-item {
                padding: 12px 15px;
                min-height: 44px;
                font-size: 14px;
            }
        }

        .top-bar-actions {
            display: flex;
            align-items: center;
            gap: 6px;
            margin-left: 15px;
            margin-right: 6px;
        }

        .top-bar-btn {
            background: transparent;
            color: #fff;
            border: 1px solid rgba(255,255,255,0.3);
            padding: 5px 15px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
            font-size: 13px;
            text-decoration: none;
            white-space: nowrap;
        }

        .top-bar-btn:hover {
            background: #fff;
            color: #0a4d68;
            transform: translateY(-1px);
        }

        .top-bar-theme-toggle {
            background: transparent;
            border: 1px solid rgba(255,255,255,0.3);
            color: #fff;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            transition: all 0.3s;
            padding: 0;
        }

        .top-bar-theme-toggle:hover {
            background: #fff;
            color: #0a4d68;
            transform: rotate(15deg);
        }

        .lang-currency-wrapper {
            display: flex;
            align-items: center;
            gap: 10px;
            flex-shrink: 0;
        }

        /* Active states for better touch feedback */
        .lang-btn:active,
        .currency-btn:active {
            transform: scale(0.95);
            transition: transform 0.1s ease;
        }

        .main-header {
            padding: 20px 0;
        }

        .main-header .container {
            display: flex;
            justify-content: flex-start;
            align-items: center;
            flex-wrap: nowrap;
            gap: 8px;
            width: 100%;
            box-sizing: border-box;
        }

        .main-header .container .logo {
            flex-shrink: 0;
            margin-right: 10px;
        }

        .main-header .container .header-right-group {
            flex-shrink: 0;
            margin-left: 10px;
            display: flex;
            align-items: center;
        }

        .main-header .container > * {
            display: flex;
            align-items: center;
            flex-shrink: 0;
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 10px;
            flex-wrap: nowrap;
            flex-shrink: 0;
        }

        .header-actions-desktop {
            display: flex;
        }

        .header-right-group {
            display: flex;
            align-items: center;
            gap: 15px;
            flex-shrink: 0;
            margin-left: 10px;
            flex-wrap: nowrap;
        }
        
        /* Header actions (Login, Register, Theme Toggle) */
        .header-right-group .header-actions {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-left: 0;
            flex-shrink: 0;
        }
        
        .header-action-btn {
            background: #fff;
            color: #0a4d68;
            border: 1px solid rgba(10, 77, 104, 0.2);
            padding: 6px 16px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
            font-size: 13px;
            text-decoration: none;
            white-space: nowrap;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            min-height: 36px;
            flex-shrink: 0;
        }
        
        .header-action-btn:hover {
            background: #0a4d68;
            color: #fff;
            border-color: #0a4d68;
            transform: translateY(-1px);
        }
        
        .header-theme-toggle {
            background: #fff;
            border: 1px solid rgba(10, 77, 104, 0.2);
            color: #0a4d68;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            transition: all 0.3s;
            padding: 0;
            flex-shrink: 0;
        }
        
        .header-theme-toggle:hover {
            background: #0a4d68;
            color: #fff;
            border-color: #0a4d68;
            transform: rotate(15deg);
        }
        
        /* Language and Currency buttons in header */
        .header-right-group .lang-currency-wrapper {
            display: flex;
            align-items: center;
            gap: 0;
            margin-left: 0;
            flex-wrap: nowrap;
            flex-shrink: 0;
        }
        
        /* Theme toggle inside lang-currency-wrapper */
        .header-right-group .lang-currency-wrapper .header-theme-toggle {
            margin-left: 0;
            flex-shrink: 0;
        }
        
        .header-right-group .lang-btn,
        .header-right-group .currency-btn {
            background: #fff;
            color: #0a4d68;
            border: 1px solid rgba(10, 77, 104, 0.2);
            padding: 6px 16px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 36px;
            font-size: 13px;
            white-space: nowrap;
        }
        
        .header-right-group .lang-btn:hover,
        .header-right-group .lang-btn.active,
        .header-right-group .currency-btn:hover,
        .header-right-group .currency-btn.active {
            background: #0a4d68;
            color: #fff;
            border-color: #0a4d68;
            transform: translateY(-1px);
        }
        
        .header-right-group .lang-btn svg,
        .header-right-group .currency-btn svg {
            stroke: currentColor;
        }

        /* Hide desktop-nav by default - only show on desktop (969px+) */
        .desktop-nav {
            display: none !important;
            margin-left: 0;
        }

        /* Show header-right-group on all devices (for lang/currency buttons) */
        .header-right-group {
            display: flex !important;
        }
        /* (Removed) Mobile menu toggle */
        /* Hide desktop-nav on mobile, but keep lang/currency visible */
        @media (max-width: 968px) {
            /* Align logo */
            .main-header .container .logo { display: inline-flex; align-items: center; }

            .header-right-group {
                gap: 6px !important;
                flex-wrap: nowrap !important;
                overflow: visible;
            }
            
            .header-right-group > * {
                flex-shrink: 0 !important;
                white-space: nowrap;
            }
            
            .header-right-group .desktop-nav {
                display: none !important;
            }
            
            .main-header .container {
                gap: 6px;
                padding: 0 10px;
            }
            
            .main-header .container .logo {
                margin-right: 6px;
                font-size: 22px;
                letter-spacing: 0.5px;
            }
            
            .header-right-group .header-actions {
                gap: 5px;
            }
            
            .header-action-btn {
                padding: 6px 11px;
                font-size: 11px;
                min-height: 38px;
                border-radius: 18px;
            }
            
            .header-right-group .lang-currency-wrapper {
                gap: 0;
            }
            
            .header-right-group .lang-btn,
            .header-right-group .currency-btn {
                padding: 6px 11px;
                font-size: 11px;
                min-height: 38px;
                border-radius: 18px;
            }
            
            /* Theme toggle inside lang-currency-wrapper on tablet */
            .header-right-group .lang-currency-wrapper .header-theme-toggle {
                width: 38px;
                height: 38px;
                min-width: 38px;
                min-height: 38px;
                font-size: 15px;
                flex-shrink: 0 !important;
                margin-left: 0;
                display: flex;
                align-items: center;
                justify-content: center;
            }
            
            .header-right-group .lang-currency-wrapper {
                flex-wrap: nowrap;
            }
            
            .header-right-group .lang-btn svg,
            .header-right-group .currency-btn svg {
                width: 9px;
                height: 9px;
            }
        }

        @media (min-width: 969px) {
            .desktop-nav {
                display: block !important;
            }

            .header-right-group {
                display: flex !important;
            }

            .desktop-nav ul {
                display: flex;
                list-style: none;
                gap: 20px;
                margin: 0;
                padding: 0;
                margin-left: 0;
            }

            .header-right-group {
                margin-left: 10px;
            }

            .desktop-nav a {
                text-decoration: none;
                color: #333333;
                font-weight: 500;
                transition: all 0.3s ease;
                font-size: 15px;
                position: relative;
                padding: 5px 0;
            }

            .desktop-nav a::after {
                content: '';
                position: absolute;
                bottom: 0;
                left: 0;
                width: 0;
                height: 2px;
                background: linear-gradient(135deg, #0a4d68 0%, #088395 100%);
                transition: width 0.3s ease;
            }

            .desktop-nav a:hover {
                color: #088395;
            }

            .desktop-nav a:hover::after {
                width: 100%;
            }

            nav#mainNav {
                display: none;
            }
        }

        /* Hide nav by default - will show when hamburger is clicked */
        nav {
            display: none;
        }

        /* Mobile header layout — show only logo + language/currency + theme */
        @media (max-width: 968px) {
            nav#mainNav { display: none !important; }
            .desktop-nav { display: none !important; }
            .header-right-group .header-actions { display: none !important; }
            .header-right-group .lang-currency-wrapper { display: flex !important; }

            /* Place controls right next to the logo */
            .main-header .container {
                display: flex;
                align-items: center;
                justify-content: flex-start;
                gap: 6px;
                flex-wrap: nowrap;
                /* Allow dropdowns to overflow vertically on mobile */
                overflow: visible !important;
            }
            /* Ensure header itself does not clip dropdowns */
            .main-header { overflow: visible !important; }
            .main-header .container .logo { order: 0; }
            .main-header .container .header-right-group { order: 1; margin-left: 6px; }
            .main-header .container .header-right-group > *:not(.lang-currency-wrapper) { display: none !important; }
            .main-header .container .lang-currency-wrapper { gap: 0; flex-wrap: nowrap; }
            .main-header .container .lang-btn,
            .main-header .container .currency-btn,
            .main-header .container .header-theme-toggle {
                flex-shrink: 0;
            }

            /* Keep original button look; just tighten spacing */
            .lang-currency-wrapper { gap: 4px !important; }
            .lang-selector, .currency-selector { margin: 0 !important; }
            .lang-currency-wrapper > * + * { margin-left: 4px !important; }
            /* Match spacing between currency and theme to lang–currency gap */
            .lang-currency-wrapper .header-theme-toggle { margin-left: 4px !important; }
            .lang-btn, .currency-btn { padding-left: 10px !important; padding-right: 10px !important; }
        }

        .logo {
            font-size: 36px;
            font-weight: bold;
            background: linear-gradient(135deg, #0a4d68 0%, #088395 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-decoration: none;
            letter-spacing: 2px;
            transition: filter 0.3s ease;
        }

        .logo:hover {
            filter: brightness(1.1);
        }

        nav ul,
        .nav-links {
            display: none;
        }

        nav a {
            text-decoration: none;
            color: #333333;
            font-weight: 500;
            transition: all 0.3s ease;
            font-size: 15px;
            position: relative;
            padding: 5px 0;
        }

        nav a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: linear-gradient(135deg, #0a4d68 0%, #088395 100%);
            transition: width 0.3s ease;
        }

        nav a:hover {
            color: #088395;
        }

        nav a:hover::after {
            width: 100%;
        }

        .cta-btn {
            background: linear-gradient(135deg, #0a4d68 0%, #088395 100%);
            color: #fff;
            padding: 12px 30px;
            border-radius: 25px;
            text-decoration: none;
            font-weight: 600;
            transition: transform 0.3s, box-shadow 0.3s;
            display: inline-block;
            border: none;
            cursor: pointer;
            white-space: nowrap;
            min-width: 120px;
            text-align: center;
            box-sizing: border-box;
        }

        .cta-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(10, 77, 104, 0.35);
        }

        .btn-gradient {
            background: var(--gradient-secondary);
            background-size: 200% 200%;
            color: #fff;
            padding: 12px 28px;
            border-radius: 25px;
            font-weight: 600;
            border: 1px solid var(--accent-primary);
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 15px var(--accent-glow), inset 0 0 20px rgba(255, 255, 255, 0.1);
            animation: gradientShift 3s ease infinite;
        }

        .btn-gradient::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .btn-gradient:hover::before {
            width: 300px;
            height: 300px;
        }

        .btn-gradient:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 10px 30px var(--accent-glow), 0 0 40px var(--accent-glow), inset 0 0 30px rgba(255, 255, 255, 0.2);
            border-color: var(--accent-secondary);
            animation: gradientShift 1s ease infinite;
            color: #fff;
        }

        /* Hero section buttons - ensure they stand out on dark background */
        .hero .btn-gradient {
            padding: 16px 40px;
            font-size: 16px;
            min-height: 44px;
            box-shadow: 0 4px 15px rgba(10, 77, 104, 0.3);
        }

        .hero .btn-gradient:hover {
            box-shadow: 0 8px 25px rgba(10, 77, 104, 0.5);
        }

        /* no cta-group */

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Hero Section - Futuristic */
        .hero {
            position: relative;
            height: 650px;
            background: var(--gradient-secondary);
            background-size: 200% 200%;
            background-image: 
                radial-gradient(circle at 20% 50%, rgba(0, 212, 255, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(102, 126, 234, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 40% 20%, rgba(118, 75, 162, 0.3) 0%, transparent 50%);
            background-size: 200% 200%, 200% 200%, 200% 200%;
            background-position: center;
            display: flex;
            align-items: center;
            overflow: hidden;
            animation: gradientShift 8s ease infinite;
            box-shadow: inset 0 0 100px rgba(0, 212, 255, 0.2);
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 30% 40%, rgba(0, 212, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 70% 60%, rgba(118, 75, 162, 0.1) 0%, transparent 50%);
            animation: float 10s ease-in-out infinite;
            pointer-events: none;
        }

        .hero-content {
            position: relative;
            z-index: 2;
            color: #fff;
            max-width: 700px;
        }

        .hero-world {
            position: absolute;
            right: 0;
            top: 0;
            height: 100%;
            width: 55%;
            display: none; /* hidden on small screens */
            pointer-events: none;
            z-index: 1;
        }

        .hero-world img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            opacity: 0.28;
            filter: drop-shadow(0 10px 30px rgba(0,0,0,0.25));
        }

        .hero h1 {
            font-size: 58px;
            margin-bottom: 25px;
            font-weight: 700;
            line-height: 1.2;
            animation: fadeInUp 0.8s ease;
            text-shadow: 0 0 30px var(--accent-glow), 0 0 60px var(--accent-glow);
            background: linear-gradient(135deg, #ffffff 0%, rgba(0, 212, 255, 0.9) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero p {
            font-size: 22px;
            margin-bottom: 35px;
            opacity: 0.95;
            animation: fadeInUp 1s ease;
        }

        .hero-buttons {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            animation: fadeInUp 1.2s ease;
        }

        .btn {
            padding: 16px 40px;
            background: var(--card-bg);
            color: var(--text-primary);
            text-decoration: none;
            border-radius: 30px;
            font-weight: 600;
            transition: all 0.3s;
            font-size: 16px;
            min-height: 44px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(255,255,255,0.3);
        }

        .btn-outline {
            background: transparent;
            color: #fff;
            border: 2px solid #fff;
        }

        .btn-outline:hover {
            background: #fff;
            color: #17223B;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes scaleIn {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        /* Scroll animations */
        .animate-on-scroll {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.6s ease, transform 0.6s ease;
        }

        .animate-on-scroll.animated {
            opacity: 1;
            transform: translateY(0);
        }

        /* Search Bar */
        .search-section {
            background: var(--gradient-card);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            padding: 40px 0;
            margin-top: 0;
            position: relative;
            z-index: 10;
            transition: background-color 0.3s ease;
        }
        .search-box {
            background: var(--gradient-card);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid var(--card-border);
            border-radius: 15px;
            transition: all 0.3s ease;
            box-shadow: 0 10px 40px rgba(0,0,0,0.15);
            padding: 30px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }

        .search-input {
            display: flex;
            flex-direction: column;
        }

        .search-input label {
            font-size: 13px;
            color: var(--text-secondary);
            margin-bottom: 8px;
            font-weight: 600;
            transition: color 0.3s ease;
        }

        .search-input input, .search-input select {
            padding: 12px;
            border: 2px solid var(--input-border);
            border-radius: 12px;
            font-size: 15px;
            transition: all 0.3s ease;
            min-height: 44px;
            width: 100%;
            background: var(--input-bg);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            color: var(--text-primary);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        }

        .search-input input:focus, .search-input select:focus {
            outline: none;
            border-color: var(--accent-primary);
            box-shadow: 0 0 20px var(--accent-glow), 0 4px 15px rgba(0, 0, 0, 0.1);
            animation: borderGlow 2s ease-in-out infinite;
        }

        .search-btn {
            background: linear-gradient(135deg, #0a4d68 0%, #088395 100%);
            color: #fff;
            border: none;
            padding: 12px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.3s;
            margin-top: 24px;
            min-height: 44px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .search-btn:hover {
            transform: translateY(-2px);
        }

        /* Destinations */
        .destinations {
            padding: 100px 0;
            background: var(--bg-primary);
            transition: background-color 0.3s ease;
            overflow-x: hidden;
        }

        .destinations .container {
            overflow-x: visible;
        }

        .section-header {
            text-align: center;
            margin-bottom: 60px;
        }

        .section-title {
            font-size: 42px;
            margin-bottom: 15px;
            color: var(--text-primary);
            transition: color 0.3s ease;
        }

        .destinations-title-btn,
        .agencies-title-btn {
            font-size: 42px;
            margin-bottom: 15px;
            color: var(--text-primary);
            transition: all 0.3s ease;
            font-weight: 700;
            font-family: inherit;
        }

        .destinations-title-btn:hover {
            color: var(--accent-primary);
            transform: scale(1.02);
        }

        .destinations-title-btn:active {
            transform: scale(0.98);
        }

        .section-subtitle {
            font-size: 18px;
            color: var(--text-secondary);
            transition: color 0.3s ease;
        }

        .destination-grid-wrapper {
            position: relative;
            margin: 40px 0;
            overflow: hidden;
        }

        .destination-grid {
            display: flex;
            gap: 25px;
            overflow-x: auto;
            overflow-y: hidden;
            padding: 20px 0 40px;
            scroll-behavior: smooth;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }

        .destination-grid::-webkit-scrollbar {
            display: none;
        }

        .destination-card {
            flex: 0 0 320px;
            min-width: 320px;
            background: var(--gradient-card);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 8px 32px var(--header-shadow), 0 0 0 1px var(--card-border);
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            cursor: pointer;
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 0.6s ease forwards;
            position: relative;
            z-index: 1;
        }

        .destination-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: 20px;
            padding: 2px;
            background: var(--gradient-primary);
            -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            mask-composite: exclude;
            opacity: 0;
            transition: opacity 0.4s ease;
            z-index: -1;
            pointer-events: none;
        }

        .destination-card:hover::before {
            opacity: 1;
        }

        .destination-card:nth-child(1) { animation-delay: 0.1s; }
        .destination-card:nth-child(2) { animation-delay: 0.2s; }
        .destination-card:nth-child(3) { animation-delay: 0.3s; }
        .destination-card:nth-child(4) { animation-delay: 0.4s; }
        .destination-card:nth-child(5) { animation-delay: 0.5s; }
        .destination-card:nth-child(6) { animation-delay: 0.6s; }

        .destination-card:hover {
            transform: translateY(-15px) scale(1.02);
            box-shadow: 0 20px 60px var(--accent-glow), 0 0 40px var(--accent-glow), 0 0 0 2px var(--accent-primary);
            z-index: 10;
        }

        .destination-img {
            width: 100%;
            height: 280px;
            background: linear-gradient(135deg, #088395 0%, #0a4d68 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 80px;
            position: relative;
            z-index: 2;
        }

        .destination-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        .destination-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            background: var(--gradient-card);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            color: var(--text-primary);
            padding: 10px 16px;
            border-radius: 999px;
            font-size: 13px;
            font-weight: 700;
            box-shadow: 0 6px 20px var(--header-shadow), 0 0 0 1px var(--card-border);
            display: inline-flex;
            align-items: center;
            gap: 8px;
            letter-spacing: .2px;
            transition: all 0.3s ease;
        }
        .destination-badge::before{
            content: "★";
            color: #f59e0b; /* amber star */
            text-shadow: 0 0 10px rgba(245, 158, 11, 0.5);
            font-size: 14px;
            line-height: 1;
        }

        .destination-book-btn {
            width: 100%;
            margin-top: 15px;
            text-align: center;
            padding: 12px 20px;
            font-size: 14px;
            border-radius: 25px;
        }

        .destination-info {
            padding: 25px;
            position: relative;
            z-index: 2;
        }

        .destination-title {
            font-size: 24px;
            margin-bottom: 12px;
            color: var(--text-primary);
            font-weight: 700;
            transition: color 0.3s ease;
        }

        .destination-desc {
            color: var(--text-secondary);
            margin-bottom: 20px;
            line-height: 1.7;
            transition: color 0.3s ease;
        }

        .destination-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 15px;
            border-top: 1px solid var(--border-color);
            gap: 12px;
            transition: border-color 0.3s ease;
        }

        .price {
            font-size: 28px;
            color: var(--text-primary);
            font-weight: bold;
            transition: color 0.3s ease;
        }

        .price-label {
            font-size: 13px;
            color: var(--text-secondary);
            transition: color 0.3s ease;
        }

        .agency-tag {
            font-size: 13px;
            font-weight: 600;
            color: var(--accent-primary);
            background: var(--bg-secondary);
            border: 1px solid var(--card-border);
            padding: 6px 12px;
            border-radius: 999px;
            white-space: nowrap;
            transition: all 0.3s ease;
            box-shadow: 0 0 10px var(--accent-glow);
        }

        /* Late Escape Deals Section */
        .late-escape-section {
            padding: 60px 0;
            background: var(--bg-primary);
        }

        .late-escape-card {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            background: var(--gradient-card);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 24px;
            padding: 50px;
            box-shadow: 0 8px 32px var(--header-shadow), 0 0 0 1px var(--card-border);
            align-items: center;
        }

        .late-escape-content h2 {
            font-size: 36px;
            color: var(--text-primary);
            margin-bottom: 15px;
            font-weight: 700;
        }

        .late-escape-content p {
            font-size: 18px;
            color: var(--text-secondary);
            margin-bottom: 30px;
        }

        .late-escape-image {
            border-radius: 16px;
            overflow: hidden;
            height: 300px;
        }

        .late-escape-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* Carousel Styles */
        .carousel-container {
            position: relative;
            overflow: hidden;
            margin: 40px 0;
        }

        .carousel-track {
            display: flex;
            gap: 20px;
            animation: slideCarousel 30s linear infinite;
            width: fit-content;
        }

        .carousel-track:hover {
            animation-play-state: paused;
        }

        .destination-card-carousel,
        .explore-card,
        .deal-card {
            min-width: 280px;
            background: var(--gradient-card);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 8px 32px var(--header-shadow), 0 0 0 1px var(--card-border);
            transition: transform 0.3s ease;
            flex-shrink: 0;
        }

        .destination-card-carousel:hover,
        .explore-card:hover,
        .deal-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 20px 60px var(--accent-glow);
        }

        .destination-card-carousel .destination-img,
        .explore-img,
        .deal-img {
            width: 100%;
            height: 200px;
            position: relative;
            overflow: hidden;
        }

        .destination-card-carousel .destination-img img,
        .explore-img img,
        .deal-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .destination-card-carousel .destination-info,
        .explore-info,
        .deal-info {
            padding: 20px;
        }

        .destination-card-carousel .destination-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .destination-card-carousel h3,
        .explore-info h3,
        .deal-info h4 {
            font-size: 20px;
            color: var(--text-primary);
            margin-bottom: 8px;
        }

        .flag {
            font-size: 24px;
        }

        .explore-info p,
        .deal-price {
            color: var(--text-secondary);
            font-size: 14px;
        }

        .deal-heart {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(255, 255, 255, 0.9);
            border: none;
            border-radius: 50%;
            width: 36px;
            height: 36px;
            cursor: pointer;
            font-size: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.3s ease;
        }

        .deal-heart:hover {
            transform: scale(1.2);
        }

        /* Trending Destinations Section */
        .trending-destinations {
            padding: 80px 0;
            background: var(--bg-secondary);
        }

        /* Explore Uzbekistan Section */
        .explore-uzbekistan {
            padding: 80px 0;
            background: var(--bg-primary);
        }

        /* Property Type Section */
        .property-type-section {
            padding: 80px 0;
            background: var(--bg-secondary);
        }

        .property-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }

        .property-card {
            background: var(--gradient-card);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 8px 32px var(--header-shadow), 0 0 0 1px var(--card-border);
            transition: transform 0.3s ease;
            cursor: pointer;
        }

        .property-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 20px 60px var(--accent-glow);
        }
        .property-img {
            width: 100%;
            height: 200px;
            overflow: hidden;
        }

        .property-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .property-card:hover .property-img img {
            transform: scale(1.1);
        }

        .property-card h3 {
            padding: 20px;
            font-size: 20px;
            color: var(--text-primary);
            text-align: center;
        }

        /* Trip Planner Section */
        .trip-planner-section {
            padding: 80px 0;
            background: var(--bg-primary);
        }

        .trip-categories {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
            margin: 40px 0;
        }

        .trip-category-btn {
            padding: 12px 24px;
            background: var(--card-bg);
            border: 2px solid var(--card-border);
            border-radius: 25px;
            color: var(--text-primary);
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .trip-category-btn:hover,
        .trip-category-btn.active {
            background: var(--gradient-primary);
            border-color: var(--accent-primary);
            color: #fff;
            box-shadow: 0 0 20px var(--accent-glow);
        }

        .trip-destinations-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }

        .trip-destination-card {
            background: var(--gradient-card);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 8px 32px var(--header-shadow), 0 0 0 1px var(--card-border);
            transition: transform 0.3s ease, opacity 0.3s ease, visibility 0.3s ease;
            cursor: pointer;
        }

        .trip-destination-card.hidden {
            display: none;
        }

        .trip-destination-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 20px 60px var(--accent-glow);
        }

        .trip-dest-img {
            width: 100%;
            height: 200px;
            overflow: hidden;
        }

        .trip-dest-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .trip-destination-card:hover .trip-dest-img img {
            transform: scale(1.1);
        }

        .trip-dest-info {
            padding: 20px;
        }

        .trip-dest-info h3 {
            font-size: 20px;
            color: var(--text-primary);
            margin-bottom: 8px;
        }

        .trip-dest-info p {
            color: var(--text-secondary);
            font-size: 14px;
        }

        /* Weekend Deals Section */
        .weekend-deals-section {
            padding: 80px 0;
            background: var(--bg-secondary);
        }

        @media (max-width: 768px) {
            .late-escape-card {
                grid-template-columns: 1fr;
                padding: 30px;
            }

            .carousel-track {
                animation-duration: 20s;
            }

            .destination-card-carousel,
            .explore-card,
            .deal-card {
                min-width: 240px;
            }

            .property-grid,
            .trip-destinations-grid {
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            }

            .trending-destinations,
            .explore-uzbekistan,
            .property-type-section,
            .trip-planner-section,
            .weekend-deals-section {
                padding: 50px 0;
            }

            .carousel-container {
                margin: 30px 0;
            }

            .section-title {
                font-size: 28px;
            }

            .section-subtitle {
                font-size: 16px;
            }

            .trip-categories {
                gap: 10px;
                margin: 30px 0;
            }

            .trip-category-btn {
                padding: 10px 18px;
                font-size: 14px;
            }
        }

        /* Services */
        .services {
            padding: 100px 0;
        }

        .service-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 40px;
            margin-top: 60px;
        }

        .service-card {
            text-align: center;
            padding: 40px 30px;
            background: var(--gradient-card);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 20px;
            box-shadow: 0 8px 32px var(--header-shadow), 0 0 0 1px var(--card-border);
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 0.6s ease forwards;
            position: relative;
            overflow: hidden;
        }

        .service-card::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, var(--accent-glow) 0%, transparent 70%);
            opacity: 0;
            transition: opacity 0.4s ease;
        }

        .service-card:hover::after {
            opacity: 0.3;
        }

        .service-card:nth-child(1) { animation-delay: 0.1s; }
        .service-card:nth-child(2) { animation-delay: 0.2s; }
        .service-card:nth-child(3) { animation-delay: 0.3s; }
        .service-card:nth-child(4) { animation-delay: 0.4s; }

        .service-card:hover {
            transform: translateY(-15px) scale(1.05);
            box-shadow: 0 20px 60px var(--accent-glow), 0 0 40px var(--accent-glow), 0 0 0 2px var(--accent-primary);
            animation: float 3s ease-in-out infinite;
        }

        .service-icon {
            width: 80px;
            height: 80px;
            margin: 0 auto 25px;
            background: var(--gradient-secondary);
            background-size: 200% 200%;
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 36px;
            color: #fff;
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            box-shadow: 0 4px 15px var(--accent-glow), inset 0 0 20px rgba(255, 255, 255, 0.2);
            position: relative;
            animation: gradientShift 3s ease infinite;
        }

        .service-icon::before {
            content: '';
            position: absolute;
            inset: -2px;
            border-radius: 22px;
            padding: 2px;
            background: var(--gradient-primary);
            -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            mask-composite: exclude;
            opacity: 0;
            transition: opacity 0.4s ease;
        }

        .service-card:hover .service-icon::before {
            opacity: 1;
        }

        .service-card:hover .service-icon {
            transform: translateY(-8px) scale(1.15) rotate(5deg);
            box-shadow: 0 10px 30px var(--accent-glow), 0 0 40px var(--accent-glow), inset 0 0 30px rgba(255, 255, 255, 0.3);
            animation: gradientShift 1s ease infinite, glowPulse 2s ease-in-out infinite;
        }

        .service-card h3 {
            font-size: 22px;
            margin-bottom: 15px;
            color: var(--text-primary);
        }

        .service-card p {
            color: var(--text-secondary);
            line-height: 1.7;
            margin-bottom: 15px;
        }

        .service-advantage {
            margin-top: 20px;
            padding: 15px;
            background: linear-gradient(135deg, rgba(10, 77, 104, 0.05) 0%, rgba(8, 131, 149, 0.05) 100%);
            border-radius: 10px;
            border-left: 3px solid #0a4d68;
            font-size: 14px;
            color: #475569;
            line-height: 1.6;
        }

        .service-advantage strong {
            color: #0a4d68;
            display: block;
            margin-bottom: 5px;
        }

        /* Testimonials */
        .testimonials {
            padding: 100px 0;
            background: linear-gradient(135deg, #0a4d68 0%, #088395 100%);
            color: #fff;
        }

        .testimonial-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 60px;
        }

        .testimonial-card {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            padding: 35px;
            border-radius: 15px;
            border: 1px solid rgba(255,255,255,0.2);
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 0.6s ease forwards;
        }

        .testimonial-card:nth-child(1) { animation-delay: 0.1s; }
        .testimonial-card:nth-child(2) { animation-delay: 0.2s; }
        .testimonial-card:nth-child(3) { animation-delay: 0.3s; }

        .testimonial-text {
            font-size: 16px;
            line-height: 1.8;
            margin-bottom: 25px;
            font-style: italic;
        }

        .testimonial-author {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .author-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: rgba(255,255,255,0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }

        .author-info h4 {
            font-size: 16px;
            margin-bottom: 5px;
        }

        .author-info p {
            font-size: 13px;
            opacity: 0.8;
        }

        .stars {
            color: #17223B;
            font-size: 18px;
            margin-bottom: 15px;
        }

        /* Newsletter */
        .newsletter {
            padding: 80px 0;
            background: var(--bg-secondary);
            transition: background-color 0.3s ease;
        }

        .newsletter-content {
            max-width: 700px;
            margin: 0 auto;
            text-align: center;
        }

        .newsletter h2 {
            font-size: 36px;
            margin-bottom: 20px;
            color: var(--text-primary);
            transition: color 0.3s ease;
        }

        .newsletter p {
            font-size: 18px;
            color: var(--text-secondary);
            margin-bottom: 35px;
            transition: color 0.3s ease;
        }

        .newsletter-form {
            display: flex;
            gap: 15px;
            max-width: 500px;
            margin: 0 auto;
        }

        .newsletter-form input {
            flex: 1;
            padding: 15px 20px;
            border: 2px solid var(--input-border);
            border-radius: 30px;
            font-size: 15px;
            background: var(--input-bg);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            color: var(--text-primary);
            transition: all 0.3s ease;
        }

        .newsletter-form input:focus {
            outline: none;
            border-color: var(--accent-primary);
            box-shadow: 0 0 20px var(--accent-glow);
        }

        .newsletter-form button {
            padding: 15px 35px;
            background: linear-gradient(135deg, #0a4d68 0%, #088395 100%);
            color: #fff;
            border: none;
            border-radius: 30px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .newsletter-form button:hover {
            transform: translateY(-2px);
        }

        .hidden {
            display: none !important;
        }

        .agency-section {
            padding: 80px 0;
            background: var(--bg-secondary);
            transition: background-color 0.3s ease;
        }
        .ai-assistant {
            padding: 80px 0;
            background: var(--bg-primary);
            transition: background-color 0.3s ease;
        }
        .ai-card {
            max-width: 900px;
            margin: 0 auto;
            background: var(--gradient-card);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 24px;
            box-shadow: 0 20px 55px var(--header-shadow), 0 0 0 1px var(--card-border);
            padding: 32px;
            transition: all 0.3s ease;
        }
        .ai-header {
            display: flex;
            align-items: flex-start;
            gap: 16px;
        }
        .ai-icon {
            font-size: 36px;
            background: var(--bg-secondary);
            border: 1px solid var(--card-border);
            color: var(--accent-primary);
            border-radius: 16px;
            padding: 14px;
            transition: all 0.3s ease;
            box-shadow: 0 0 10px var(--accent-glow);
        }
        .ai-form {
            margin-top: 24px;
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
        }

        .season-month-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 32px;
            grid-column: span 1;
        }

        .ai-form .ai-submit {
            grid-column: 1 / -1;
        }
        @media (max-width: 768px) {
            .ai-form {
                grid-template-columns: 1fr;
            }
            
            .season-month-row {
                grid-column: 1;
                grid-template-columns: 1fr;
            }
        }
        .ai-field {
            display: flex;
            flex-direction: column;
        }
        .ai-field label {
            font-size: 13px;
            color: var(--text-primary);
            font-weight: 600;
            margin-bottom: 6px;
            transition: color 0.3s ease;
        }
        .ai-field input,
        .ai-field select {
            border: 2px solid var(--input-border);
            border-radius: 14px;
            background: var(--input-bg);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            color: var(--text-primary);
            padding: 12px;
            font-size: 15px;
            transition: all 0.3s ease;
        }
        .ai-field input:focus,
        .ai-field select:focus {
            outline: none;
            border-color: var(--accent-primary);
            box-shadow: 0 0 20px var(--accent-glow);
        }
        .ai-submit {
            align-self: end;
        }
        .ai-response {
            margin-top: 24px;
            background: var(--bg-secondary);
            border: 1px solid var(--card-border);
            border-radius: 14px;
            padding: 18px;
            color: var(--text-primary);
            line-height: 1.6;
            min-height: 72px;
            transition: all 0.3s ease;
        }
        .about-section {
            padding: 90px 0;
            background: var(--bg-primary);
            transition: background-color 0.3s ease;
        }
        .about-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 32px;
            align-items: start;
        }
        .about-story {
            background: var(--bg-secondary);
            padding: 28px;
            border-radius: 22px;
            box-shadow: 0 15px 40px var(--header-shadow);
            transition: background-color 0.3s ease;
        }
        .about-story h3 {
            font-size: 22px;
            margin-bottom: 12px;
            color: var(--nav-link-hover);
        }
        .about-story p {
            color: var(--text-secondary);
            margin-bottom: 12px;
            line-height: 1.7;
        }
        .about-bullets {
            list-style: none;
            padding: 0;
            margin-top: 14px;
        }
        .about-bullets li {
            display: flex;
            gap: 10px;
            align-items: flex-start;
            margin-bottom: 10px;
            color: var(--text-primary);
            transition: color 0.3s ease;
        }
        .about-bullets li span {
            color: var(--accent-primary);
            font-weight: 700;
            transition: color 0.3s ease;
        }
        .about-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
            gap: 16px;
        }
        .about-stat {
            background: var(--card-bg);
            border-radius: 18px;
            padding: 24px;
            box-shadow: 0 12px 30px var(--header-shadow);
            border: 1px solid var(--border-color);
            text-align: center;
            transition: background-color 0.3s ease;
        }
        .about-stat-value {
            font-size: 28px;
            font-weight: 700;
            color: var(--nav-link-hover);
        }
        .about-stat-label {
            margin-top: 8px;
            color: var(--text-secondary);
        }
        .contact-section {
            padding: 90px 0;
            background: var(--bg-secondary);
            transition: background-color 0.3s ease;
        }
        .contact-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 28px;
            align-items: stretch;
        }
        .contact-card {
            background: var(--gradient-card);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 22px;
            padding: 32px;
            box-shadow: 0 15px 45px var(--header-shadow), 0 0 0 1px var(--card-border);
            transition: all 0.3s ease;
        }
        .contact-details {
            list-style: none;
            padding: 0;
            margin-top: 24px;
            display: grid;
            gap: 18px;
        }
        .contact-details li {
            display: flex;
            gap: 16px;
            align-items: flex-start;
            color: var(--text-primary);
            transition: color 0.3s ease;
        }
        .contact-details li span.icon {
            font-size: 22px;
            color: var(--accent-primary);
            display: flex;
            align-items: center;
            flex-shrink: 0;
            transition: color 0.3s ease;
        }

        .contact-details li span.icon svg {
            width: 22px;
            height: 22px;
        }
        .contact-details strong {
            display: block;
            color: var(--accent-primary);
            transition: color 0.3s ease;
        }
        .contact-form {
            background: var(--gradient-card);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 22px;
            padding: 32px;
            box-shadow: 0 15px 40px var(--header-shadow), 0 0 0 1px var(--card-border);
            border: 1px solid var(--card-border);
            display: grid;
            gap: 18px;
            transition: all 0.3s ease;
        }
        .contact-form label {
            font-size: 13px;
            font-weight: 600;
            color: var(--text-primary);
            transition: color 0.3s ease;
        }
        .contact-form input,
        .contact-form textarea {
            width: 100%;
            padding: 12px 14px;
            border-radius: 14px;
            border: 2px solid var(--input-border);
            font-size: 15px;
            background: var(--input-bg);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            color: var(--text-primary);
            transition: all 0.3s ease;
        }
        .contact-form input:focus,
        .contact-form textarea:focus {
            outline: none;
            border-color: var(--accent-primary);
            box-shadow: 0 0 20px var(--accent-glow);
        }
        .contact-status {
            font-size: 14px;
            color: var(--accent-primary);
            margin-top: -8px;
            transition: color 0.3s ease;
        }
        .contact-status.error {
            color: #dc2626;
        }
        .agency-toolbar {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 12px;
            margin-top: 24px;
        }
        .agency-toolbar button {
            border: 1px solid var(--card-border);
            background: var(--bg-secondary);
            color: var(--text-primary);
            font-weight: 600;
            padding: 10px 22px;
            border-radius: 999px;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }

        .agency-toolbar button:hover {
            border-color: var(--accent-primary);
            box-shadow: 0 0 15px var(--accent-glow);
            transform: translateY(-2px);
        }

        .agency-toolbar button.active {
            background: var(--gradient-secondary);
            background-size: 200% 200%;
            color: #fff;
            border-color: var(--accent-primary);
            box-shadow: 0 10px 25px var(--accent-glow), 0 0 20px var(--accent-glow);
            animation: gradientShift 3s ease infinite;
        }
        .agency-grid-wrapper {
            position: relative;
            margin: 40px 0;
            overflow: hidden;
        }

        .agency-grid {
            display: flex;
            gap: 24px;
            overflow-x: auto;
            overflow-y: hidden;
            padding: 20px 0 40px;
            scroll-behavior: smooth;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: thin;
            scrollbar-color: rgba(10, 77, 104, 0.3) rgba(255, 255, 255, 0.1);
        }

        .agency-grid::-webkit-scrollbar {
            height: 8px;
        }

        .agency-grid::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
        }

        .agency-grid::-webkit-scrollbar-thumb {
            background: rgba(10, 77, 104, 0.3);
            border-radius: 10px;
        }

        .agency-grid::-webkit-scrollbar-thumb:hover {
            background: rgba(10, 77, 104, 0.5);
        }
        .agency-card {
            flex: 0 0 280px;
            min-width: 280px;
            background: var(--gradient-card);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 24px;
            box-shadow: 0 8px 32px var(--header-shadow), 0 0 0 1px var(--card-border);
            border: 1px solid var(--card-border);
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            position: relative;
            overflow: hidden;
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 0.6s ease forwards;
        }

        .agency-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: 20px;
            padding: 2px;
            background: var(--gradient-primary);
            -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            mask-composite: exclude;
            opacity: 0;
            transition: opacity 0.4s ease;
        }

        .agency-card::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, var(--accent-glow) 0%, transparent 70%);
            opacity: 0;
            transition: opacity 0.4s ease;
        }

        .agency-card:nth-child(1) { animation-delay: 0.1s; }
        .agency-card:nth-child(2) { animation-delay: 0.2s; }
        .agency-card:nth-child(3) { animation-delay: 0.3s; }
        .agency-card:nth-child(4) { animation-delay: 0.4s; }
        .agency-card:nth-child(5) { animation-delay: 0.5s; }
        .agency-card:nth-child(6) { animation-delay: 0.6s; }
        .agency-card:nth-child(7) { animation-delay: 0.7s; }
        
        .agency-card:hover {
            transform: translateY(-15px) scale(1.02);
            box-shadow: 0 20px 60px var(--accent-glow), 0 0 40px var(--accent-glow), 0 0 0 2px var(--accent-primary);
            animation: float 3s ease-in-out infinite;
        }

        .agency-card:hover::before {
            opacity: 1;
        }

        .agency-card:hover::after {
            opacity: 0.3;
        }

        .agency-card.active {
            border-color: var(--accent-primary);
            box-shadow: 0 20px 60px var(--accent-glow), 0 0 40px var(--accent-glow), 0 0 0 2px var(--accent-primary);
            animation: float 3s ease-in-out infinite, glowPulse 2s ease-in-out infinite;
        }

        .agency-card.active::before {
            opacity: 1;
        }
        .agency-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 6px 10px;
            border-radius: 999px;
            background: var(--bg-secondary);
            border: 1px solid var(--card-border);
            color: var(--text-primary);
            font-size: 12px;
            font-weight: 600;
            position: relative;
            z-index: 1;
            transition: all 0.3s ease;
            box-shadow: 0 0 10px var(--accent-glow);
            cursor: pointer;
        }

        .agency-badge:hover {
            box-shadow: 0 0 20px var(--accent-glow);
            transform: scale(1.08);
            background: rgba(10, 77, 104, 0.1);
        }

        .agency-badge:active {
            transform: scale(1.02);
        }

        .agency-card:hover .agency-badge {
            box-shadow: 0 0 15px var(--accent-glow);
            transform: scale(1.05);
        }

        .agency-card h3 {
            margin-top: 16px;
            font-size: 20px;
            color: var(--text-primary);
            position: relative;
            z-index: 1;
            transition: color 0.3s ease, text-shadow 0.3s ease;
        }

        .agency-card:hover h3 {
            text-shadow: 0 0 10px var(--accent-glow);
        }

        .agency-card p {
            margin-top: 10px;
            color: var(--text-secondary);
            line-height: 1.6;
            position: relative;
            z-index: 1;
            transition: color 0.3s ease;
        }

        .agency-card .cta {
            margin-top: 18px;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            color: var(--accent-primary);
            font-weight: 600;
            position: relative;
            z-index: 1;
            transition: all 0.3s ease;
        }

        .agency-card .cta span:last-child {
            transition: transform 0.3s ease;
        }

        .agency-card:hover .cta {
            color: var(--accent-secondary);
            text-shadow: 0 0 10px var(--accent-glow);
        }

        .agency-card:hover .cta span:last-child {
            transform: translateX(5px);
        }

        .agency-flair {
            position: absolute;
            inset: 0;
            background: var(--gradient-primary);
            opacity: 0;
            transition: opacity 0.4s ease;
            border-radius: 20px;
            filter: blur(20px);
        }

        .agency-card:hover .agency-flair,
        .agency-card.active .agency-flair {
            opacity: 0.2;
        }

        /* Footer */
        footer {
            background: var(--bg-tertiary);
            color: var(--text-inverse);
            padding: 80px 0 30px;
            transition: background-color 0.3s ease;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 50px;
            margin-bottom: 50px;
        }

        .footer-section h3 {
            margin-bottom: 25px;
            color: var(--text-inverse);
            font-size: 20px;
            transition: color 0.3s ease;
        }

        .footer-section ul {
            list-style: none;
        }

        .footer-section ul li {
            margin-bottom: 12px;
        }

        .footer-section a {
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
            transition: color 0.3s;
        }
        .footer-section a:hover {
            color: var(--text-inverse);
        }

        .footer-section p {
            color: rgba(255, 255, 255, 0.7);
            line-height: 1.8;
            transition: color 0.3s ease;
        }

        .social-links {
            display: flex;
            gap: 15px;
            margin-top: 25px;
        }

        .social-links a {
            width: 45px;
            height: 45px;
            background: rgba(8, 131, 149, 0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            transition: all 0.3s;
        }

        .social-links a:hover {
            background: var(--nav-link-hover);
            transform: translateY(-3px);
        }

        .footer-bottom {
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.6);
            transition: border-color 0.3s ease, color 0.3s ease;
        }


        /* Modal (Tour Details) */
        .modal-backdrop {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.5);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            padding: 20px;
        }
        .modal-backdrop.open { display: flex; }
        .modal {
            width: 100%;
            max-width: 760px;
            background: var(--gradient-card);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border-radius: 24px;
            box-shadow: 0 20px 60px var(--header-shadow), 0 0 0 1px var(--card-border), 0 0 40px var(--accent-glow);
            overflow: hidden;
            transition: all 0.5s ease;
            border: 2px solid var(--card-border);
            animation: float 6s ease-in-out infinite;
        }
        .modal-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 18px 22px;
            border-bottom: 1px solid var(--border-color);
            background: var(--bg-secondary);
            transition: background-color 0.3s ease, border-color 0.3s ease;
        }
        .modal-title {
            font-size: 20px;
            font-weight: 700;
            color: var(--text-primary);
            transition: color 0.3s ease;
        }
        .modal-close {
            background: none;
            border: none;
            font-size: 22px;
            cursor: pointer;
            color: var(--text-primary);
            transition: color 0.3s ease;
        }
        .modal-body {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 18px;
            padding: 18px 22px 22px;
        }
        .modal-image {
            width: 100%;
            height: 220px;
            border-radius: 12px;
            overflow: hidden;
            background: var(--bg-secondary);
            transition: background-color 0.3s ease;
        }
        .modal-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }
        .modal-info p {
            color: var(--text-secondary);
            line-height: 1.7;
            margin-bottom: 10px;
            transition: color 0.3s ease;
        }
        .modal-form {
            display: grid;
            gap: 12px;
            padding: 18px 22px 22px;
        }
        .form-field {
            display: grid;
            gap: 6px;
        }
        .form-field label {
            font-size: 13px;
            font-weight: 600;
            color: var(--text-primary);
            transition: color 0.3s ease;
        }
        .form-field input {
            padding: 12px 12px;
            border: 1px solid var(--input-border);
            border-radius: 10px;
            font-size: 14px;
            background: var(--input-bg);
            color: var(--text-primary);
            transition: background-color 0.3s ease, border-color 0.3s ease, color 0.3s ease;
        }
        .form-actions {
            display: flex;
            gap: 10px;
            margin-top: 6px;
        }
        .segmented {
            display: inline-flex;
            background: var(--bg-secondary);
            border: 1px solid var(--card-border);
            border-radius: 999px;
            padding: 4px;
            gap: 4px;
            transition: all 0.3s ease;
        }
        .segmented button {
            border: none;
            background: transparent;
            padding: 8px 14px;
            border-radius: 999px;
            font-weight: 700;
            cursor: pointer;
            color: var(--text-primary);
            transition: all 0.3s ease;
        }
        .segmented button.active {
            background: var(--gradient-secondary);
            background-size: 200% 200%;
            color: #fff;
            box-shadow: 0 6px 18px var(--accent-glow);
            animation: gradientShift 3s ease infinite;
        }
        .hidden { display: none; }
        .modal-meta {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
            margin: 10px 0 14px;
        }
        .meta-chip {
            background: var(--bg-secondary);
            color: var(--text-primary);
            border: 1px solid var(--card-border);
            padding: 6px 10px;
            border-radius: 999px;
            font-size: 12px;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        .modal-actions {
            display: flex;
            gap: 10px;
            margin-top: 8px;
        }
        .modal .btn-primary,
        .modal a.btn-primary,
        .modal-actions .btn-primary,
        .modal-actions a.btn-primary {
            background: linear-gradient(135deg, #0a4d68 0%, #088395 100%) !important;
            color: #fff !important;
            padding: 10px 16px;
            border-radius: 10px;
            border: none !important;
            font-weight: 700;
            cursor: pointer;
            transition: transform .2s, box-shadow .2s;
            display: inline-block;
            text-align: center;
            text-decoration: none !important;
        }
        .modal .btn-primary:hover,
        .modal a.btn-primary:hover,
        .modal-actions .btn-primary:hover,
        .modal-actions a.btn-primary:hover {
            transform: translateY(-1px);
            box-shadow: 0 8px 20px rgba(10, 77, 104, 0.35);
            background: linear-gradient(135deg, #0a4d68 0%, #088395 100%) !important;
            color: #fff !important;
        }
        /* Responsive Design - Mobile First Approach */
        
        /* PWA Install Button Styles */
        #pwa-install-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: linear-gradient(135deg, #0a4d68 0%, #088395 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(10, 77, 104, 0.3);
            z-index: 1000;
            font-size: 14px;
            transition: transform 0.3s;
        }

        #pwa-install-btn:hover {
            transform: translateY(-2px);
        }

        /* Juda kichik ekranlar uchun (375px va undan kam) */
        @media (max-width: 375px) {
            .top-bar {
                padding: 5px 0;
            }

            .top-bar .container {
                gap: 5px;
                padding: 0 8px;
                flex-wrap: wrap;
            }

            .contact-info {
                gap: 5px;
                flex: 1 1 auto;
                min-width: 100px;
            }

            .contact-info span {
                font-size: 7px;
            }

            .contact-info span svg {
                width: 9px;
                height: 9px;
            }

            .lang-currency-wrapper {
                gap: 2px;
                flex: 0 0 auto;
            }

            .lang-btn,
            .currency-btn {
                padding: 8px 10px;
                font-size: 12px;
                min-width: 48px;
                min-height: 44px;
            }
            
            .lang-btn svg,
            .currency-btn svg {
                width: 10px;
                height: 10px;
                margin-left: 4px;
            }
            
            .lang-dropdown-item,
            .currency-dropdown-item {
                padding: 10px 12px;
                min-height: 44px;
                font-size: 13px;
            }

            .lang-selector,
            .currency-selector {
                gap: 2px;
            }
        }

        /* Very Small Phones (320px and down) */
        @media (max-width: 320px) {
            html {
                font-size: 13px;
            }

            .container {
                padding: 0 12px;
            }

            .top-bar {
                padding: 5px 0;
                font-size: 9px;
            }

            .top-bar .container {
                flex-direction: row;
                gap: 4px;
                align-items: center;
                padding: 0 6px;
                flex-wrap: wrap;
                justify-content: space-between;
            }

            .contact-info {
                gap: 4px;
                flex: 1 1 auto;
                min-width: 90px;
                flex-wrap: wrap;
            }

            .lang-currency-wrapper {
                flex: 0 0 auto;
                gap: 2px;
                flex-wrap: nowrap;
            }

            .contact-info span {
                font-size: 8px;
                flex: 0 0 auto;
                min-width: 0;
            }

            .contact-info span svg {
                width: 9px;
                height: 9px;
            }

            .lang-selector,
            .currency-selector {
                gap: 2px;
                flex-shrink: 0;
            }

            .lang-btn,
            .currency-btn {
                padding: 8px 10px;
                font-size: 12px;
                min-width: 48px;
                min-height: 44px;
                border-radius: 4px;
            }
            
            .lang-btn svg,
            .currency-btn svg {
                width: 10px;
                height: 10px;
                margin-left: 4px;
            }

            .lang-btn:active,
            .currency-btn:active {
                transform: scale(0.96);
                background: rgba(255,255,255,0.9) !important;
                opacity: 0.9;
            }
            
            .lang-dropdown-item,
            .currency-dropdown-item {
                padding: 10px 12px;
                min-height: 44px;
                font-size: 13px;
            }
            
            .lang-dropdown-item:active,
            .currency-dropdown-item:active {
                background: rgba(10, 77, 104, 0.2) !important;
            }

            .main-header {
                padding: 8px 0;
            }

            .main-header .container {
                gap: 8px;
                padding: 0 12px;
            }

            .logo {
                font-size: 18px;
                letter-spacing: 1px;
                flex: 0 1 auto;
                min-width: 0;
            }

            .section-title {
                font-size: 20px;
            }

            .section-subtitle {
                font-size: 13px;
            }

            .hero {
                padding: 50px 0 40px;
                min-height: 400px;
            }

            .hero h1 {
                font-size: 26px;
            }

            .hero p {
                font-size: 14px;
            }

            .hero-buttons .btn-gradient {
                padding: 14px 24px;
                font-size: 14px;
                min-height: 48px;
            }

            .search-box {
                padding: 20px 16px;
            }

            .search-input input,
            .search-input select {
                padding: 12px 14px;
                font-size: 14px;
            }

            .trip-category-btn {
                padding: 6px 12px;
                font-size: 11px;
            }

            .destination-card-carousel,
            .explore-card,
            .deal-card {
                min-width: 180px;
            }

            .ai-card {
                padding: 15px;
            }
        }
        /* Small Phones (321px to 375px) */
        @media (min-width: 321px) and (max-width: 375px) {
            html {
                font-size: 13.5px;
            }

            .container {
                padding: 0 14px;
            }

            .top-bar {
                padding: 8px 0;
                font-size: 11px;
            }

            .top-bar .container {
                flex-wrap: wrap;
                gap: 8px;
            }

            .contact-info {
                gap: 10px;
                flex: 1;
                min-width: 0;
            }

            .lang-currency-wrapper {
                gap: 8px;
                flex-wrap: wrap;
            }

            .contact-info span {
                font-size: 10px;
            }

            .contact-info span svg {
                width: 13px;
                height: 13px;
            }

            .lang-selector,
            .currency-selector {
                gap: 5px;
            }

            .lang-btn,
            .currency-btn {
                padding: 8px 14px;
                font-size: 11px;
                min-width: 44px;
                min-height: 44px;
                border-radius: 6px;
            }

            .lang-btn:active,
            .currency-btn:active {
                transform: scale(0.95);
                background: rgba(255,255,255,0.9) !important;
            }

            .main-header {
                padding: 10px 0;
            }

            .main-header .container {
                gap: 10px;
            }

            .logo {
                font-size: 22px;
                letter-spacing: 1.5px;
            }

            .section-title {
                font-size: 22px;
            }

            .destination-card-carousel,
            .explore-card,
            .deal-card {
                min-width: 190px;
            }
        }

        /* Extra Small Devices (phones, 480px and down) */
        /* Kichik telefonlar uchun (480px va undan kam) */
        @media (max-width: 480px) {
            .container {
                padding: 0 15px;
            }

            .top-bar {
                padding: 5px 0;
                font-size: 9px;
            }

            .top-bar .container {
                gap: 6px;
                padding: 0 10px;
                flex-wrap: wrap;
            }

            .contact-info {
                gap: 6px;
                flex: 1 1 auto;
                min-width: 120px;
            }

            .contact-info span {
                font-size: 8px;
            }

            .contact-info span svg {
                width: 10px;
                height: 10px;
            }

            .lang-currency-wrapper {
                gap: 3px;
                flex: 0 0 auto;
            }

            .lang-btn,
            .currency-btn {
                padding: 4px 8px;
                font-size: 9px;
                min-width: 36px;
                min-height: 28px;
            }

            .lang-selector,
            .currency-selector {
                gap: 2px;
            }

            html {
                font-size: 14px;
            }

            .destination-card-carousel,
            .explore-card,
            .deal-card {
                min-width: 200px;
                flex-shrink: 0;
            }

            .carousel-track {
                gap: 12px;
            }

            .carousel-container {
                margin: 25px -15px;
                padding: 0 15px;
                overflow: hidden;
            }

            .destination-grid-wrapper {
                margin: 25px -15px;
                padding: 0 15px;
                overflow: hidden;
            }

            .carousel-track {
                will-change: transform;
            }

            /* Prevent horizontal scroll on mobile */
            body {
                overflow-x: hidden;
                width: 100%;
                position: relative;
            }

            table, img, video, iframe {
                max-width: 100%;
            }

            .trending-destinations,
            .explore-uzbekistan,
            .property-type-section,
            .trip-planner-section,
            .weekend-deals-section,
            .destinations,
            .services,
            .testimonials,
            .newsletter,
            .agency-section,
            .ai-assistant,
            .about-section,
            .contact-section {
                padding: 40px 0;
            }

            .section-header {
                margin-bottom: 25px;
            }

            .section-title {
                font-size: 22px;
                line-height: 1.3;
                margin-bottom: 10px;
            }

            .section-subtitle {
                font-size: 13px;
                line-height: 1.5;
            }

            .trip-categories {
                gap: 8px;
                margin: 25px 0;
                flex-wrap: wrap;
                justify-content: flex-start;
            }

            .trip-category-btn {
                padding: 10px 16px;
                font-size: 12px;
                border-radius: 20px;
                min-height: 40px;
                white-space: nowrap;
                flex-shrink: 0;
            }

            .trip-destinations-grid {
                grid-template-columns: 1fr;
                gap: 15px;
                margin-top: 25px;
            }

            .trip-destination-card {
                width: 100%;
            }

            .trip-dest-img {
                height: 180px;
            }

            .trip-dest-info {
                padding: 15px;
            }

            .trip-dest-info h3 {
                font-size: 18px;
                margin-bottom: 6px;
            }

            .trip-dest-info p {
                font-size: 13px;
            }

            .destination-card-carousel .destination-img {
                height: 160px;
            }

            .destination-card-carousel h3 {
                font-size: 15px;
            }

            .destination-info {
                padding: 12px;
            }

            .explore-img {
                height: 160px;
            }

            .explore-info {
                padding: 15px;
            }

            .explore-info h3 {
                font-size: 18px;
                margin-bottom: 6px;
            }

            .explore-info p {
                font-size: 13px;
            }

            .deal-img {
                height: 160px;
            }

            .deal-info {
                padding: 15px;
            }

            .deal-info h4 {
                font-size: 16px;
                margin-bottom: 6px;
            }

            .deal-price {
                font-size: 14px;
            }

            .ai-card {
                padding: 18px;
                border-radius: 16px;
                margin: 0 10px;
            }

            .ai-header {
                flex-direction: column;
                gap: 12px;
                text-align: center;
            }

            .ai-icon {
                font-size: 32px;
                padding: 12px;
                margin: 0 auto;
            }

            .ai-header h3 {
                font-size: 18px;
                margin-bottom: 6px;
            }

            .ai-header p {
                font-size: 13px;
                line-height: 1.5;
            }

            .ai-form {
                margin-top: 20px;
                gap: 12px;
            }

            .ai-field label {
                font-size: 12px;
                margin-bottom: 5px;
            }

            .ai-field input,
            .ai-field select {
                padding: 11px;
                font-size: 14px;
            }

            .ai-submit {
                padding: 12px 24px;
                font-size: 14px;
                width: 100%;
            }

            .ai-response {
                padding: 15px;
                font-size: 13px;
                min-height: 60px;
            }

            .search-section {
                padding: 30px 0;
                margin-top: 0;
                position: relative;
                z-index: 10;
            }

            /* Juda kichik ekranlar uchun */
            @media (max-width: 480px) {
                nav.active .header-actions {
                    gap: 10px;
                    margin-top: 15px;
                    padding-top: 15px;
                }

                nav.active .header-actions .cta-btn,
                nav.active .header-actions a {
                    padding: 12px 20px !important;
                    font-size: 14px !important;
                    min-height: 44px !important;
                }

                nav.active .header-actions .theme-toggle {
                    height: 44px !important;
                    font-size: 18px;
                }
            }

            .search-box {
                grid-template-columns: 1fr;
                padding: 24px 20px;
                gap: 16px;
                border-radius: 20px;
                box-shadow: 0 8px 30px rgba(0,0,0,0.12);
            }

            .search-input {
                width: 100%;
            }

            .search-input label {
                font-size: 13px;
                margin-bottom: 8px;
                display: block;
                font-weight: 500;
                color: var(--text-primary);
            }

            .search-input input,
            .search-input select {
                padding: 14px 16px;
                font-size: 15px;
                width: 100%;
                box-sizing: border-box;
                min-height: 48px;
                border-radius: 12px;
                border: 1px solid rgba(0,0,0,0.1);
                transition: all 0.3s ease;
            }

            .search-input input:focus,
            .search-input select:focus {
                outline: none;
                border-color: var(--accent-primary);
                box-shadow: 0 0 0 3px rgba(10, 77, 104, 0.1);
            }

            .search-btn {
                padding: 16px 28px;
                font-size: 16px;
                min-height: 52px;
                width: 100%;
                margin-top: 8px;
                border-radius: 12px;
                font-weight: 600;
            }

            .cta-btn,
            .btn-gradient {
                min-height: 44px;
                padding: 12px 20px;
            }

            .top-bar {
                padding: 8px 0;
                font-size: 12px;
            }

            .top-bar .container {
                flex-wrap: wrap;
                gap: 10px;
            }

            .contact-info {
                gap: 12px;
                flex: 1;
                min-width: 0;
            }

            .lang-currency-wrapper {
                gap: 10px;
                flex-wrap: wrap;
            }

            .contact-info span {
                font-size: 11px;
            }

            .contact-info span svg {
                width: 14px;
                height: 14px;
            }

            .lang-selector,
            .currency-selector {
                gap: 6px;
            }

            .lang-btn,
            .currency-btn {
                padding: 8px 16px;
                font-size: 11px;
                min-width: 44px;
                min-height: 44px;
                border-radius: 6px;
            }

            .lang-btn:active,
            .currency-btn:active {
                transform: scale(0.95);
                background: rgba(255,255,255,0.9) !important;
            }

            .destination-grid-wrapper {
                margin: 25px -15px;
                padding: 0 15px;
                overflow: hidden;
            }

            .destination-grid {
                gap: 15px;
                padding: 15px 0 30px;
            }

            .destination-card {
                flex: 0 0 280px;
                min-width: 280px;
            }
            .service-grid {
                grid-template-columns: 1fr;
                gap: 18px;
            }

            .destination-card,
            .service-card {
                width: 100%;
                margin: 0;
            }

            .destination-img {
                width: 100%;
                height: 200px;
            }

            .destination-img img {
                object-fit: cover;
            }

            .service-icon {
                width: 60px;
                height: 60px;
                font-size: 28px;
            }

            .service-card {
                padding: 25px 18px;
            }

            .service-card h3 {
                font-size: 18px;
            }

            .service-card p {
                font-size: 13px;
            }

            .testimonial-grid {
                grid-template-columns: 1fr;
                gap: 18px;
            }

            .testimonial-card {
                padding: 20px;
            }

            .agency-grid {
                grid-template-columns: 1fr;
                gap: 18px;
            }

            .agency-card {
                padding: 18px;
            }

            .agency-card h3 {
                font-size: 18px;
            }

            .agency-card p {
                font-size: 13px;
            }

            .property-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 12px;
            }

            .property-card {
                padding: 15px;
                border-radius: 12px;
            }

            .property-img {
                height: 120px;
                margin-bottom: 10px;
            }

            .property-card h3 {
                font-size: 14px;
                text-align: center;
            }

            /* Top Bar - mobil uchun tuzatish */
            .top-bar {
                padding: 6px 0;
            }

            .top-bar .container {
                display: flex;
                flex-direction: row;
                gap: 8px;
                padding: 0 10px;
                align-items: center;
                justify-content: space-between;
                flex-wrap: wrap;
            }

            /* Kontakt ma'lumotlari */
            .contact-info {
                display: flex;
                flex-direction: row;
                gap: 8px;
                flex: 1 1 auto;
                min-width: 0;
                flex-wrap: wrap;
                align-items: center;
            }

            .contact-info span {
                font-size: 9px;
                white-space: nowrap;
                display: flex;
                align-items: center;
                gap: 3px;
                flex: 0 0 auto;
            }

            .contact-info span svg {
                width: 11px;
                height: 11px;
                flex-shrink: 0;
            }

            /* Til va valyuta wrapper */
            .lang-currency-wrapper {
                display: flex;
                flex-direction: row;
                gap: 4px;
                flex: 0 0 auto;
                flex-wrap: nowrap;
                align-items: center;
            }

            /* Til tugmalari qatori */
            .lang-selector {
                display: flex;
                gap: 3px;
                flex: 0 0 auto;
            }

            .lang-btn {
                flex: 0 0 auto;
                padding: 5px 10px;
                font-size: 10px;
                min-width: 38px;
                min-height: 32px;
                border-radius: 5px;
                text-align: center;
                display: flex;
                align-items: center;
                justify-content: center;
                white-space: nowrap;
            }

            /* Valyuta tugmalari qatori */
            .currency-selector {
                display: flex;
                gap: 3px;
                flex: 0 0 auto;
                margin-left: 4px;
            }

            .currency-btn {
                flex: 0 0 auto;
                padding: 5px 10px;
                font-size: 10px;
                min-width: 42px;
                min-height: 32px;
                border-radius: 5px;
                text-align: center;
                display: flex;
                align-items: center;
                justify-content: center;
                white-space: nowrap;
            }

            /* Touch feedback */
            .lang-btn:active,
            .currency-btn:active {
                transform: scale(0.95);
                background: rgba(255, 255, 255, 0.9) !important;
                transition: transform 0.1s ease;
            }

            .main-header {
                padding: 10px 0;
                position: sticky;
                top: 0;
                z-index: 100;
                background: var(--header-bg);
                backdrop-filter: blur(10px);
                -webkit-backdrop-filter: blur(10px);
                box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            }

            .main-header .container {
                position: relative;
                display: flex;
                align-items: center;
                justify-content: space-between;
                gap: 12px;
                padding: 0 15px;
            }

            .logo {
                font-size: 22px;
                flex: 0 1 auto;
                min-width: 0;
                white-space: nowrap;
                letter-spacing: 1.5px;
                overflow: hidden;
                text-overflow: ellipsis;
            }

            /* Top bar elementlariga tegmaslik */
            .top-bar * {
                pointer-events: auto !important;
                touch-action: manipulation;
            }

            /* Hide header actions outside nav on mobile */
            .main-header .container > .header-actions {
                display: none !important;
            }

            nav {
                display: none;
            }

            nav.active {
                display: block !important;
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: var(--header-bg);
                backdrop-filter: blur(20px);
                -webkit-backdrop-filter: blur(20px);
                box-shadow: 0 5px 15px rgba(0,0,0,0.1);
                padding: 140px 15px 20px 15px;
                z-index: 9998;
                overflow-y: auto;
                -webkit-overflow-scrolling: touch;
                animation: menuSlideIn 0.3s ease-out;
            }

            @keyframes menuSlideIn {
                from {
                    opacity: 0;
                    transform: scale(0.95) translateY(-20px);
                }
                to {
                    opacity: 1;
                    transform: scale(1) translateY(0);
                }
            }

            /* Top bar doimo ko'rinsin */
            .top-bar {
                position: sticky !important;
                top: 0 !important;
                z-index: 10000 !important;
                background: var(--bg-tertiary) !important;
                transition: transform 0.3s ease, opacity 0.3s ease !important;
            }
            
            .top-bar.hidden {
                transform: translateY(-100%) !important;
                opacity: 0 !important;
                pointer-events: none !important;
            }

            /* Main header ham ko'rinsin */
            .main-header {
                position: sticky !important;
                top: var(--top-bar-height, 60px) !important;
                z-index: 9999 !important;
            }


            /* Telefon va email linklar */
            header .contact-info {
                display: flex;
                flex-direction: column;
                gap: 8px;
                margin-bottom: 10px;
            }

            /* Til tugmalari qatori */
            .language-buttons,
            .lang-selector {
                display: flex;
                gap: 10px;
                justify-content: space-between;
                width: 100%;
            }

            /* Valyuta tugmalari qatori */
            .currency-buttons,
            .currency-selector {
                display: flex;
                gap: 10px;
                justify-content: space-between;
                width: 100%;
                margin-top: 10px;
            }

            /* Agar tugmalar bir qatorda turishi kerak bo'lsa */
            .button-group,
            .lang-currency-wrapper {
                display: grid;
                grid-template-columns: repeat(3, 1fr); /* 3 ta ustun */
                gap: 10px;
                width: 100%;
            }

            .button-group button,
            .lang-currency-wrapper .lang-selector,
            .lang-currency-wrapper .currency-selector {
                margin: 0;
            }


            .hero {
                padding: 60px 0 50px;
                min-height: 450px;
                height: auto;
                position: relative;
            }

            .hero-content {
                max-width: 100%;
                padding: 0 10px;
                text-align: center;
                position: relative;
                z-index: 2;
            }

            .hero h1 {
                font-size: 32px;
                margin-bottom: 18px;
                line-height: 1.2;
                font-weight: 700;
            }

            .hero p {
                font-size: 16px;
                margin-bottom: 30px;
                line-height: 1.6;
                opacity: 0.95;
            }

            .hero-buttons {
                flex-direction: column;
                gap: 14px;
                width: 100%;
                max-width: 100%;
            }

            .hero-buttons .btn-gradient {
                width: 100%;
                padding: 16px 28px;
                font-size: 16px;
                min-height: 52px;
                display: flex;
                align-items: center;
                justify-content: center;
                font-weight: 600;
                border-radius: 30px;
            }

            .hero-world {
                display: none;
            }

            .btn {
                padding: 14px 30px;
                font-size: 14px;
                width: 100%;
                min-height: 48px;
                text-align: center;
            }

            .modal {
                width: 95%;
                max-width: 95%;
                margin: 10px;
                padding: 15px;
            }

            .modal-header {
                padding: 12px 15px;
            }

            .modal-header h2 {
                font-size: 18px;
            }

            .modal-body {
                padding: 15px;
                grid-template-columns: 1fr;
            }

            .modal-image {
                height: 200px;
                border-radius: 12px;
            }

            .newsletter-form {
                flex-direction: column;
                width: 100%;
            }

            .newsletter-form input {
                width: 100%;
                margin-bottom: 10px;
            }

            .newsletter-form button {
                width: 100%;
            }

            .footer-content {
                grid-template-columns: 1fr;
                gap: 25px;
                text-align: center;
            }

            .footer-section h4 {
                font-size: 16px;
                margin-bottom: 12px;
            }

            .footer-section ul li {
                font-size: 13px;
                margin-bottom: 8px;
            }

            .about-stats {
                grid-template-columns: repeat(2, 1fr);
                gap: 12px;
            }

            .about-stat {
                padding: 18px;
            }

            .about-stat-value {
                font-size: 24px;
            }

            .about-stat-label {
                font-size: 12px;
            }

            .contact-card,
            .contact-form {
                padding: 18px;
            }

            .contact-card h3 {
                font-size: 18px;
            }

            .contact-form input,
            .contact-form textarea {
                padding: 12px;
                font-size: 14px;
            }

            .contact-form button {
                width: 100%;
                padding: 14px;
            }

            #pwa-install-btn {
                bottom: 15px;
                right: 15px;
                padding: 10px 18px;
                font-size: 12px;
            }

            .destinations,
            .services,
            .testimonials,
            .newsletter,
            .agency-section,
            .ai-assistant,
            .about-section,
            .contact-section {
                padding: 50px 0;
            }

            .section-header {
                margin-bottom: 40px;
            }
            .section-title {
                font-size: 28px;
                margin-bottom: 10px;
            }

            .section-subtitle {
                font-size: 14px;
            }

            .destination-grid-wrapper {
                margin: 20px -15px;
                padding: 0 15px;
                overflow: hidden;
            }

            .destination-grid {
                gap: 15px;
                padding: 15px 0 25px;
            }

            .destination-card {
                flex: 0 0 260px;
                min-width: 260px;
            }

            .destination-img {
                height: 200px;
            }

            .destination-info {
                padding: 20px;
            }

            .destination-title {
                font-size: 20px;
            }

            .destination-desc {
                font-size: 14px;
            }

            .price {
                font-size: 24px;
            }

            .service-grid {
                grid-template-columns: 1fr;
                gap: 25px;
            }

            .service-card {
                padding: 30px 20px;
            }

            .service-icon {
                font-size: 50px;
            }

            .service-card h3 {
                font-size: 18px;
            }

            .testimonial-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .testimonial-card {
                padding: 25px;
            }

            .newsletter h2 {
                font-size: 26px;
            }

            .newsletter p {
                font-size: 14px;
            }

            .newsletter-form {
                flex-direction: column;
                gap: 12px;
            }

            .newsletter-form input,
            .newsletter-form button {
                width: 100%;
                padding: 14px;
            }

            .ai-card {
                padding: 20px;
            }

            .ai-form {
                grid-template-columns: 1fr;
            }

            .about-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .about-stats {
                grid-template-columns: repeat(2, 1fr);
            }

            .contact-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .contact-card,
            .contact-form {
                padding: 20px;
            }

            .agency-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }

            .agency-card {
                padding: 20px;
            }

            .footer-content {
                grid-template-columns: 1fr;
                gap: 30px;
            }

            footer {
                padding: 50px 0 20px;
            }

            .modal {
                width: 95%;
                max-height: 90vh;
                padding: 20px;
            }

            .modal-body {
                grid-template-columns: 1fr;
            }

            .modal-image {
                height: 200px;
            }

            .all-destinations-grid {
                grid-template-columns: 1fr !important;
                gap: 20px !important;
            }

            #pwa-install-btn {
                bottom: 15px;
                right: 15px;
                padding: 10px 18px;
                font-size: 12px;
            }
        }

        /* Small Devices (phones, 481px to 768px) */
        @media (min-width: 481px) and (max-width: 768px) {
            .container {
                padding: 0 20px;
            }

            html {
                font-size: 15px;
            }

            .destination-card-carousel,
            .explore-card,
            .deal-card {
                min-width: 220px;
            }

            .trending-destinations,
            .explore-uzbekistan,
            .property-type-section,
            .trip-planner-section,
            .weekend-deals-section {
                padding: 50px 0;
            }

            .trip-destinations-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 20px;
            }

            .trip-categories {
                gap: 10px;
            }

            .trip-category-btn {
                padding: 10px 16px;
                font-size: 13px;
            }

            .ai-form {
                grid-template-columns: 1fr;
                gap: 14px;
            }

            .season-month-row {
                grid-template-columns: 1fr 1fr;
            }

            .search-box {
                grid-template-columns: repeat(2, 1fr);
                gap: 15px;
            }

            .cta-btn,
            .btn-gradient {
                min-height: 44px;
            }

            .destination-grid-wrapper {
                margin: 30px -20px;
                padding: 0 20px;
                overflow: hidden;
            }

            .destination-grid {
                gap: 15px;
                padding: 15px 0 25px;
            }

            .destination-card {
                flex: 0 0 280px;
                min-width: 280px;
            }

            .service-grid {
                grid-template-columns: 1fr;
                gap: 25px;
            }

            .testimonial-grid {
                grid-template-columns: 1fr;
                gap: 25px;
            }

            .top-bar .container {
                flex-wrap: wrap;
                gap: 10px;
            }

            .contact-info {
                gap: 15px;
            }

            .main-header {
                padding: 12px 0;
            }

            .main-header .container {
                gap: 15px;
            }

            .logo {
                font-size: 26px;
                letter-spacing: 1.5px;
            }


            /* Hide desktop header actions on mobile */
            .header-actions-desktop {
                display: none !important;
            }

            /* Hide header actions outside nav on mobile */
            .main-header .container > .header-actions {
                display: none !important;
            }

            nav {
                display: none;
            }

            /* Hide nav-links by default on mobile */
            .nav-links {
                display: none;
                flex-direction: column;
                gap: 15px;
                width: 100%;
                padding: 20px;
            }

            /* Show nav-links when active */
            nav.active .nav-links,
            .nav-links.active {
                display: flex !important;
                flex-direction: column;
                gap: 15px;
                width: 100%;
                padding: 20px 0;
                list-style: none;
            }

            nav.active .nav-links li {
                width: 100%;
            }

            nav.active .nav-links a {
                display: block;
                padding: 12px 15px;
                font-size: 16px;
                border-radius: 8px;
                transition: all 0.3s ease;
            }

            nav.active .nav-links a:hover {
                background: rgba(10, 77, 104, 0.1);
                color: #088395;
            }

            nav.active {
                display: block !important;
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: var(--header-bg);
                backdrop-filter: blur(20px);
                -webkit-backdrop-filter: blur(20px);
                box-shadow: 0 5px 15px rgba(0,0,0,0.1);
                padding: 25px 20px;
                padding-top: 70px;
                z-index: 1000;
                overflow-y: auto;
                -webkit-overflow-scrolling: touch;
                animation: menuSlideIn 0.3s ease-out;
            }

            @keyframes menuSlideIn {
                from {
                    opacity: 0;
                    transform: scale(0.95) translateY(-20px);
                }
                to {
                    opacity: 1;
                    transform: scale(1) translateY(0);
                }
            }

            nav.active ul {
                flex-direction: column;
                gap: 10px;
                margin-bottom: 20px;
                list-style: none;
                padding: 0;
                margin: 0 0 20px 0;
                max-height: calc(100vh - 300px);
                overflow-y: auto;
                overflow-x: hidden;
                -webkit-overflow-scrolling: touch;
                padding-right: 10px;
                animation: linksFadeIn 0.4s ease-out 0.1s both;
            }

            @keyframes linksFadeIn {
                from {
                    opacity: 0;
                    transform: translateY(-10px);
                }
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }

            nav.active ul li {
                animation: linkSlideIn 0.3s ease-out both;
            }

            nav.active ul li:nth-child(1) { animation-delay: 0.1s; }
            nav.active ul li:nth-child(2) { animation-delay: 0.15s; }
            nav.active ul li:nth-child(3) { animation-delay: 0.2s; }
            nav.active ul li:nth-child(4) { animation-delay: 0.25s; }

            @keyframes linkSlideIn {
                from {
                    opacity: 0;
                    transform: translateX(-20px);
                }
                to {
                    opacity: 1;
                    transform: translateX(0);
                }
            }

            /* Custom scrollbar for nav menu */
            nav.active ul::-webkit-scrollbar {
                width: 6px;
            }

            nav.active ul::-webkit-scrollbar-track {
                background: rgba(255, 255, 255, 0.1);
                border-radius: 10px;
            }

            nav.active ul::-webkit-scrollbar-thumb {
                background: rgba(10, 77, 104, 0.3);
                border-radius: 10px;
            }

            nav.active ul::-webkit-scrollbar-thumb:hover {
                background: rgba(10, 77, 104, 0.5);
            }

            nav.active a {
                font-size: 16px;
                padding: 14px 12px;
                min-height: 48px;
                display: flex;
                align-items: center;
                color: var(--text-primary);
                text-decoration: none;
                border-radius: 8px;
                transition: background-color 0.2s ease;
            }

            nav.active a:active {
                background-color: rgba(0,0,0,0.05);
            }

            .hero {
                height: auto;
                min-height: 550px;
                padding: 80px 0 50px;
            }

            .hero h1 {
                font-size: 36px;
            }

            .hero p {
                font-size: 18px;
            }

            .hero-buttons {
                gap: 15px;
            }

            .search-section {
                padding: 30px 0;
                margin-top: 0;
            }

            .search-box {
                grid-template-columns: repeat(2, 1fr);
                padding: 25px;
            }

            .destinations,
            .services,
            .testimonials,
            .newsletter,
            .agency-section,
            .ai-assistant,
            .about-section,
            .contact-section {
                padding: 60px 0;
            }

            .section-title {
                font-size: 32px;
            }

            .destination-grid-wrapper,
            .agency-grid-wrapper {
                margin: 35px 0;
                overflow: hidden;
            }

            .destination-grid,
            .agency-grid {
                gap: 20px;
                padding: 20px 0 30px;
            }

            .destination-card,
            .agency-card {
                flex: 0 0 300px;
                min-width: 300px;
            }

            .service-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 30px;
            }

            .testimonial-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 25px;
            }
            .ai-form {
                grid-template-columns: repeat(2, 1fr);
            }

            .about-stats {
                grid-template-columns: repeat(2, 1fr);
            }

            .contact-grid {
                grid-template-columns: 1fr;
            }

            .agency-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .footer-content {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        /* Medium Devices (tablets, 769px to 968px) */
        @media (min-width: 769px) and (max-width: 968px) {
            .hero-world {
                display: none;
            }

            /* Hide desktop nav on tablets */
            .desktop-nav {
                display: none !important;
            }

            /* Hide header-right-group on tablets */
            .header-right-group {
                display: none !important;
            }

            /* Hide header actions desktop on tablets */
            .header-actions-desktop {
                display: none !important;
            }

            /* Hide nav by default */
            nav {
                display: none !important;
            }

            /* Top bar doimo ko'rinsin */
            .top-bar {
                position: sticky !important;
                top: 0 !important;
                z-index: 10000 !important;
                background: var(--bg-tertiary) !important;
                transition: transform 0.3s ease, opacity 0.3s ease !important;
            }
            
            .top-bar.hidden {
                transform: translateY(-100%) !important;
                opacity: 0 !important;
                pointer-events: none !important;
            }

            /* Main header ham ko'rinsin */
            .main-header {
                position: sticky !important;
                top: var(--top-bar-height, 60px) !important;
                z-index: 9999 !important;
            }

            html {
                font-size: 16px;
            }

            .trending-destinations,
            .explore-uzbekistan,
            .property-type-section,
            .trip-planner-section,
            .weekend-deals-section {
                padding: 60px 0;
            }

            .trip-destinations-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 25px;
            }

            .trip-categories {
                gap: 12px;
            }

            .ai-form {
                grid-template-columns: repeat(2, 1fr);
            }

            .season-month-row {
                grid-column: span 2;
            }

            .destination-card-carousel,
            .explore-card,
            .deal-card {
                min-width: 250px;
            }

            .search-box {
                grid-template-columns: repeat(3, 1fr);
            }


            .hero {
                height: auto;
                min-height: 600px;
            }

            .hero h1 {
                font-size: 42px;
            }

            .hero p {
                font-size: 20px;
            }

            .search-box {
                grid-template-columns: repeat(3, 1fr);
            }

            .destination-grid-wrapper {
                margin: 40px 0;
                overflow: hidden;
            }

            .destination-grid {
                gap: 25px;
                padding: 20px 0 40px;
            }

            .destination-card {
                flex: 0 0 320px;
                min-width: 320px;
            }

            .service-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .testimonial-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .newsletter-form {
                flex-direction: row;
            }

            .footer-content {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        /* Large Devices (desktops, 969px and up) */
        @media (min-width: 969px) {
            .hero-world {
                display: block;
            }


            /* On desktop, use desktop-nav instead of mobile nav */
            nav#mainNav {
                display: none !important;
            }

            .desktop-nav {
                display: block;
            }

            html {
                font-size: 16px;
            }

            .trip-destinations-grid {
                grid-template-columns: repeat(3, 1fr);
            }

            .ai-form {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        /* Extra Large Devices (large desktops, 1200px and up) */
        @media (min-width: 1200px) {
            html {
                font-size: 17px;
            }

            .container {
                max-width: 1200px;
            }

            .trip-destinations-grid {
                grid-template-columns: repeat(3, 1fr);
                gap: 30px;
            }

            .destination-card-carousel,
            .explore-card,
            .deal-card {
                min-width: 280px;
            }
        }
    </style>
</head>
<body>
    <!-- Top Bar -->
    <div class="top-bar">
        <div class="container">
            <div class="contact-info">
                <span><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display:inline-block;vertical-align:middle;margin-right:5px;"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/></svg> <span data-text="phone">+998 93 301 52 18</span></span>
                <span><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display:inline-block;vertical-align:middle;margin-right:5px;"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg> <span data-text="email">info@ketmon.uz</span></span>
            </div>
        </div>
    </div>

    <!-- Main Header -->
    <header>
        <div class="main-header">
            <div class="container">
                <a href="#" class="logo">KETMON</a>
                <nav id="mainNav">
                    <ul class="nav-links">
                        <li><a href="#home" data-text="nav_home">Bosh sahifa</a></li>
                        <li><a href="#destinations" data-text="nav_destinations">Yo'nalishlar</a></li>
                        <li><a href="#about" data-text="nav_about">Biz haqimizda</a></li>
                        <li><a href="#contact" data-text="nav_contact">Aloqa</a></li>
                    </ul>
                </nav>
                <div class="header-right-group">
                    <nav class="desktop-nav">
                        <ul>
                            <li><a href="#home" data-text="nav_home">Bosh sahifa</a></li>
                            <li><a href="#destinations" data-text="nav_destinations">Yo'nalishlar</a></li>
                            <li><a href="#about" data-text="nav_about">Biz haqimizda</a></li>
                            <li><a href="#contact" data-text="nav_contact">Aloqa</a></li>
                        </ul>
                    </nav>
                    <div class="header-actions">
                        <a id="topBarLoginBtn" href="#login" class="header-action-btn" data-text="nav_login">Kirish</a>
                        <a id="topBarRegisterBtn" href="#register" class="header-action-btn" data-text="nav_register">Ro'yxatdan o'tish</a>
                        <a id="accountLink" href="profile.html" class="header-action-btn" style="display:none;">Profil</a>
                        <button id="logoutBtn" class="header-action-btn" style="display:none;" onclick="logout()">Chiqish</button>
                    </div>
                    <div class="lang-currency-wrapper">
                        <div class="lang-selector">
                            <button class="lang-btn active" id="langDropdownBtn" onclick="toggleLangDropdown()">
                                <span id="langCurrent">UZ</span>
                                <svg width="12" height="12" viewBox="0 0 12 12" fill="none" stroke="currentColor" stroke-width="2" style="margin-left: 5px; transition: transform 0.3s;" id="langDropdownIcon">
                                    <path d="M2 4l4 4 4-4"/>
                                </svg>
                            </button>
                            <div class="lang-dropdown" id="langDropdown">
                                <button class="lang-dropdown-item active" onclick="selectLang('uz')">UZ</button>
                                <button class="lang-dropdown-item" onclick="selectLang('ru')">RU</button>
                                <button class="lang-dropdown-item" onclick="selectLang('en')">EN</button>
                            </div>
                        </div>
                        <div class="currency-selector">
                            <button class="currency-btn active" id="currencyDropdownBtn" onclick="toggleCurrencyDropdown()">
                                <span id="currencyCurrent">SUM</span>
                                <svg width="12" height="12" viewBox="0 0 12 12" fill="none" stroke="currentColor" stroke-width="2" style="margin-left: 5px; transition: transform 0.3s;" id="currencyDropdownIcon">
                                    <path d="M2 4l4 4 4-4"/>
                                </svg>
                            </button>
                            <div class="currency-dropdown" id="currencyDropdown">
                                <button class="currency-dropdown-item active" onclick="selectCurrency('sum')">SUM</button>
                                <button class="currency-dropdown-item" onclick="selectCurrency('usd')">USD</button>
                                <button class="currency-dropdown-item" onclick="selectCurrency('rub')">RUB</button>
                            </div>
                        </div>
                        <button class="header-theme-toggle" id="topBarThemeToggle" aria-label="Toggle theme" title="Tema o'zgartirish">🌙</button>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Search Section -->
    <section class="search-section" id="home">
        <div class="container">
            <div class="search-box">
                <div class="search-input">
                    <label data-text="search_destination">Yo'nalish</label>
                    <input type="text" placeholder="Qayerga bormoqchisiz?" data-placeholder="search_destination_placeholder">
                </div>
                <div class="search-input">
                    <label data-text="search_date">Sana</label>
                    <input type="date">
                </div>
                <div class="search-input">
                    <label data-text="search_duration">Davomiyligi</label>
                    <select>
                        <option data-text="duration_3">3 kun</option>
                        <option data-text="duration_7">7 kun</option>
                        <option data-text="duration_14">14 kun</option>
                        <option data-text="duration_custom">Boshqa</option>
                    </select>
                </div>
                <div class="search-input">
                    <label data-text="search_agency">Agentlik</label>
                    <select id="agencyFilter">
                        <option value="all" data-text="agency_select_all">Barcha agentliklar</option>
                        <option value="atlas" data-text="agency_atlas_name">Atlas Travel</option>
                        <option value="samarqand" data-text="agency_samarqand_name">Samarqand Tours</option>
                        <option value="nomad" data-text="agency_nomad_name">Nomad Explorer</option>
                        <option value="silk" data-text="agency_silk_name">Silk Road Elite</option>
                        <option value="azialux" data-text="agency_azialux_name">AziaLux Travel</option>
                        <option value="clubtravel" data-text="agency_clubtravel_name">ClubTravel UZ</option>
                        <option value="globalvoyage" data-text="agency_globalvoyage_name">Global Voyage Hub</option>
                    </select>
                </div>
                <div class="search-input">
                    <label data-text="search_guests">Odamlar soni</label>
                    <select>
                        <option>1</option>
                        <option>2</option>
                        <option>3-5</option>
                        <option>6+</option>
                    </select>
                </div>
                <button class="search-btn" data-text="search_btn">Qidirish</button>
            </div>
        </div>
    </section>
    <!-- Destinations -->
    <section class="destinations" id="destinations">
        <div class="container">
            <div class="section-header">
                <button type="button" class="section-title destinations-title-btn" onclick="showAllDestinations()" data-text="destinations_title" style="background: none; border: none; cursor: pointer; padding: 0; text-align: center; width: 100%;">Mashhur Yo'nalishlar</button>
                <p class="section-subtitle" data-text="destinations_subtitle">Eng yaxshi takliflarimiz</p>
            </div>
            <div class="destination-grid-wrapper">
                <div class="destination-grid">
                <div class="destination-card" data-agency="atlas" data-type="local">
                    <div class="destination-img">
                        <img src="https://images.unsplash.com/photo-1512453979798-5ea266f8880c?q=80&w=1200&auto=format&fit=crop" alt="Dubai skyline and city view">
                        <div class="destination-badge" data-text="badge_popular">Mashhur</div>
                    </div>
                    <div class="destination-info">
                        <h3 class="destination-title" data-text="dest1_name">Dubay, BAA</h3>
                        <p class="destination-desc" data-text="dest1_desc">Zamonaviy arxitektura va qadimiy an'analarning ajoyib uyg'unligi</p>
                        <div class="destination-footer">
                            <div>
                                <div class="price">$1,200</div>
                                <div class="price-label" data-text="price_per_person">kishi uchun</div>
                            </div>
                            <span class="agency-tag" data-text="agency_atlas_name">Atlas Travel</span>
                        </div>
                        <a href="#home" class="destination-book-btn cta-btn" data-text="nav_book">Bron qilish</a>
                    </div>
                </div>

                <div class="destination-card" data-agency="samarqand" data-type="local">
                    <div class="destination-img">
                        <img src="https://images.unsplash.com/photo-1502602898657-3e91760cbb34?q=80&w=1200&auto=format&fit=crop" alt="Paris Eiffel Tower">
                        <div class="destination-badge" data-text="badge_sale">Chegirma</div>
                    </div>
                    <div class="destination-info">
                        <h3 class="destination-title" data-text="dest2_name">Parij, Fransiya</h3>
                        <p class="destination-desc" data-text="dest2_desc">Sevgi va romantika poytaxti, go'zal arxitektura</p>
                        <div class="destination-footer">
                            <div>
                                <div class="price">$1,500</div>
                                <div class="price-label" data-text="price_per_person">kishi uchun</div>
                            </div>
                            <span class="agency-tag" data-text="agency_samarqand_name">Samarqand Tours</span>
                        </div>
                        <a href="#home" class="destination-book-btn cta-btn" data-text="nav_book">Bron qilish</a>
                    </div>
                </div>

                <div class="destination-card" data-agency="nomad" data-type="local">
                    <div class="destination-img">
                        <img src="https://images.unsplash.com/photo-1551882547-ff40c63fe5fa?q=80&w=1200&auto=format&fit=crop" alt="Istanbul Bosphorus and mosque">
                        <div class="destination-badge" data-text="badge_new">Yangi</div>
                    </div>
                    <div class="destination-info">
                        <h3 class="destination-title" data-text="dest3_name">Istanbul, Turkiya</h3>
                        <p class="destination-desc" data-text="dest3_desc">Sharq va G'arb madaniyatining ajoyib qo'shilishi</p>
                        <div class="destination-footer">
                            <div>
                                <div class="price">$800</div>
                                <div class="price-label" data-text="price_per_person">kishi uchun</div>
                            </div>
                            <span class="agency-tag" data-text="agency_nomad_name">Nomad Explorer</span>
                        </div>
                        <a href="#home" class="destination-book-btn cta-btn" data-text="nav_book">Bron qilish</a>
                    </div>
                </div>

                <div class="destination-card" data-agency="silk" data-type="international">
                    <div class="destination-img">
                        <img src="https://images.unsplash.com/photo-1504194104404-433180773017?q=80&w=1200&auto=format&fit=crop" alt="Switzerland Alps mountain landscape">
                    </div>
                    <div class="destination-info">
                        <h3 class="destination-title" data-text="dest4_name">Shveysariya</h3>
                        <p class="destination-desc" data-text="dest4_desc">Alp tog'lari va kristal toza ko'llar</p>
                        <div class="destination-footer">
                            <div>
                                <div class="price">$2,000</div>
                                <div class="price-label" data-text="price_per_person">kishi uchun</div>
                            </div>
                            <span class="agency-tag" data-text="agency_silk_name">Silk Road Elite</span>
                        </div>
                        <a href="#home" class="destination-book-btn cta-btn" data-text="nav_book">Bron qilish</a>
                    </div>
                </div>

                <div class="destination-card" data-agency="atlas" data-type="local">
                    <div class="destination-img">
                        <img src="https://images.unsplash.com/photo-1540959733332-eab4deabeeaf?q=80&w=1200&auto=format&fit=crop" alt="Tokyo city with nature scenery">
                    </div>
                    <div class="destination-info">
                        <h3 class="destination-title" data-text="dest5_name">Tokio, Yaponiya</h3>
                        <p class="destination-desc" data-text="dest5_desc">Texnologiya va an'analarning noyob uyg'unligi</p>
                        <div class="destination-footer">
                            <div>
                                <div class="price">$1,800</div>
                                <div class="price-label" data-text="price_per_person">kishi uchun</div>
                            </div>
                            <span class="agency-tag" data-text="agency_atlas_name">Atlas Travel</span>
                        </div>
                        <a href="#home" class="destination-book-btn cta-btn" data-text="nav_book">Bron qilish</a>
                    </div>
                </div>

                <div class="destination-card" data-agency="samarqand" data-type="local">
                    <div class="destination-img">
                        <img src="https://images.unsplash.com/photo-1531572753322-ad063cecc140?q=80&w=1200&auto=format&fit=crop" alt="Rome historical architecture">
                    </div>
                    <div class="destination-info">
                        <h3 class="destination-title" data-text="dest6_name">Rim, Italiya</h3>
                        <p class="destination-desc" data-text="dest6_desc">Qadimiy tarix va ajoyib arxitektura</p>
                        <div class="destination-footer">
                            <div>
                                <div class="price">$1,400</div>
                                <div class="price-label" data-text="price_per_person">kishi uchun</div>
                            </div>
                            <span class="agency-tag" data-text="agency_samarqand_name">Samarqand Tours</span>
                        </div>
                        <a href="#home" class="destination-book-btn cta-btn" data-text="nav_book">Bron qilish</a>
                    </div>
                </div>

                <div class="destination-card" data-agency="azialux" data-type="international">
                    <div class="destination-img">
                        <img src="https://images.unsplash.com/photo-1493809842364-78817add7ffb?auto=format&fit=crop&w=1200&q=80" alt="Bangkok night markets">
                        <div class="destination-badge" data-text="badge_popular">Mashhur</div>
                    </div>
                    <div class="destination-info">
                        <h3 class="destination-title" data-text="dest7_name">Bangkok Gourmet, Tailand</h3>
                        <p class="destination-desc" data-text="dest7_desc">Gastro sayohatlar, Michelin restoranlari va shaxsiy gidlar.</p>
                        <div class="destination-footer">
                            <div>
                                <div class="price">$1,650</div>
                                <div class="price-label" data-text="price_per_person">kishi uchun</div>
                            </div>
                            <span class="agency-tag" data-text="agency_azialux_name">AziaLux Travel</span>
                        </div>
                        <a href="#home" class="destination-book-btn cta-btn" data-text="nav_book">Bron qilish</a>
                    </div>
                </div>

                <div class="destination-card" data-agency="clubtravel" data-type="local">
                    <div class="destination-img">
                        <img src="https://images.unsplash.com/photo-1505761671935-60b3a7427bad?auto=format&fit=crop&w=1200&q=80" alt="Baku evening skyline">
                        <div class="destination-badge" data-text="badge_sale">Chegirma</div>
                    </div>
                    <div class="destination-info">
                        <h3 class="destination-title" data-text="dest9_name">Boku Weekend, Ozarbayjon</h3>
                        <p class="destination-desc" data-text="dest9_desc">Toshkentdan to'g'ridan-to'g'ri reys, 4* mehmonxona va shahar sayohati.</p>
                        <div class="destination-footer">
                            <div>
                                <div class="price">$690</div>
                                <div class="price-label" data-text="price_per_person">kishi uchun</div>
                            </div>
                            <span class="agency-tag" data-text="agency_clubtravel_name">ClubTravel UZ</span>
                        </div>
                        <a href="#home" class="destination-book-btn cta-btn" data-text="nav_book">Bron qilish</a>
                    </div>
                </div>

                <div class="destination-card" data-agency="globalvoyage" data-type="international">
                    <div class="destination-img">
                        <img src="https://images.unsplash.com/photo-1521295121783-8a321d551ad2?auto=format&fit=crop&w=1200&q=80" alt="London business skyline">
                        <div class="destination-badge" data-text="badge_new">Yangi</div>
                    </div>
                    <div class="destination-info">
                        <h3 class="destination-title" data-text="dest8_name">London Summit, Buyuk Britaniya</h3>
                        <p class="destination-desc" data-text="dest8_desc">Biznes konferensiya paketi, premium mehmonxona va transferlar.</p>
                        <div class="destination-footer">
                            <div>
                                <div class="price">$2,450</div>
                                <div class="price-label" data-text="price_per_person">kishi uchun</div>
                            </div>
                            <span class="agency-tag" data-text="agency_globalvoyage_name">Global Voyage Hub</span>
                        </div>
                        <a href="#home" class="destination-book-btn cta-btn" data-text="nav_book">Bron qilish</a>
                    </div>
                </div>
                </div>
            </div>
        </div>
    </section>

    <!-- AI Assistant Section -->
    <section class="ai-assistant" id="ai">
        <div class="container">
            <div class="ai-card">
                <div class="ai-header">
                    <span class="ai-icon">🤖</span>
                    <div>
                        <h3 data-text="ai_assistant_title">Smart AI yordamchi</h3>
                        <p data-text="ai_assistant_subtitle">Budjetingiz, yo'nalishingiz va sanalarga qarab mos tur paketlarni tavsiya qiladi.</p>
                    </div>
                </div>
                <form class="ai-form" id="aiForm">
                    <div class="ai-field">
                        <label for="aiBudget" data-text="ai_budget_label">Budjet (USD)</label>
                        <input type="number" id="aiBudget" placeholder="1500" data-placeholder="ai_budget_placeholder" min="100">
                    </div>
                    <div class="ai-field">
                        <label for="aiDestination" data-text="ai_destination_label">Qiziqqan yo'nalish</label>
                        <input type="text" id="aiDestination" placeholder="Osiyo, Yevropa..." data-placeholder="ai_destination_placeholder">
                    </div>
                    <div class="ai-field season-month-row">
                        <div class="ai-field">
                            <label for="aiSeason" data-text="ai_season_label">Qaysi fasllar</label>
                            <select id="aiSeason">
                                <option value="summer" data-text="ai_season_summer">Yoz</option>
                                <option value="autumn" data-text="ai_season_autumn">Kuz</option>
                                <option value="winter" data-text="ai_season_winter">Qish</option>
                                <option value="spring" data-text="ai_season_spring">Bahor</option>
                            </select>
                        </div>
                        <div class="ai-field" id="aiMonthField" style="display: none;">
                            <label for="aiMonth" data-text="ai_month_label">Oy</label>
                            <select id="aiMonth">
                                <option value="" data-text="ai_month_select">Tanlang</option>
                                <option value="january" data-text="ai_month_january">Yanvar</option>
                                <option value="february" data-text="ai_month_february">Fevral</option>
                                <option value="march" data-text="ai_month_march">Mart</option>
                                <option value="april" data-text="ai_month_april">Aprel</option>
                                <option value="may" data-text="ai_month_may">May</option>
                                <option value="june" data-text="ai_month_june">Iyun</option>
                                <option value="july" data-text="ai_month_july">Iyul</option>
                                <option value="august" data-text="ai_month_august">Avgust</option>
                                <option value="september" data-text="ai_month_september">Sentabr</option>
                                <option value="october" data-text="ai_month_october">Oktabr</option>
                                <option value="november" data-text="ai_month_november">Noyabr</option>
                                <option value="december" data-text="ai_month_december">Dekabr</option>
                            </select>
                        </div>
                    </div>
                    <button type="submit" class="btn-gradient ai-submit" data-text="ai_generate_btn">Tavsiyalarni ko'rish</button>
                </form>
                <div class="ai-response" id="aiResponse" data-text="ai_response_placeholder">Savolingizni kiriting va AI yordamchidan tavsiyalar oling.</div>
            </div>
        </div>
    </section>

    <!-- Partner Agencies -->
    <section class="agency-section" id="agencies">
        <div class="container">
            <div class="section-header">
                <button type="button" class="section-title agencies-title-btn" onclick="showAllAgencies()" data-text="agency_section_title" style="background: none; border: none; cursor: pointer; padding: 0; text-align: center; width: 100%;">Hamkor Agentliklar</button>
                <p class="section-subtitle" data-text="agency_section_subtitle">Eng ishonchli sayohat hamkorlarini tanlang</p>
            </div>
            <div class="agency-toolbar">
                <button type="button" class="active" data-filter="all" data-text="agency_filter_all">Barcha hamkorlar</button>
                <button type="button" data-filter="local" data-text="agency_filter_local">O'zbek sayyohlari uchun</button>
                <button type="button" data-filter="international" data-text="agency_filter_global">Xorijiy sayyohlar uchun</button>
            </div>
            <div class="agency-grid-wrapper">
                <div class="agency-grid">
                <div class="agency-card" data-agency="atlas" data-type="local">
                    <div class="agency-flair"></div>
                    <button type="button" class="agency-badge" onclick="showLicense('atlas')" data-text="agency_badge_verified">★ <span data-text="agency_badge_verified">Tasdiqlangan</span></button>
                    <h3 data-text="agency_atlas_name">Atlas Travel</h3>
                    <p data-text="agency_atlas_desc">Markaziy Osiyodan dunyoning 40+ manziliga premium paketlar va VIP xizmatlar.</p>
                    <div class="cta">
                        <span data-text="agency_view_tours">Agentlik turlarini ko'rish</span>
                        <span>→</span>
                    </div>
                </div>
                <div class="agency-card" data-agency="samarqand" data-type="local">
                    <div class="agency-flair"></div>
                    <button type="button" class="agency-badge" onclick="showLicense('samarqand')" data-text="agency_badge_verified">★ <span data-text="agency_badge_verified">Tasdiqlangan</span></button>
                    <h3 data-text="agency_samarqand_name">Samarqand Tours</h3>
                    <p data-text="agency_samarqand_desc">Madaniy sayohatlar, tarixiy gidlar va mahalliy tajribalar bo'yicha mutaxassis.</p>
                    <div class="cta">
                        <span data-text="agency_view_tours">Agentlik turlarini ko'rish</span>
                        <span>→</span>
                    </div>
                </div>
                <div class="agency-card" data-agency="nomad" data-type="local">
                    <div class="agency-flair"></div>
                    <button type="button" class="agency-badge" onclick="showLicense('nomad')" data-text="agency_badge_verified">★ <span data-text="agency_badge_verified">Tasdiqlangan</span></button>
                    <h3 data-text="agency_nomad_name">Nomad Explorer</h3>
                    <p data-text="agency_nomad_desc">Aktiv sayohatlar, tog' yurishlari va ekologik turizm bo'yicha mutaxassis.</p>
                    <div class="cta">
                        <span data-text="agency_view_tours">Agentlik turlarini ko'rish</span>
                        <span>→</span>
                    </div>
                </div>
                <div class="agency-card" data-agency="clubtravel" data-type="local">
                    <div class="agency-flair"></div>
                    <button type="button" class="agency-badge" onclick="showLicense('clubtravel')" data-text="agency_badge_verified">★ <span data-text="agency_badge_verified">Tasdiqlangan</span></button>
                    <h3 data-text="agency_clubtravel_name">ClubTravel UZ</h3>
                    <p data-text="agency_clubtravel_desc">Oila va guruhlar uchun hamyonbop paketlar, Toshkentdan charter reyslar.</p>
                    <div class="cta">
                        <span data-text="agency_view_tours">Agentlik turlarini ko'rish</span>
                        <span>→</span>
                    </div>
                </div>
                <div class="agency-card" data-agency="silk" data-type="international">
                    <div class="agency-flair"></div>
                    <button type="button" class="agency-badge" onclick="showLicense('silk')" data-text="agency_badge_verified">★ <span data-text="agency_badge_verified">Tasdiqlangan</span></button>
                    <h3 data-text="agency_silk_name">Silk Road Elite</h3>
                    <p data-text="agency_silk_desc">Luks mehmonxonalar, TNPL rejalar va shaxsiy gidlar bilan premium xizmat.</p>
                    <div class="cta">
                        <span data-text="agency_view_tours">Agentlik turlarini ko'rish</span>
                        <span>→</span>
                    </div>
                </div>
                <div class="agency-card" data-agency="azialux" data-type="international">
                    <div class="agency-flair"></div>
                    <button type="button" class="agency-badge" onclick="showLicense('azialux')" data-text="agency_badge_verified">★ <span data-text="agency_badge_verified">Tasdiqlangan</span></button>
                    <h3 data-text="agency_azialux_name">AziaLux Travel</h3>
                    <p data-text="agency_azialux_desc">Osiyo va Yevropadagi eksklyuziv gastro-turlar, premium servis va gidlar.</p>
                    <div class="cta">
                        <span data-text="agency_view_tours">Agentlik turlarini ko'rish</span>
                        <span>→</span>
                    </div>
                </div>
                <div class="agency-card" data-agency="globalvoyage" data-type="international">
                    <div class="agency-flair"></div>
                    <button type="button" class="agency-badge" onclick="showLicense('globalvoyage')" data-text="agency_badge_verified">★ <span data-text="agency_badge_verified">Tasdiqlangan</span></button>
                    <h3 data-text="agency_globalvoyage_name">Global Voyage Hub</h3>
                    <p data-text="agency_globalvoyage_desc">Xalqaro konferensiya va MICE turlar, 24/7 qo'llab-quvvatlash va viza xizmati.</p>
                    <div class="cta">
                        <span data-text="agency_view_tours">Agentlik turlarini ko'rish</span>
                        <span>→</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section class="about-section" id="about">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title" data-text="about_title">KETMON haqida</h2>
                <p class="section-subtitle" data-text="about_subtitle">Markaziy Osiyoning eng ishonchli sayohat marketpleysida agentliklar va sayohatchilar birlashadi.</p>
            </div>
            <div class="about-grid">
                <div class="about-story">
                    <h3 data-text="about_story_title">Missiyamiz</h3>
                    <p data-text="about_story_body1">Ketmon qadriyatlaridan ilhomlanib, biz doimo mehnatsevarlik va taraqqiyot ramzini xizmatlarimiz markaziga qo'yamiz.</p>
                    <p data-text="about_story_body2">Platformamizda tasdiqlangan agentliklar, shaffof narxlar va TNPL imkoniyatlari yordamida sayohatchilar vaqtini va byudjetini tejashadi.</p>
                    <ul class="about-bullets">
                        <li><span>•</span><span data-text="about_bullet_network">Hamkorlarimiz real vaqt rejimida paketlarni yangilaydi va video-reels orqali yo'nalishlarni jonlantiradi.</span></li>
                        <li><span>•</span><span data-text="about_bullet_support">24/7 yordam, integratsiyalangan chat va Telegram bildirishnomalari bilan agentliklar mijozlar bilan tezkor aloqa qiladi.</span></li>
                        <li><span>•</span><span data-text="about_bullet_ai">AI tavsiyalari shaxsiylashgan marshrutlarni taklif etib, sayohatchilarga tez qaror qabul qilishga yordam beradi.</span></li>
                    </ul>
                </div>
                <div class="about-stats">
                    <div class="about-stat">
                        <div class="about-stat-value" data-text="about_stat_partners_value">120+</div>
                        <div class="about-stat-label" data-text="about_stat_partners_label">hamkor agentliklar</div>
                    </div>
                    <div class="about-stat">
                        <div class="about-stat-value" data-text="about_stat_tours_value">650+</div>
                        <div class="about-stat-label" data-text="about_stat_tours_label">faol tur paketlar</div>
                    </div>
                    <div class="about-stat">
                        <div class="about-stat-value" data-text="about_stat_travelers_value">45k+</div>
                        <div class="about-stat-label" data-text="about_stat_travelers_label">mamnun sayohatchilar</div>
                    </div>
                    <div class="about-stat">
                        <div class="about-stat-value" data-text="about_stat_languages_value">8</div>
                        <div class="about-stat-label" data-text="about_stat_languages_label">tilda qo'llab-quvvatlash</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

        <!-- Contact (anchor target) -->
        <section id="contact" class="contact-section">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title" data-text="contact_title">Aloqada bo'laylik</h2>
                    <p class="section-subtitle" data-text="contact_subtitle">Savol va takliflaringizni qoldiring — jamoamiz 24/7 yordam beradi.</p>
                </div>
                <div class="contact-grid">
                    <div class="contact-card">
                        <h3 data-text="contact_info_title">Nega KETMON?</h3>
                        <p data-text="contact_info_body">Ketmon orqali siz tasdiqlangan agentliklar bilan ishlaysiz, narxlarni solishtirasiz va TNPL orqali to'lovlarni bo'lib-bo'lib amalga oshirasiz. Mijozlar va agentliklar uchun yagona panel barcha jarayonlarni bir joyga jamlaydi.</p>
                        <ul class="contact-details">
                            <li>
                                <span class="icon"><svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/></svg></span>
                                <div>
                                    <strong data-text="contact_phone_label">Telefon</strong>
                                    <span data-text="contact_phone_value">+998 90 765 43 21</span>
                                </div>
                            </li>
                            <li>
                                <span class="icon"><svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg></span>
                                <div>
                                    <strong data-text="contact_email_label">Email</strong>
                                    <span data-text="contact_email_value">support@ketmon.uz</span>
                                </div>
                            </li>
                            <li>
                                <span class="icon"><svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/><circle cx="12" cy="10" r="3"/></svg></span>
                                <div>
                                    <strong data-text="contact_address_label">Manzil</strong>
                                    <span data-text="contact_address_value">Toshkent, Navoiy ko'chasi 12, KETMON HUB</span>
                                </div>
                            </li>
                        </ul>
                    </div>
                    <form class="contact-form" id="contactForm">
                        <div>
                            <label for="contactName" data-text="contact_form_name_label">Ism</label>
                            <input type="text" id="contactName" name="name" placeholder="Ismingiz" data-placeholder="contact_form_name_placeholder" required>
                        </div>
                        <div>
                            <label for="contactEmail" data-text="contact_form_email_label">Email</label>
                            <input type="email" id="contactEmail" name="email" placeholder="you@example.com" data-placeholder="contact_form_email_placeholder" required>
                        </div>
                        <div>
                            <label for="contactMessage" data-text="contact_form_message_label">Xabar</label>
                            <textarea id="contactMessage" name="message" rows="4" placeholder="Savolingizni yozing..." data-placeholder="contact_form_message_placeholder" required></textarea>
                        </div>
                        <button type="submit" class="btn-gradient" data-text="contact_submit_btn">Yuborish</button>
                        <div class="contact-status" id="contactStatus" data-text="contact_status_placeholder">Yuborilgan xabarlarimizga odatda 30 daqiqada javob beramiz.</div>
                    </form>
                </div>
            </div>
        </section>

        <!-- Tour Details Modal -->
        <div class="modal-backdrop" id="tourModal">
            <div class="modal" role="dialog" aria-modal="true" aria-labelledby="tourModalTitle">
                <div class="modal-header">
                    <div class="modal-title" id="tourModalTitle">Tour</div>
                    <button class="modal-close" aria-label="Close" id="tourModalClose">×</button>
                </div>
                <div class="modal-body">
                    <div class="modal-image">
                        <img id="tourModalImage" src="" alt="Tour image">
                    </div>
                    <div class="modal-info">
                        <p id="tourModalDescription">Description</p>
                        <div class="modal-meta" id="tourModalMeta">
                            <!-- chips injected -->
                        </div>
                        <div class="modal-actions">
                            <button class="btn-primary" id="tourBookBtn" data-text="nav_book">Bron qilish</button>
                            <a href="#contact" class="btn-primary" data-text="hero_btn2">Maslahat Olish</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Login Modal -->
        <div class="modal-backdrop" id="loginModal">
            <div class="modal" role="dialog" aria-modal="true" aria-labelledby="loginModalTitle">
                <div class="modal-header">
                    <div class="modal-title" id="loginModalTitle" data-text="nav_login">Kirish</div>
                    <button class="modal-close" aria-label="Close" id="loginModalClose">×</button>
                </div>
                <form class="modal-form" id="loginForm">
                    <!-- Saved Account Display -->
                    <div id="savedAccountDisplay" style="display: none; background: var(--bg-secondary); padding: 15px; border-radius: 8px; margin-bottom: 20px; border: 2px solid var(--accent-primary);">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
                            <div>
                                <div style="font-weight: 600; color: var(--text-primary); margin-bottom: 4px;">Saqlangan akkaunt</div>
                                <div id="savedAccountEmail" style="color: var(--text-secondary); font-size: 14px;"></div>
                            </div>
                            <button type="button" id="forgetAccountBtn" style="background: transparent; border: none; color: var(--accent-primary); cursor: pointer; font-size: 12px; text-decoration: underline;">Unutish</button>
                        </div>
                        <button type="button" id="useSavedAccountBtn" class="btn-primary" style="width: 100%; margin-bottom: 8px;">Saqlangan akkaunt bilan kirish</button>
                        <button type="button" id="enterNewAccountBtn" style="background: transparent; border: none; color: var(--accent-primary); cursor: pointer; font-size: 12px; width: 100%; text-decoration: underline;">Boshqa akkaunt bilan kirish</button>
                    </div>

                    <div id="loginFormFields">
                        <div class="form-field">
                            <label for="loginEmail" data-text="login_email_label">Email</label>
                            <input id="loginEmail" type="email" placeholder="you@example.com" data-placeholder="login_email_placeholder" required>
                        </div>
                        <div class="form-field">
                            <label for="loginPassword" data-text="login_password_label">Parol</label>
                            <input id="loginPassword" type="password" placeholder="••••••••" data-placeholder="login_password_placeholder" minlength="4" required>
                        </div>
                        <div class="form-field" style="margin-bottom: 16px;">
                            <label for="rememberMe" style="display: flex; align-items: center; gap: 6px; margin: 0; font-weight: normal; cursor: pointer; font-size: 14px;">
                                <input type="checkbox" id="rememberMe" style="width: 18px; height: 18px; min-width: 18px; min-height: 18px; cursor: pointer; flex-shrink: 0; margin: 0;">
                                <span>Akkauntni saqlash</span>
                            </label>
                        </div>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn-primary" data-text="nav_login">Kirish</button>
                        <button type="button" class="btn-primary" id="loginToRegister" data-text="register_switch">Ro'yxatdan o'tish</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Register Modal -->
        <div class="modal-backdrop" id="registerModal">
            <div class="modal" role="dialog" aria-modal="true" aria-labelledby="registerModalTitle">
                <div class="modal-header">
                    <div class="modal-title" id="registerModalTitle" data-text="nav_register">Ro'yxatdan o'tish</div>
                    <button class="modal-close" aria-label="Close" id="registerModalClose">×</button>
                </div>
                <form class="modal-form" id="registerForm">
                    <div class="form-field" style="margin-bottom:4px;">
                        <label data-text="register_role_label">Ro'l tanlang</label>
                        <div class="segmented" role="tablist" aria-label="Register type">
                            <button type="button" id="regTabCustomer" class="active" aria-selected="true" data-text="register_customer_tab">Mijoz</button>
                            <button type="button" id="regTabAgency" aria-selected="false" data-text="register_agency_tab">Agentlik</button>
                        </div>
                    </div>
                    <input type="hidden" id="regRole" value="customer">
                    <div id="regFieldsCustomer">
                        <div class="form-field">
                            <label for="regName" data-text="register_name_label">Ism</label>
                            <input id="regName" type="text" placeholder="Ismingiz" data-placeholder="register_name_placeholder" minlength="2" required>
                        </div>
                        <div class="form-field">
                            <label for="regEmail" data-text="register_email_label">Email</label>
                            <input id="regEmail" type="email" placeholder="you@example.com" data-placeholder="register_email_placeholder" required>
                        </div>
                        <div class="form-field">
                            <label for="regPassword" data-text="register_password_label">Parol</label>
                            <input id="regPassword" type="password" placeholder="••••••••" data-placeholder="register_password_placeholder" minlength="6" required>
                        </div>
                    </div>
                    <div id="regFieldsAgency" class="hidden">
                        <div class="form-field">
                            <label for="regAgencyName" data-text="register_agency_name_label">Agentlik nomi</label>
                            <input id="regAgencyName" type="text" placeholder="Agentlik nomi" data-placeholder="register_agency_name_placeholder" minlength="2">
                        </div>
                        <div class="form-field">
                            <label for="regLicense" data-text="register_license_label">Litsenziya raqami</label>
                            <input id="regLicense" type="text" placeholder="ABC-123456" data-placeholder="register_license_placeholder">
                        </div>
                        <div class="form-field">
                            <label for="regAgencyEmail" data-text="register_agency_email_label">Agentlik Email</label>
                            <input id="regAgencyEmail" type="email" placeholder="agency@example.com" data-placeholder="register_agency_email_placeholder">
                        </div>
                        <div class="form-field">
                            <label for="regAgencyPhone" data-text="register_agency_phone_label">Telefon</label>
                            <input id="regAgencyPhone" type="tel" placeholder="+998 xx xxx xx xx" data-placeholder="register_agency_phone_placeholder">
                        </div>
                        <div class="form-field">
                            <label for="regAgencyPassword" data-text="register_agency_password_label">Parol</label>
                            <input id="regAgencyPassword" type="password" placeholder="••••••••" data-placeholder="register_agency_password_placeholder" minlength="6">
                        </div>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn-primary" data-text="register_submit">Yaratish</button>
                        <button type="button" class="btn-primary" id="registerToLogin" data-text="nav_login">Kirish</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- License Modal -->
        <div class="modal-backdrop" id="licenseModal">
            <div class="modal" role="dialog" aria-modal="true" aria-labelledby="licenseModalTitle">
                <div class="modal-header">
                    <div class="modal-title" id="licenseModalTitle" data-text="license_title">Sayohat Agentligi Litsenziyasi</div>
                    <button class="modal-close" aria-label="Close" id="licenseModalClose">×</button>
                </div>
                <div class="modal-body" style="grid-template-columns: 1fr; padding: 25px;">
                    <div class="license-content">
                        <div class="license-header" style="text-align: center; margin-bottom: 25px; padding-bottom: 20px; border-bottom: 2px solid var(--border-color);">
                            <h3 id="licenseAgencyName" style="font-size: 24px; font-weight: 700; color: var(--text-primary); margin-bottom: 10px;"></h3>
                            <p style="color: var(--text-secondary); font-size: 14px;" data-text="license_verified">Tasdiqlangan sayohat agentligi</p>
                        </div>
                        <div class="license-details" style="display: grid; gap: 20px;">
                            <div class="license-item">
                                <strong style="color: var(--text-primary); display: block; margin-bottom: 8px;" data-text="license_number">Litsenziya raqami:</strong>
                                <span id="licenseNumber" style="color: var(--text-secondary); font-family: monospace; font-size: 16px;"></span>
                            </div>
                            <div class="license-item">
                                <strong style="color: var(--text-primary); display: block; margin-bottom: 8px;" data-text="license_issued">Berilgan sana:</strong>
                                <span id="licenseIssued" style="color: var(--text-secondary);"></span>
                            </div>
                            <div class="license-item">
                                <strong style="color: var(--text-primary); display: block; margin-bottom: 8px;" data-text="license_expires">Amal qilish muddati:</strong>
                                <span id="licenseExpires" style="color: var(--text-secondary);"></span>
                            </div>
                            <div class="license-item">
                                <strong style="color: var(--text-primary); display: block; margin-bottom: 8px;" data-text="license_authority">Bergan organ:</strong>
                                <span id="licenseAuthority" style="color: var(--text-secondary);"></span>
                            </div>
                            <div class="license-item">
                                <strong style="color: var(--text-primary); display: block; margin-bottom: 8px;" data-text="license_status">Holati:</strong>
                                <span id="licenseStatus" style="color: #10b981; font-weight: 600;">✓ <span data-text="license_active">Faol</span></span>
                            </div>
                        </div>
                        <div class="license-note" style="margin-top: 25px; padding: 15px; background: var(--bg-secondary); border-radius: 12px; border-left: 4px solid var(--accent-primary);">
                            <p style="color: var(--text-secondary); font-size: 14px; line-height: 1.6; margin: 0;" data-text="license_note">Ushbu litsenziya O'zbekiston Respublikasi Turizm va madaniy meros vazirligi tomonidan berilgan va tasdiqlangan. Agentlik barcha qonuniy talablarga javob beradi.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- All Destinations Modal -->
        <div class="modal-backdrop" id="allDestinationsModal">
            <div class="modal" role="dialog" aria-modal="true" aria-labelledby="allDestinationsModalTitle" style="max-width: 1200px; max-height: 90vh; overflow-y: auto;">
                <div class="modal-header">
                    <div class="modal-title" id="allDestinationsModalTitle" data-text="destinations_title">Mashhur Yo'nalishlar</div>
                    <button class="modal-close" aria-label="Close" id="allDestinationsModalClose">×</button>
                </div>
                <div class="modal-body" style="grid-template-columns: 1fr; padding: 25px;">
                    <div class="all-destinations-grid" id="allDestinationsGrid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 25px;">
                        <!-- Destinations will be populated by JavaScript -->
                    </div>
                </div>
            </div>
        </div>

        <!-- All Agencies Modal -->
        <div class="modal-backdrop" id="allAgenciesModal">
            <div class="modal" role="dialog" aria-modal="true" aria-labelledby="allAgenciesModalTitle" style="max-width: 1200px; max-height: 90vh; overflow-y: auto;">
                <div class="modal-header">
                    <div class="modal-title" id="allAgenciesModalTitle" data-text="agency_section_title">Hamkor Agentliklar</div>
                    <button class="modal-close" aria-label="Close" id="allAgenciesModalClose">×</button>
                </div>
                <div class="modal-body" style="grid-template-columns: 1fr; padding: 25px;">
                    <div class="all-agencies-grid" id="allAgenciesGrid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 25px;">
                        <!-- Agencies will be populated by JavaScript -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Payment Modal -->
        <div class="modal-backdrop" id="paymentModal">
                <div class="modal" role="dialog" aria-modal="true" aria-labelledby="paymentModalTitle" style="max-width: 520px;">
                <div class="modal-header">
                    <div class="modal-title" id="paymentModalTitle">To'lov</div>
                    <button class="modal-close" aria-label="Close" id="paymentModalClose">×</button>
                </div>
                <div class="modal-body" style="grid-template-columns: 1fr; padding: 18px;">
                    <!-- Tour Summary -->
                    <div id="paymentTourSummary" style="background: var(--bg-secondary); border-radius: 12px; padding: 18px; margin-bottom: 20px; border: 1px solid var(--card-border);">
                        <h3 style="font-size: 16px; font-weight: 700; color: var(--text-primary); margin-bottom: 12px;">Sayohat ma'lumotlari</h3>
                        <div id="paymentTourDetails" style="display: grid; gap: 8px;">
                            <p id="paymentTourName" style="font-size: 14px; color: var(--text-primary); font-weight: 600;"></p>
                            <p id="paymentTourPrice" style="font-size: 14px; color: var(--text-secondary);"></p>
                        </div>
                    </div>

                    <!-- Payment Form -->
                    <form class="modal-form" id="paymentForm" style="padding: 0;">
                        <h3 style="font-size: 16px; font-weight: 700; color: var(--text-primary); margin-bottom: 16px;">To'lov ma'lumotlari</h3>
                        
                        <div class="form-field">
                            <label for="paymentName">To'liq ism</label>
                            <input id="paymentName" type="text" placeholder="Ism Familiya" required>
                        </div>
                        
                        <div class="form-field">
                            <label for="paymentEmail">Email</label>
                            <input id="paymentEmail" type="email" placeholder="you@example.com" required>
                        </div>
                        
                        <div class="form-field">
                            <label for="paymentPhone">Telefon raqami</label>
                            <input id="paymentPhone" type="tel" placeholder="+998 xx xxx xx xx" required>
                        </div>
                        
                        <div class="form-field">
                            <label for="paymentCardNumber">Karta raqami</label>
                            <input id="paymentCardNumber" type="text" placeholder="1234 5678 9012 3456" maxlength="19" pattern="[0-9\s]{13,19}" required>
                        </div>
                        
                        <div class="payment-card-fields" style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">
                            <div class="form-field">
                                <label for="paymentExpiry">Muddati (MM/YY)</label>
                                <input id="paymentExpiry" type="text" placeholder="MM/YY" maxlength="5" pattern="[0-9]{2}/[0-9]{2}" required>
                            </div>
                            
                            <div class="form-field">
                                <label for="paymentCVV">CVV</label>
                                <input id="paymentCVV" type="text" placeholder="123" maxlength="4" pattern="[0-9]{3,4}" required>
                            </div>
                        </div>
                        
                        <div class="form-field">
                            <label for="paymentAddress">Manzil</label>
                            <input id="paymentAddress" type="text" placeholder="To'liq manzil" required>
                        </div>
                        
                        <div class="form-field" style="margin-top: 8px;">
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                <input type="checkbox" id="paymentTerms" required style="width: 18px; height: 18px; cursor: pointer;">
                                <span style="font-size: 13px; color: var(--text-secondary);">Men <a href="#" style="color: var(--accent-primary);">shartlar va qoidalar</a> bilan tanishdim va roziman</span>
                            </label>
                        </div>
                        
                        <div class="form-actions" style="margin-top: 16px;">
                            <button type="submit" class="btn-primary" style="flex: 1;">To'lovni amalga oshirish</button>
                            <button type="button" class="btn-primary" id="paymentCancel" style="background: var(--bg-secondary) !important; color: var(--text-primary) !important;">Bekor qilish</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <script>
            // Initialize theme immediately to prevent flash
            (function() {
                const savedTheme = localStorage.getItem('theme') || 'light';
                document.documentElement.setAttribute('data-theme', savedTheme);
            })();

            // Smooth scroll for internal links
            document.addEventListener('click', function(e) {
                const target = e.target.closest('a[href^="#"]');
                if (!target) return;
                const hash = target.getAttribute('href');
                if (!hash || hash === '#') return;
                const el = document.querySelector(hash);
                if (el) {
                    e.preventDefault();
                    el.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });

            // Hide/show top bar on scroll for mobile devices
            (function() {
                let lastScrollTop = 0;
                let ticking = false;
                const topBar = document.querySelector('.top-bar');
                
                if (!topBar) return;
                
                // Only apply on mobile devices
                function isMobile() {
                    return window.innerWidth <= 768;
                }
                
                function handleScroll() {
                    if (!isMobile()) {
                        topBar.classList.remove('hidden');
                        return;
                    }
                    
                    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
                    
                    // Show top bar when at the top of the page
                    if (scrollTop <= 10) {
                        topBar.classList.remove('hidden');
                        lastScrollTop = scrollTop;
                        ticking = false;
                        return;
                    }
                    
                    // Hide top bar when scrolling down, show when scrolling up
                    if (scrollTop > lastScrollTop && scrollTop > 100) {
                        // Scrolling down
                        topBar.classList.add('hidden');
                    } else {
                        // Scrolling up
                        topBar.classList.remove('hidden');
                    }
                    
                    lastScrollTop = scrollTop;
                    ticking = false;
                }
                
                window.addEventListener('scroll', function() {
                    if (!ticking) {
                        window.requestAnimationFrame(handleScroll);
                        ticking = true;
                    }
                }, { passive: true });
                
                // Show top bar on window resize if switching from desktop to mobile
                window.addEventListener('resize', function() {
                    if (!isMobile()) {
                        topBar.classList.remove('hidden');
                    }
                });
            })();

            // Theme Toggle Functionality
            (function() {
                // Get theme from localStorage or default to light
                function getTheme() {
                    return localStorage.getItem('theme') || 'light';
                }

                // Set theme
                function setTheme(theme) {
                    document.documentElement.setAttribute('data-theme', theme);
                    localStorage.setItem('theme', theme);
                    updateThemeIcons(theme);
                }

                // Update theme toggle button icons
                function updateThemeIcons(theme) {
                    const icon = theme === 'dark' ? '☀️' : '🌙';
                    const toggleTopBar = document.getElementById('topBarThemeToggle');
                    if (toggleTopBar) toggleTopBar.textContent = icon;
                }

                // Toggle theme
                function toggleTheme() {
                    const currentTheme = getTheme();
                    const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
                    setTheme(newTheme);
                }

                // Initialize theme on page load
                document.addEventListener('DOMContentLoaded', function() {
                    const savedTheme = getTheme();
                    setTheme(savedTheme);

                    // Add event listeners to toggle buttons (top bar only)
                    const toggleTopBar = document.getElementById('topBarThemeToggle');
                    
                    if (toggleTopBar) {
                        toggleTopBar.addEventListener('click', toggleTheme);
                    }
                });
            })();


            // Language switcher (minimal demo)
            (function(){
                var i18n = {
                    uz: {
                        phone: "+998 93 301 52 18",
                        email: "info@ketmon.uz",
                        nav_home: "Bosh sahifa",
                        nav_destinations: "Yo'nalishlar",
                        nav_services: "Xizmatlar",
                        nav_about: "Biz haqimizda",
                        nav_contact: "Aloqa",
                        nav_book: "Bron qilish",
                        nav_login: "Kirish",
                        nav_register: "Ro'yxatdan o'tish",
                        login_email_label: "Email",
                        login_email_placeholder: "you@example.com",
                        login_password_label: "Parol",
                        login_password_placeholder: "••••••••",
                        register_switch: "Ro'yxatdan o'tish",
                        register_role_label: "Ro'l tanlang",
                        register_customer_tab: "Mijoz",
                        register_agency_tab: "Agentlik",
                        register_name_label: "Ism",
                        register_name_placeholder: "Ismingiz",
                        register_email_label: "Email",
                        register_email_placeholder: "you@example.com",
                        register_password_label: "Parol",
                        register_password_placeholder: "••••••••",
                        register_agency_name_label: "Agentlik nomi",
                        register_agency_name_placeholder: "Agentlik nomi",
                        register_license_label: "Litsenziya raqami",
                        register_license_placeholder: "ABC-123456",
                        register_agency_email_label: "Agentlik Email",
                        register_agency_email_placeholder: "agency@example.com",
                        register_agency_phone_label: "Telefon",
                        register_agency_phone_placeholder: "+998 xx xxx xx xx",
                        register_agency_password_label: "Parol",
                        register_agency_password_placeholder: "••••••••",
                        register_submit: "Yaratish",
                        hero_title: "Dunyo Bo'ylab Unutilmas Sayohatlar",
                        hero_subtitle: "Hayotingizning eng yaxshi tajribasini biz bilan kashf eting",
                        hero_btn1: "Yo'nalishlarni Ko'rish",
                        hero_btn2: "Maslahat Olish",
                        search_destination: "Yo'nalish",
                        search_destination_placeholder: "Qayerga bormoqchisiz?",
                        search_date: "Sana",
                        search_duration: "Davomiyligi",
                        duration_3: "3 kun",
                        duration_7: "7 kun",
                        duration_14: "14 kun",
                        duration_custom: "Boshqa",
                        search_agency: "Agentlik",
                        agency_select_all: "Barcha agentliklar",
                        agency_section_title: "Hamkor Agentliklar",
                        agency_section_subtitle: "Eng ishonchli sayohat hamkorlarini tanlang",
                        agency_filter_all: "Barcha hamkorlar",
                        agency_filter_local: "O'zbek sayyohlari uchun",
                        agency_filter_global: "Xorijiy sayyohlar uchun",
                        agency_badge_verified: "Tasdiqlangan",
                        agency_view_tours: "Agentlik turlarini ko'rish",
                        license_title: "Sayohat Agentligi Litsenziyasi",
                        license_verified: "Tasdiqlangan sayohat agentligi",
                        license_number: "Litsenziya raqami:",
                        license_issued: "Berilgan sana:",
                        license_expires: "Amal qilish muddati:",
                        license_authority: "Bergan organ:",
                        license_status: "Holati:",
                        license_active: "Faol",
                        license_note: "Ushbu litsenziya O'zbekiston Respublikasi Turizm va madaniy meros vazirligi tomonidan berilgan va tasdiqlangan. Agentlik barcha qonuniy talablarga javob beradi.",
                        agency_atlas_name: "Atlas Travel",
                        agency_atlas_desc: "Markaziy Osiyodan dunyoning 40+ manziliga premium paketlar va VIP xizmatlar.",
                        agency_samarqand_name: "Samarqand Tours",
                        agency_samarqand_desc: "Madaniy sayohatlar, tarixiy gidlar va mahalliy tajribalar bo'yicha mutaxassis.",
                        agency_nomad_name: "Nomad Explorer",
                        agency_nomad_desc: "Aktiv sayohatlar, tog' yurishlari va ekologik turizm bo'yicha mutaxassis.",
                        agency_silk_name: "Silk Road Elite",
                        agency_silk_desc: "Luks mehmonxonalar, TNPL rejalar va shaxsiy gidlar bilan premium xizmat.",
                        agency_clubtravel_name: "ClubTravel UZ",
                        agency_clubtravel_desc: "Oila va guruhlar uchun hamyonbop paketlar, Toshkentdan charter reyslar.",
                        agency_azialux_name: "AziaLux Travel",
                        agency_azialux_desc: "Osiyo va Yevropadagi eksklyuziv gastro-turlar, premium servis va gidlar.",
                        agency_globalvoyage_name: "Global Voyage Hub",
                        agency_globalvoyage_desc: "Xalqaro konferensiya va MICE turlar, 24/7 qo'llab-quvvatlash va viza xizmati.",
                        about_title: "KETMON haqida",
                        about_subtitle: "Markaziy Osiyoning eng ishonchli sayohat marketpleysida agentliklar va sayohatchilar birlashadi.",
                        about_story_title: "Missiyamiz",
                        about_story_body1: "Ketmon qadriyatlaridan ilhomlanib, biz doimo mehnatsevarlik va taraqqiyot ramzini xizmatlarimiz markaziga qo'yamiz.",
                        about_story_body2: "Platformamizda tasdiqlangan agentliklar, shaffof narxlar va TNPL imkoniyatlari yordamida sayohatchilar vaqtini va byudjetini tejashadi.",
                        about_bullet_network: "Hamkorlarimiz real vaqt rejimida paketlarni yangilaydi va video-reels orqali yo'nalishlarni jonlantiradi.",
                        about_bullet_support: "24/7 yordam, integratsiyalangan chat va Telegram bildirishnomalari bilan agentliklar mijozlar bilan tezkor aloqa qiladi.",
                        about_bullet_ai: "AI tavsiyalari shaxsiylashgan marshrutlarni taklif etib, sayohatchilarga tez qaror qabul qilishga yordam beradi.",
                        about_stat_partners_value: "120+",
                        about_stat_partners_label: "hamkor agentliklar",
                        about_stat_tours_value: "650+",
                        about_stat_tours_label: "faol tur paketlar",
                        about_stat_travelers_value: "45k+",
                        about_stat_travelers_label: "mamnun sayohatchilar",
                        about_stat_languages_value: "8",
                        about_stat_languages_label: "tilda qo'llab-quvvatlash",
                        contact_title: "Aloqada bo'laylik",
                        contact_subtitle: "Savol va takliflaringizni qoldiring — jamoamiz 24/7 yordam beradi.",
                        contact_info_title: "Nega KETMON?",
                        contact_info_body: "Ketmon orqali siz tasdiqlangan agentliklar bilan ishlaysiz, narxlarni solishtirasiz va TNPL orqali to'lovlarni bo'lib-bo'lib amalga oshirasiz. Mijozlar va agentliklar uchun yagona panel barcha jarayonlarni bir joyga jamlaydi.",
                        contact_phone_label: "Telefon",
                        contact_phone_value: "+998 90 765 43 21",
                        contact_email_label: "Email",
                        contact_email_value: "support@ketmon.uz",
                        contact_address_label: "Manzil",
                        contact_address_value: "Toshkent, Navoiy ko'chasi 12, KETMON HUB",
                        contact_form_name_label: "Ism",
                        contact_form_name_placeholder: "Ismingiz",
                        contact_form_email_label: "Email",
                        contact_form_email_placeholder: "you@example.com",
                        contact_form_message_label: "Xabar",
                        contact_form_message_placeholder: "Savolingizni yozing...",
                        contact_submit_btn: "Yuborish",
                        contact_status_placeholder: "Yuborilgan xabarlarimizga odatda 30 daqiqada javob beramiz.",
                        contact_success_message: "Xabaringiz qabul qilindi! Tez orada siz bilan bog'lanamiz.",
                        contact_error_message: "Iltimos, barcha maydonlarni to'liq kiriting.",
                        ai_assistant_title: "Smart AI yordamchi",
                        ai_assistant_subtitle: "Budjetingiz, yo'nalishingiz va sanalarga qarab mos tur paketlarni tavsiya qiladi.",
                        ai_budget_label: "Budjet (USD)",
                        ai_budget_placeholder: "1500",
                        ai_destination_label: "Qiziqqan yo'nalish",
                        ai_destination_placeholder: "Osiyo, Yevropa...",
                        ai_season_label: "Qaysi fasllar",
                        ai_season_summer: "Yoz",
                        ai_season_autumn: "Kuz",
                        ai_season_winter: "Qish",
                        ai_season_spring: "Bahor",
                        ai_month_label: "Oy",
                        ai_month_select: "Tanlang",
                        ai_month_january: "Yanvar",
                        ai_month_february: "Fevral",
                        ai_month_march: "Mart",
                        ai_month_april: "Aprel",
                        ai_month_may: "May",
                        ai_month_june: "Iyun",
                        ai_month_july: "Iyul",
                        ai_month_august: "Avgust",
                        ai_month_september: "Sentabr",
                        ai_month_october: "Oktabr",
                        ai_month_november: "Noyabr",
                        ai_month_december: "Dekabr",
                        ai_generate_btn: "Tavsiyalarni ko'rish",
                        ai_response_placeholder: "Savolingizni kiriting va AI yordamchidan tavsiyalar oling.",
                        search_guests: "Odamlar soni",
                        search_btn: "Qidirish",
                        late_escape_title: "Yaxshi vaqt o'tkazish, uzoq emas",
                        late_escape_subtitle: "Yozning oxirgi kunlarini kamida 15% chegirma bilan foydalaning",
                        late_escape_btn: "Topish",
                        trending_title: "Trend yo'nalishlar",
                        trending_subtitle: "O'zbekiston sayohatchilari uchun eng mashhur tanlovlar",
                        explore_uz_title: "O'zbekistanni kashf eting",
                        explore_uz_subtitle: "Bu mashhur yo'nalishlar ko'p narsa taklif qiladi",
                        explore_properties: "ob'ektlar",
                        property_type_title: "Ob'ekt turi bo'yicha qidiruv",
                        property_hotels: "Mehmonxonalar",
                        property_apartments: "Kvartiralar",
                        property_resorts: "Kurortlar",
                        property_villas: "Villalar",
                        trip_planner_title: "Tez va oson sayohat rejalashtiruvchi",
                        trip_planner_subtitle: "Mavzuni tanlang va O'zbekistondagi eng yaxshi yo'nalishlarni kashf eting",
                        trip_festivals: "Festivallar",
                        trip_shopping: "Sotib olish va hunarmandchilik",
                        trip_gastronomic: "Gastronomik sayohatlar",
                        trip_cultural: "Madaniy tadqiqot",
                        trip_architecture: "Arxitektura turlari",
                        trip_historical: "Tarixiy joylar",
                        weekend_deals_title: "Dam olish kunlari uchun takliflar",
                        weekend_deals_subtitle: "14-16 noyabr kunlari uchun yashash joylarida tejang",
                        dest_tashkent: "Toshkent",
                        dest_samarkand: "Samarqand",
                        dest_istanbul: "Istanbul",
                        dest_bukhara: "Buxoro",
                        dest_dubai: "Dubai",
                        dest_khiva: "Xiva",
                        dest_chimgan: "Chimgan",
                        dest_fergana: "Farg'ona",
                        dest_kokand: "Qo'qon",
                        explore_tashkent_props: "1,409 ob'ektlar",
                        explore_samarkand_props: "914 ob'ektlar",
                        explore_bukhara_props: "587 ob'ektlar",
                        explore_khiva_props: "163 ob'ektlar",
                        explore_chimgan_props: "20 ob'ektlar",
                        explore_fergana_props: "46 ob'ektlar",
                        trip_tashkent_distance: "7 km uzoqlikda",
                        trip_kokand_distance: "165 km uzoqlikda",
                        trip_fergana_distance: "237 km uzoqlikda",
                        trip_samarkand_distance: "262 km uzoqlikda",
                        trip_bukhara_distance: "438 km uzoqlikda",
                        trip_khiva_distance: "739 km uzoqlikda",
                        deal_premium_hotel: "Premium mehmonxona",
                        deal_luxury_apartment: "Luks kvartira",
                        deal_resort_stay: "Kurort mehmonxonasi",
                        deal_villa_retreat: "Villa dam olish maskani",
                        deal_price_89: "$89/kecha",
                        deal_price_75: "$75/kecha",
                        deal_price_120: "$120/kecha",
                        deal_price_150: "$150/kecha",
                        destinations_title: "Mashhur Yo'nalishlar",
                        destinations_subtitle: "Eng yaxshi takliflarimiz",
                        badge_popular: "Mashhur",
                        badge_sale: "Chegirma",
                        badge_new: "Yangi",
                        btn_details: "Batafsil",
                        price_per_person: "kishi uchun",
                        dest1_name: "Dubay, BAA",
                        dest1_desc: "Zamonaviy arxitektura va qadimiy an'analarning ajoyib uyg'unligi",
                        dest2_name: "Parij, Fransiya",
                        dest2_desc: "Sevgi va romantika poytaxti, go'zal arxitektura",
                        dest3_name: "Istanbul, Turkiya",
                        dest3_desc: "Sharq va G'arb madaniyatining ajoyib qo'shilishi",
                        dest4_name: "Shveysariya",
                        dest4_desc: "Alp tog'lari va kristal toza ko'llar",
                        dest5_name: "Tokio, Yaponiya",
                        dest5_desc: "Texnologiya va an'analarning noyob uyg'unligi",
                        dest6_name: "Rim, Italiya",
                        dest6_desc: "Qadimiy tarix va ajoyib arxitektura",
                        dest7_name: "Bangkok Gourmet, Tailand",
                        dest7_desc: "Gastro sayohatlar, Michelin restoranlari va shaxsiy gidlar.",
                        dest8_name: "London Summit, Buyuk Britaniya",
                        dest8_desc: "Biznes konferensiya paketi, premium mehmonxona va transferlar.",
                        dest9_name: "Boku Weekend, Ozarbayjon",
                        dest9_desc: "Toshkentdan to'g'ridan-to'g'ri reys, 4* mehmonxona va shahar sayohati.",
                        services_title: "Bizning Xizmatlarimiz",
                        services_subtitle: "Nega bizni tanlash kerak? Biz sizga eng yaxshi narxlar, professional xizmat va 24/7 qo'llab-quvvatlashni ta'minlaymiz",
                        service1_title: "Aviachiptalar",
                        service1_desc: "Eng arzon narxlarda aviachiptalar bron qilish xizmati",
                        service2_title: "Mehmonxonalar",
                        service2_desc: "Dunyoning istalgan joyida qulay mehmonxonalar",
                        service3_title: "Ekskursiyalar",
                        service3_desc: "Professional gidlar bilan qiziqarli sayohatlar",
                        service4_title: "Viza Xizmati",
                        service4_desc: "Viza olish",
                        service_why: "Nega biz?",
                        service1_advantage_text: "Real vaqtda narxlar, 500+ aviakompaniya, tezkor bron qilish",
                        service2_advantage_text: "50,000+ mehmonxona, eng yaxshi narxlar, bepul bekor qilish",
                        service3_advantage_text: "Mahalliy gidlar, shaxsiylashtirilgan marshrutlar, 24/7 qo'llab-quvvatlash",
                        service4_advantage_text: "Tezkor viza olish, professional yordam, yuqori muvaffaqiyat darajasi"
                    },
                    ru: {
                        phone: "+998 93 301 52 18",
                        email: "info@ketmon.uz",
                        nav_home: "Главная",
                        nav_destinations: "Направления",
                        nav_services: "Услуги",
                        nav_about: "О нас",
                        nav_contact: "Контакты",
                        nav_book: "Бронирование",
                        nav_login: "Войти",
                        nav_register: "Регистрация",
                        login_email_label: "Email",
                        login_email_placeholder: "you@example.com",
                        login_password_label: "Пароль",
                        login_password_placeholder: "••••••••",
                        register_switch: "Регистрация",
                        register_role_label: "Выберите роль",
                        register_customer_tab: "Клиент",
                        register_agency_tab: "Агентство",
                        register_name_label: "Имя",
                        register_name_placeholder: "Ваше имя",
                        register_email_label: "Email",
                        register_email_placeholder: "you@example.com",
                        register_password_label: "Пароль",
                        register_password_placeholder: "••••••••",
                        register_agency_name_label: "Название агентства",
                        register_agency_name_placeholder: "Название агентства",
                        register_license_label: "Номер лицензии",
                        register_license_placeholder: "ABC-123456",
                        register_agency_email_label: "Email агентства",
                        register_agency_email_placeholder: "agency@example.com",
                        register_agency_phone_label: "Телефон",
                        register_agency_phone_placeholder: "+998 xx xxx xx xx",
                        register_agency_password_label: "Пароль",
                        register_agency_password_placeholder: "••••••••",
                        register_submit: "Создать",
                        hero_title: "Незабываемые путешествия по всему миру",
                        hero_subtitle: "Откройте лучшие впечатления вместе с нами",
                        hero_btn1: "Смотреть направления",
                        hero_btn2: "Получить консультацию",
                        search_destination: "Направление",
                        search_destination_placeholder: "Куда хотите поехать?",
                        search_date: "Дата",
                        search_duration: "Продолжительность",
                        duration_3: "3 дня",
                        duration_7: "7 дней",
                        duration_14: "14 дней",
                        duration_custom: "Другое",
                        search_agency: "Агентство",
                        agency_select_all: "Все агентства",
                        agency_section_title: "Партнерские агентства",
                        agency_section_subtitle: "Выберите надежного партнера для путешествия",
                        agency_filter_all: "Все партнеры",
                        agency_filter_local: "Для путешественников Узбекистана",
                        agency_filter_global: "Для иностранных гостей",
                        agency_badge_verified: "Проверено",
                        agency_view_tours: "Посмотреть туры агентства",
                        license_title: "Лицензия туристического агентства",
                        license_verified: "Проверенное туристическое агентство",
                        license_number: "Номер лицензии:",
                        license_issued: "Дата выдачи:",
                        license_expires: "Срок действия:",
                        license_authority: "Выдавший орган:",
                        license_status: "Статус:",
                        license_active: "Активна",
                        license_note: "Эта лицензия выдана и подтверждена Министерством туризма и культурного наследия Республики Узбекистан. Агентство соответствует всем правовым требованиям.",
                        agency_atlas_name: "Atlas Travel",
                        agency_atlas_desc: "Премиальные пакеты и VIP-сервис в 40+ направлениях по всему миру.",
                        agency_samarqand_name: "Samarqand Tours",
                        agency_samarqand_desc: "Эксперты по культурным путешествиям, историческим гидам и местному опыту.",
                        agency_nomad_name: "Nomad Explorer",
                        agency_nomad_desc: "Активные туры, треккинг и экологический туризм.",
                        agency_silk_name: "Silk Road Elite",
                        agency_silk_desc: "Лакшери-отели, TNPL планы и персональные гиды премиум-класса.",
                        agency_clubtravel_name: "ClubTravel UZ",
                        agency_clubtravel_desc: "Доступные пакеты для семей и групп, чартеры из Ташкента.",
                        agency_azialux_name: "AziaLux Travel",
                        agency_azialux_desc: "Эксклюзивные гастротуры по Азии и Европе, премиум-сервис.",
                        agency_globalvoyage_name: "Global Voyage Hub",
                        agency_globalvoyage_desc: "Международные конференции и MICE-туры, поддержка 24/7 и визовая помощь.",
                        about_title: "О платформе KETMON",
                        about_subtitle: "Надёжный маркетплейс путешествий Центральной Азии, объединяющий агентства и путешественников.",
                        about_story_title: "Наша миссия",
                        about_story_body1: "Вдохновляясь символом кетмона, мы ставим трудолюбие и рост в основу каждого продукта и сервиса.",
                        about_story_body2: "На платформе собраны проверенные агентства, прозрачные цены и TNPL — всё, чтобы экономить время и бюджет путешественников.",
                        about_bullet_network: "Партнёры обновляют пакеты в реальном времени и рассказывают о направлениях через видео и сторис.",
                        about_bullet_support: "Круглосуточная поддержка, встроенный чат и уведомления в Telegram помогают агентствам оставаться на связи с клиентами.",
                        about_bullet_ai: "AI-рекомендации предлагают персональные маршруты и ускоряют выбор тура.",
                        about_stat_partners_value: "120+",
                        about_stat_partners_label: "партнёрских агентств",
                        about_stat_tours_value: "650+",
                        about_stat_tours_label: "активных турпакетов",
                        about_stat_travelers_value: "45k+",
                        about_stat_travelers_label: "довольных путешественников",
                        about_stat_languages_value: "8",
                        about_stat_languages_label: "языков поддержки",
                        contact_title: "Свяжитесь с нами",
                        contact_subtitle: "Оставьте вопрос или предложение — мы на связи 24/7.",
                        contact_info_title: "Почему KETMON?",
                        contact_info_body: "С KETMON вы сотрудничаете только с проверенными агентствами, сравниваете цены и используете TNPL для рассрочки. Единая панель упрощает работу и для клиентов, и для агентств.",
                        contact_phone_label: "Телефон",
                        contact_phone_value: "+998 90 765 43 21",
                        contact_email_label: "Email",
                        contact_email_value: "support@ketmon.uz",
                        contact_address_label: "Адрес",
                        contact_address_value: "Ташкент, ул. Навои 12, KETMON HUB",
                        contact_form_name_label: "Имя",
                        contact_form_name_placeholder: "Ваше имя",
                        contact_form_email_label: "Email",
                        contact_form_email_placeholder: "you@example.com",
                        contact_form_message_label: "Сообщение",
                        contact_form_message_placeholder: "Опишите запрос...",
                        contact_submit_btn: "Отправить",
                        contact_status_placeholder: "Обычно отвечаем в течение 30 минут.",
                        contact_success_message: "Ваше сообщение принято! Мы свяжемся с вами в ближайшее время.",
                        contact_error_message: "Заполните, пожалуйста, все поля формы.",
                        ai_assistant_title: "Умный AI помощник",
                        ai_assistant_subtitle: "Подбирает турпакеты по вашему бюджету, направлениям и датам.",
                        ai_budget_label: "Бюджет (USD)",
                        ai_budget_placeholder: "1500",
                        ai_destination_label: "Интересующие направления",
                        ai_destination_placeholder: "Азия, Европа...",
                        ai_season_label: "Желаемый сезон",
                        ai_season_summer: "Лето",
                        ai_season_autumn: "Осень",
                        ai_season_winter: "Зима",
                        ai_season_spring: "Весна",
                        ai_month_label: "Месяц",
                        ai_month_select: "Выберите",
                        ai_month_january: "Январь",
                        ai_month_february: "Февраль",
                        ai_month_march: "Март",
                        ai_month_april: "Апрель",
                        ai_month_may: "Май",
                        ai_month_june: "Июнь",
                        ai_month_july: "Июль",
                        ai_month_august: "Август",
                        ai_month_september: "Сентябрь",
                        ai_month_october: "Октябрь",
                        ai_month_november: "Ноябрь",
                        ai_month_december: "Декабрь",
                        ai_generate_btn: "Получить рекомендации",
                        ai_response_placeholder: "Введите запрос и получите рекомендации от AI помощника.",
                        search_guests: "Количество людей",
                        search_btn: "Искать",
                        late_escape_title: "Хорошее время, а не долгое",
                        late_escape_subtitle: "Выжмите последнее из лета со скидкой не менее 15%",
                        late_escape_btn: "Найти",
                        trending_title: "Популярные направления",
                        trending_subtitle: "Самые популярные выборы для путешественников из Узбекистана",
                        explore_uz_title: "Исследуйте Узбекистан",
                        explore_uz_subtitle: "Эти популярные направления предлагают многое",
                        explore_properties: "объектов",
                        property_type_title: "Поиск по типу недвижимости",
                        property_hotels: "Отели",
                        property_apartments: "Апартаменты",
                        property_resorts: "Курорты",
                        property_villas: "Виллы",
                        trip_planner_title: "Быстрый и простой планировщик поездок",
                        trip_planner_subtitle: "Выберите настроение и исследуйте лучшие направления в Узбекистане",
                        trip_festivals: "Фестивали",
                        trip_shopping: "Шопинг и ремесла",
                        trip_gastronomic: "Гастрономические путешествия",
                        trip_cultural: "Культурное исследование",
                        trip_architecture: "Архитектурные туры",
                        trip_historical: "Исторические места",
                        weekend_deals_title: "Предложения на выходные",
                        weekend_deals_subtitle: "Экономьте на проживании с 14 по 16 ноября",
                        dest_tashkent: "Ташкент",
                        dest_samarkand: "Самарканд",
                        dest_istanbul: "Стамбул",
                        dest_bukhara: "Бухара",
                        dest_dubai: "Дубай",
                        dest_khiva: "Хива",
                        dest_chimgan: "Чимган",
                        dest_fergana: "Фергана",
                        dest_kokand: "Коканд",
                        explore_tashkent_props: "1,409 объектов",
                        explore_samarkand_props: "914 объектов",
                        explore_bukhara_props: "587 объектов",
                        explore_khiva_props: "163 объекта",
                        explore_chimgan_props: "20 объектов",
                        explore_fergana_props: "46 объектов",
                        trip_tashkent_distance: "7 км",
                        trip_kokand_distance: "165 км",
                        trip_fergana_distance: "237 км",
                        trip_samarkand_distance: "262 км",
                        trip_bukhara_distance: "438 км",
                        trip_khiva_distance: "739 км",
                        deal_premium_hotel: "Премиум отель",
                        deal_luxury_apartment: "Роскошная квартира",
                        deal_resort_stay: "Курортный отель",
                        deal_villa_retreat: "Вилла для отдыха",
                        deal_price_89: "$89/ночь",
                        deal_price_75: "$75/ночь",
                        deal_price_120: "$120/ночь",
                        deal_price_150: "$150/ночь",
                        destinations_title: "Популярные направления",
                        destinations_subtitle: "Наши лучшие предложения",
                        badge_popular: "Популярно",
                        badge_sale: "Скидка",
                        badge_new: "Новинка",
                        btn_details: "Подробнее",
                        price_per_person: "за человека",
                        dest1_name: "Дубай, ОАЭ",
                        dest1_desc: "Современная архитектура и древние традиции",
                        dest2_name: "Париж, Франция",
                        dest2_desc: "Столица любви и романтики, прекрасная архитектура",
                        dest3_name: "Стамбул, Турция",
                        dest3_desc: "Удивительное сочетание Востока и Запада",
                        dest4_name: "Швейцария",
                        dest4_desc: "Альпы и кристально чистые озера",
                        dest5_name: "Токио, Япония",
                        dest5_desc: "Уникальное сочетание технологий и традиций",
                        dest6_name: "Рим, Италия",
                        dest6_desc: "Древняя история и потрясающая архитектура",
                        dest7_name: "Bangkok Gourmet, Таиланд",
                        dest7_desc: "Гастротуры, рестораны Michelin и персональные гиды.",
                        dest8_name: "London Summit, Великобритания",
                        dest8_desc: "Пакет для бизнес-конференции, премиум-отель и трансферы.",
                        dest9_name: "Baku Weekend, Азербайджан",
                        dest9_desc: "Прямой рейс из Ташкента, 4* отель и обзорная экскурсия по городу.",
                        services_title: "Наши услуги",
                        services_subtitle: "Почему выбирают нас? Мы предлагаем лучшие цены, профессиональный сервис и поддержку 24/7",
                        service1_title: "Авиабилеты",
                        service1_desc: "Бронирование авиабилетов по выгодным ценам",
                        service2_title: "Отели",
                        service2_desc: "Удобные отели по всему миру",
                        service3_title: "Экскурсии",
                        service3_desc: "Интересные туры с профессиональными гидами",
                        service4_title: "Визовая поддержка",
                        service4_desc: "Оформление виз",
                        service_why: "Почему мы?",
                        service1_advantage_text: "Цены в реальном времени, 500+ авиакомпаний, быстрое бронирование",
                        service2_advantage_text: "50,000+ отелей, лучшие цены, бесплатная отмена",
                        service3_advantage_text: "Местные гиды, персонализированные маршруты, поддержка 24/7",
                        service4_advantage_text: "Быстрое оформление виз, профессиональная помощь, высокий процент успеха"
                    },
                    en: {
                        phone: "+998 93 301 52 18",
                        email: "info@ketmon.uz",
                        nav_home: "Home",
                        nav_destinations: "Destinations",
                        nav_services: "Services",
                        nav_about: "About",
                        nav_contact: "Contact",
                        nav_book: "Book Now",
                        nav_login: "Login",
                        nav_register: "Register",
                        login_email_label: "Email",
                        login_email_placeholder: "you@example.com",
                        login_password_label: "Password",
                        login_password_placeholder: "••••••••",
                        register_switch: "Register",
                        register_role_label: "Select role",
                        register_customer_tab: "Customer",
                        register_agency_tab: "Agency",
                        register_name_label: "Full name",
                        register_name_placeholder: "Your name",
                        register_email_label: "Email",
                        register_email_placeholder: "you@example.com",
                        register_password_label: "Password",
                        register_password_placeholder: "••••••••",
                        register_agency_name_label: "Agency name",
                        register_agency_name_placeholder: "Agency name",
                        register_license_label: "License number",
                        register_license_placeholder: "ABC-123456",
                        register_agency_email_label: "Agency email",
                        register_agency_email_placeholder: "agency@example.com",
                        register_agency_phone_label: "Phone",
                        register_agency_phone_placeholder: "+998 xx xxx xx xx",
                        register_agency_password_label: "Password",
                        register_agency_password_placeholder: "••••••••",
                        register_submit: "Create",
                        hero_title: "Unforgettable Journeys Around the World",
                        hero_subtitle: "Discover your best experiences with us",
                        hero_btn1: "View Destinations",
                        hero_btn2: "Get a Consultation",
                        search_destination: "Destination",
                        search_destination_placeholder: "Where do you want to go?",
                        search_date: "Date",
                        search_duration: "Duration",
                        duration_3: "3 days",
                        duration_7: "7 days",
                        duration_14: "14 days",
                        duration_custom: "Custom",
                        search_agency: "Agency",
                        agency_select_all: "All agencies",
                        agency_section_title: "Partner Agencies",
                        agency_section_subtitle: "Choose the most trusted travel partner for your trip",
                        agency_filter_all: "All partners",
                        agency_filter_local: "For Uzbek travelers",
                        agency_filter_global: "For international visitors",
                        agency_badge_verified: "Verified",
                        agency_view_tours: "View agency tours",
                        license_title: "Travel Agency License",
                        license_verified: "Verified travel agency",
                        license_number: "License number:",
                        license_issued: "Issued date:",
                        license_expires: "Expiry date:",
                        license_authority: "Issuing authority:",
                        license_status: "Status:",
                        license_active: "Active",
                        license_note: "This license is issued and verified by the Ministry of Tourism and Cultural Heritage of the Republic of Uzbekistan. The agency complies with all legal requirements.",
                        agency_atlas_name: "Atlas Travel",
                        agency_atlas_desc: "Premium packages and VIP service to 40+ destinations worldwide.",
                        agency_samarqand_name: "Samarqand Tours",
                        agency_samarqand_desc: "Experts in cultural journeys, historical guides and authentic experiences.",
                        agency_nomad_name: "Nomad Explorer",
                        agency_nomad_desc: "Adventure tours, mountain trekking and eco experiences.",
                        agency_silk_name: "Silk Road Elite",
                        agency_silk_desc: "Luxury stays, TNPL plans and personal guides with premium service.",
                        agency_clubtravel_name: "ClubTravel UZ",
                        agency_clubtravel_desc: "Value-friendly packages for families and groups, charters from Tashkent.",
                        agency_azialux_name: "AziaLux Travel",
                        agency_azialux_desc: "Exclusive gastro tours across Asia and Europe with premium guides.",
                        agency_globalvoyage_name: "Global Voyage Hub",
                        agency_globalvoyage_desc: "International conferences and MICE tours with 24/7 support and visa help.",
                        about_title: "About KETMON",
                        about_subtitle: "The most trusted travel marketplace in Central Asia connecting agencies and travellers.",
                        about_story_title: "Our Mission",
                        about_story_body1: "Inspired by the ketmon spirit, we put dedication and growth at the heart of our services.",
                        about_story_body2: "Verified agencies, transparent pricing, and TNPL financing help travellers save time and budget with confidence.",
                        about_bullet_network: "Partners refresh packages in real time and bring destinations to life with reels and stories.",
                        about_bullet_support: "24/7 support, integrated chat, and Telegram alerts keep agencies in sync with their customers.",
                        about_bullet_ai: "AI recommendations surface personalised itineraries so guests can decide faster.",
                        about_stat_partners_value: "120+",
                        about_stat_partners_label: "partner agencies",
                        about_stat_tours_value: "650+",
                        about_stat_tours_label: "active tour packages",
                        about_stat_travelers_value: "45k+",
                        about_stat_travelers_label: "happy travellers",
                        about_stat_languages_value: "8",
                        about_stat_languages_label: "languages supported",
                        contact_title: "Let's stay in touch",
                        contact_subtitle: "Share your questions or ideas — our team replies within minutes.",
                        contact_info_title: "Why KETMON?",
                        contact_info_body: "Collaborate with verified agencies, compare offers, and split payments via TNPL. A single dashboard streamlines the journey for both travellers and partners.",
                        contact_phone_label: "Phone",
                        contact_phone_value: "+998 90 765 43 21",
                        contact_email_label: "Email",
                        contact_email_value: "support@ketmon.uz",
                        contact_address_label: "Address",
                        contact_address_value: "Tashkent, Navoi Street 12, KETMON HUB",
                        contact_form_name_label: "Name",
                        contact_form_name_placeholder: "Your name",
                        contact_form_email_label: "Email",
                        contact_form_email_placeholder: "you@example.com",
                        contact_form_message_label: "Message",
                        contact_form_message_placeholder: "Tell us how we can help...",
                        contact_submit_btn: "Send message",
                        contact_status_placeholder: "We usually reply within 30 minutes.",
                        contact_success_message: "Thanks for reaching out! We will get back to you shortly.",
                        contact_error_message: "Please fill in every field before sending.",
                        ai_assistant_title: "Smart AI Assistant",
                        ai_assistant_subtitle: "Get tailored tour ideas based on budget, destinations, and travel season.",
                        ai_budget_label: "Budget (USD)",
                        ai_budget_placeholder: "1500",
                        ai_destination_label: "Preferred destinations",
                        ai_destination_placeholder: "Asia, Europe...",
                        ai_season_label: "Travel season",
                        ai_season_summer: "Summer",
                        ai_season_autumn: "Autumn",
                        ai_season_winter: "Winter",
                        ai_season_spring: "Spring",
                        ai_month_label: "Month",
                        ai_month_select: "Select",
                        ai_month_january: "January",
                        ai_month_february: "February",
                        ai_month_march: "March",
                        ai_month_april: "April",
                        ai_month_may: "May",
                        ai_month_june: "June",
                        ai_month_july: "July",
                        ai_month_august: "August",
                        ai_month_september: "September",
                        ai_month_october: "October",
                        ai_month_november: "November",
                        ai_month_december: "December",
                        ai_generate_btn: "Show recommendations",
                        ai_response_placeholder: "Ask the AI assistant for personalised tour ideas.",
                        search_guests: "Guests",
                        search_btn: "Search",
                        late_escape_title: "Go for a good time, not a long time",
                        late_escape_subtitle: "Squeeze out the last bit of summer at least 15% off",
                        late_escape_btn: "Find",
                        trending_title: "Trending destinations",
                        trending_subtitle: "Most popular choices for travellers from Uzbekistan",
                        explore_uz_title: "Explore Uzbekistan",
                        explore_uz_subtitle: "These popular destinations have a lot to offer",
                        explore_properties: "properties",
                        property_type_title: "Browse by property type",
                        property_hotels: "Hotels",
                        property_apartments: "Apartments",
                        property_resorts: "Resorts",
                        property_villas: "Villas",
                        trip_planner_title: "Quick and easy trip planner",
                        trip_planner_subtitle: "Pick a vibe and explore the top destinations in Uzbekistan",
                        trip_festivals: "Festivals",
                        trip_shopping: "Shopping & Crafts",
                        trip_gastronomic: "Gastronomic Journeys",
                        trip_cultural: "Cultural Exploration",
                        trip_architecture: "Architecture Tours",
                        trip_historical: "Historical Sites",
                        weekend_deals_title: "Deals for the weekend",
                        weekend_deals_subtitle: "Save on stays for 14 November - 16 November",
                        dest_tashkent: "Tashkent",
                        dest_samarkand: "Samarkand",
                        dest_istanbul: "Istanbul",
                        dest_bukhara: "Bukhara",
                        dest_dubai: "Dubai",
                        dest_khiva: "Khiva",
                        dest_chimgan: "Chimgan",
                        dest_fergana: "Fergana",
                        dest_kokand: "Kokand",
                        explore_tashkent_props: "1,409 properties",
                        explore_samarkand_props: "914 properties",
                        explore_bukhara_props: "587 properties",
                        explore_khiva_props: "163 properties",
                        explore_chimgan_props: "20 properties",
                        explore_fergana_props: "46 properties",
                        trip_tashkent_distance: "7 km away",
                        trip_kokand_distance: "165 km away",
                        trip_fergana_distance: "237 km away",
                        trip_samarkand_distance: "262 km away",
                        trip_bukhara_distance: "438 km away",
                        trip_khiva_distance: "739 km away",
                        deal_premium_hotel: "Premium Hotel",
                        deal_luxury_apartment: "Luxury Apartment",
                        deal_resort_stay: "Resort Stay",
                        deal_villa_retreat: "Villa Retreat",
                        deal_price_89: "$89/night",
                        deal_price_75: "$75/night",
                        deal_price_120: "$120/night",
                        deal_price_150: "$150/night",
                        destinations_title: "Popular Destinations",
                        destinations_subtitle: "Our best offers",
                        badge_popular: "Popular",
                        badge_sale: "Sale",
                        badge_new: "New",
                        btn_details: "Details",
                        price_per_person: "per person",
                        dest1_name: "Dubai, UAE",
                        dest1_desc: "Modern architecture meets ancient traditions",
                        dest2_name: "Paris, France",
                        dest2_desc: "City of love and romance, beautiful architecture",
                        dest3_name: "Istanbul, Turkey",
                        dest3_desc: "A stunning blend of East and West",
                        dest4_name: "Switzerland",
                        dest4_desc: "Alps and crystal-clear lakes",
                        dest5_name: "Tokyo, Japan",
                        dest5_desc: "A unique mix of technology and tradition",
                        dest6_name: "Rome, Italy",
                        dest6_desc: "Ancient history and magnificent architecture",
                        dest7_name: "Bangkok Gourmet, Thailand",
                        dest7_desc: "Gastronomic adventures, Michelin dining and personal guides.",
                        dest8_name: "London Summit, United Kingdom",
                        dest8_desc: "Business conference package, premium hotel and private transfers.",
                        dest9_name: "Baku Weekend, Azerbaijan",
                        dest9_desc: "Direct flight from Tashkent, 4* hotel and guided city tour.",
                        services_title: "Our Services",
                        services_subtitle: "Why choose us? We provide the best prices, professional service, and 24/7 support",
                        service1_title: "Flights",
                        service1_desc: "Book flight tickets at great prices",
                        service2_title: "Hotels",
                        service2_desc: "Comfortable hotels worldwide",
                        service3_title: "Excursions",
                        service3_desc: "Exciting tours with professional guides",
                        service4_title: "Visa Service",
                        service4_desc: "Visa processing",
                        service_why: "Why us?",
                        service1_advantage_text: "Real-time prices, 500+ airlines, instant booking",
                        service2_advantage_text: "50,000+ hotels, best prices, free cancellation",
                        service3_advantage_text: "Local guides, personalized itineraries, 24/7 support",
                        service4_advantage_text: "Fast visa processing, professional assistance, high success rate"
                    }
                };
                function applyTranslations(lang) {
                    var dict = i18n[lang] || i18n.uz;
                    
                    // Get all elements with data-text attribute, process from deepest to shallowest
                    // This ensures child elements are translated before parent elements
                    var allElements = Array.from(document.querySelectorAll('[data-text]'));
                    // Sort by depth (deepest first) to avoid overwriting child translations
                    allElements.sort(function(a, b) {
                        var depthA = 0, depthB = 0;
                        var tempA = a, tempB = b;
                        while (tempA.parentNode) { depthA++; tempA = tempA.parentNode; }
                        while (tempB.parentNode) { depthB++; tempB = tempB.parentNode; }
                        return depthB - depthA;
                    });
                    
                    // Replace inner text for all [data-text] elements
                    allElements.forEach(function(el){
                        var key = el.getAttribute('data-text');
                        if (key && dict[key] !== undefined) {
                            // Only update if this element doesn't have child elements with data-text
                            // (to avoid overwriting child translations)
                            var hasTranslatableChildren = Array.from(el.children).some(function(child) {
                                return child.hasAttribute('data-text') || child.querySelector('[data-text]') !== null;
                            });
                            
                            if (!hasTranslatableChildren) {
                                el.textContent = dict[key];
                            }
                        }
                    });
                    
                    // Replace placeholders for all elements declaring [data-placeholder]
                    document.querySelectorAll('[data-placeholder]').forEach(function(el){
                        var key = el.getAttribute('data-placeholder');
                        if (key && dict[key] !== undefined && 'placeholder' in el) {
                            el.placeholder = dict[key];
                        }
                    });
                    
                    // Update select options
                    document.querySelectorAll('select option[data-text]').forEach(function(option){
                        var key = option.getAttribute('data-text');
                        if (key && dict[key] !== undefined) {
                            option.textContent = dict[key];
                        }
                    });
                    
                    // Force update for header buttons specifically (in case they're in hidden containers)
                    var headerBookBtns = document.querySelectorAll('header [data-text="nav_book"]');
                    headerBookBtns.forEach(function(btn) {
                        if (dict.nav_book) btn.textContent = dict.nav_book;
                    });
                }

                function changeLang(lang) {
                    // Update current language display
                    var langCurrent = document.getElementById('langCurrent');
                    if (langCurrent) {
                        langCurrent.textContent = lang.toUpperCase();
                    }
                    
                    // Update dropdown items
                    var dropdownItems = document.querySelectorAll('.lang-dropdown-item');
                    dropdownItems.forEach(function(item){ 
                        item.classList.remove('active');
                        if (item.textContent.trim().toUpperCase() === lang.toUpperCase()) {
                            item.classList.add('active');
                        }
                    });
                    
                    applyTranslations(lang);
                    localStorage.setItem('ketmon_lang', lang);
                    
                    // Close dropdown
                    closeLangDropdown();
                }

                function toggleLangDropdown() {
                    var dropdown = document.getElementById('langDropdown');
                    var selector = document.querySelector('.lang-selector');
                    if (dropdown && selector) {
                        if (dropdown.classList.contains('open')) {
                            closeLangDropdown();
                        } else {
                            dropdown.classList.add('open');
                            selector.classList.add('open');
                        }
                    }
                }

                function closeLangDropdown() {
                    var dropdown = document.getElementById('langDropdown');
                    var selector = document.querySelector('.lang-selector');
                    if (dropdown) dropdown.classList.remove('open');
                    if (selector) selector.classList.remove('open');
                }

                function selectLang(lang) {
                    changeLang(lang);
                }

                // Close dropdown when clicking outside
                document.addEventListener('click', function(e) {
                    var selector = document.querySelector('.lang-selector');
                    var dropdown = document.getElementById('langDropdown');
                    var btn = document.getElementById('langDropdownBtn');
                    if (selector && dropdown && btn) {
                        if (!selector.contains(e.target) && dropdown.classList.contains('open')) {
                            closeLangDropdown();
                        }
                    }
                });

                // Close dropdown on Escape key
                document.addEventListener('keydown', function(e) {
                    if (e.key === 'Escape') {
                        closeLangDropdown();
                        // Also close currency dropdown if open
                        if (typeof closeCurrencyDropdown === 'function') {
                            closeCurrencyDropdown();
                        }
                    }
                });

                window.changeLang = changeLang;
                window.toggleLangDropdown = toggleLangDropdown;
                window.selectLang = selectLang;
                window.applyTranslations = applyTranslations;
                window.i18n = i18n;

                // Init language on load
                document.addEventListener('DOMContentLoaded', function(){
                    var saved = localStorage.getItem('ketmon_lang') || 'uz';
                    changeLang(saved);
                });
            })();

            // Currency switcher
            (function(){
                // Exchange rates (approximate, update as needed)
                var exchangeRates = {
                    usd: {
                        sum: 12500,  // 1 USD = 12500 UZS
                        rub: 90      // 1 USD = 90 RUB
                    },
                    rub: {
                        sum: 139,    // 1 RUB = 139 UZS
                        usd: 0.011   // 1 RUB = 0.011 USD
                    },
                    sum: {
                        usd: 0.00008, // 1 UZS = 0.00008 USD
                        rub: 0.0072   // 1 UZS = 0.0072 RUB
                    }
                };

                // Store original prices in data attributes
                function initPrices() {
                    document.querySelectorAll('.price').forEach(function(priceEl) {
                        if (!priceEl.hasAttribute('data-original-price')) {
                            var text = priceEl.textContent.trim();
                            // Extract number from price (e.g., "$1,200" -> 1200)
                            var match = text.match(/[\d,]+/);
                            if (match) {
                                var num = parseFloat(match[0].replace(/,/g, ''));
                                priceEl.setAttribute('data-original-price', num);
                                priceEl.setAttribute('data-original-currency', 'usd');
                            }
                        }
                    });
                }

                // Convert price based on currency
                function convertPrice(originalPrice, fromCurrency, toCurrency) {
                    if (fromCurrency === toCurrency) return originalPrice;
                    
                    if (fromCurrency === 'usd') {
                        if (toCurrency === 'sum') {
                            return originalPrice * exchangeRates.usd.sum;
                        } else if (toCurrency === 'rub') {
                            return originalPrice * exchangeRates.usd.rub;
                        }
                    } else if (fromCurrency === 'rub') {
                        if (toCurrency === 'sum') {
                            return originalPrice * exchangeRates.rub.sum;
                        } else if (toCurrency === 'usd') {
                            return originalPrice * exchangeRates.rub.usd;
                        }
                    } else if (fromCurrency === 'sum') {
                        if (toCurrency === 'usd') {
                            return originalPrice * exchangeRates.sum.usd;
                        } else if (toCurrency === 'rub') {
                            return originalPrice * exchangeRates.sum.rub;
                        }
                    }
                    return originalPrice;
                }

                // Format price with currency symbol
                function formatPrice(amount, currency) {
                    var symbols = {
                        usd: '$',
                        rub: '₽',
                        sum: 'so\'m'
                    };
                    var symbol = symbols[currency] || '';
                    
                    if (currency === 'sum') {
                        // Format SUM with spaces (e.g., 15 000 000 so'm)
                        return Math.round(amount).toLocaleString('uz-UZ').replace(/,/g, ' ') + ' ' + symbol;
                    } else {
                        // Format USD and RUB with commas
                        return symbol + Math.round(amount).toLocaleString('en-US');
                    }
                }

                // Update all prices on the page
                function updatePrices(currency) {
                    document.querySelectorAll('.price').forEach(function(priceEl) {
                        var originalPrice = parseFloat(priceEl.getAttribute('data-original-price'));
                        var originalCurrency = priceEl.getAttribute('data-original-currency') || 'usd';
                        
                        if (!isNaN(originalPrice)) {
                            var convertedPrice = convertPrice(originalPrice, originalCurrency, currency);
                            priceEl.textContent = formatPrice(convertedPrice, currency);
                        }
                    });
                }

                function changeCurrency(currency) {
                    var currencyMap = {
                        'sum': 'SUM',
                        'usd': 'USD',
                        'rub': 'RUB'
                    };
                    
                    // Update current currency display
                    var currencyCurrent = document.getElementById('currencyCurrent');
                    if (currencyCurrent) {
                        currencyCurrent.textContent = currencyMap[currency] || 'SUM';
                    }
                    
                    // Update dropdown items
                    var dropdownItems = document.querySelectorAll('.currency-dropdown-item');
                    dropdownItems.forEach(function(item){ 
                        item.classList.remove('active');
                        if (item.textContent.trim() === currencyMap[currency]) {
                            item.classList.add('active');
                        }
                    });
                    
                    initPrices();
                    updatePrices(currency);
                    localStorage.setItem('ketmon_currency', currency);
                    
                    // Close dropdown
                    closeCurrencyDropdown();
                }

                function toggleCurrencyDropdown() {
                    var dropdown = document.getElementById('currencyDropdown');
                    var selector = document.querySelector('.currency-selector');
                    if (dropdown && selector) {
                        if (dropdown.classList.contains('open')) {
                            closeCurrencyDropdown();
                        } else {
                            dropdown.classList.add('open');
                            selector.classList.add('open');
                        }
                    }
                }

                function closeCurrencyDropdown() {
                    var dropdown = document.getElementById('currencyDropdown');
                    var selector = document.querySelector('.currency-selector');
                    if (dropdown) dropdown.classList.remove('open');
                    if (selector) selector.classList.remove('open');
                }

                function selectCurrency(currency) {
                    changeCurrency(currency);
                }

                // Close dropdown when clicking outside
                document.addEventListener('click', function(e) {
                    var selector = document.querySelector('.currency-selector');
                    var dropdown = document.getElementById('currencyDropdown');
                    var btn = document.getElementById('currencyDropdownBtn');
                    if (selector && dropdown && btn) {
                        if (!selector.contains(e.target) && dropdown.classList.contains('open')) {
                            closeCurrencyDropdown();
                        }
                    }
                });

                // Make functions globally accessible
                window.changeCurrency = changeCurrency;
                window.toggleCurrencyDropdown = toggleCurrencyDropdown;
                window.selectCurrency = selectCurrency;
                window.closeCurrencyDropdown = closeCurrencyDropdown;

                // Init currency on load
                document.addEventListener('DOMContentLoaded', function(){
                    initPrices();
                    var saved = localStorage.getItem('ketmon_currency') || 'sum';
                    changeCurrency(saved);
                });
            })();

            /* Removed mobile navigation toggle */

            // Search button interaction
            (function(){
                var btn = document.querySelector('.search-btn');
                if (!btn) return;
                btn.addEventListener('click', function(){
                    var destination = document.querySelector('[data-placeholder=\"search_destination_placeholder\"]')?.value || '';
                    var date = document.querySelector('.search-input input[type=\"date\"]')?.value || '';
                    var duration = document.querySelectorAll('.search-input select')[0]?.value || '';
                    var guests = document.querySelectorAll('.search-input select')[1]?.value || '';
                    console.log('Search:', { destination, date, duration, guests });
                    // Navigate to destinations
                    var dest = document.getElementById('destinations');
                    if (dest) dest.scrollIntoView({ behavior: 'smooth' });
                });
            })();

            // Tour Modal functionality
            (function(){
                var modal = document.getElementById('tourModal');
                var closeBtn = document.getElementById('tourModalClose');
                var titleEl = document.getElementById('tourModalTitle');
                var imgEl = document.getElementById('tourModalImage');
                var descEl = document.getElementById('tourModalDescription');
                var metaEl = document.getElementById('tourModalMeta');
                var bookBtn = document.getElementById('tourBookBtn');

                function openModal() {
                    if (!modal) modal = document.getElementById('tourModal');
                    modal.classList.add('open');
                    document.body.style.overflow = 'hidden';
                }
                function closeModal() {
                    modal.classList.remove('open');
                    document.body.style.overflow = '';
                }
                if (closeBtn) closeBtn.addEventListener('click', closeModal);
                if (modal) {
                    modal.addEventListener('click', function(e){
                        if (e.target === modal) closeModal();
                    });
                }
                document.addEventListener('keydown', function(e){
                    if (e.key === 'Escape' && modal.classList.contains('open')) closeModal();
                });

                // Delegated handler so it works for dynamically cloned cards
                function handleCard(card){
                    var titleNode = card.querySelector('.destination-title');
                    var descNode = card.querySelector('.destination-desc');
                    var priceNode = card.querySelector('.price');
                    var badgeNode = card.querySelector('.destination-badge');
                    var imgNode = card.querySelector('.destination-img img');

                    var title = (titleNode ? titleNode.textContent : 'Tour').trim();
                    var desc = (descNode ? descNode.textContent : 'Tour description').trim();
                    var price = (priceNode ? priceNode.textContent : '').trim();
                    var badge = (badgeNode ? badgeNode.textContent : '').trim();
                    var agencyValue = card.getAttribute('data-agency');
                    var agencyNameEl = document.querySelector('.agency-card[data-agency="' + agencyValue + '"] h3');
                    var agencyName = agencyNameEl ? agencyNameEl.textContent.trim() : '';
                    var imgSrc = imgNode ? imgNode.getAttribute('src') : '';

                    titleEl.textContent = title;
                    descEl.textContent = desc + (price ? ' • ' + price : '');
                    metaEl.innerHTML = '';
                    if (badge) {
                        var chip = document.createElement('span');
                        chip.className = 'meta-chip';
                        chip.textContent = badge;
                        metaEl.appendChild(chip);
                    }
                    if (price) {
                        var chip2 = document.createElement('span');
                        chip2.className = 'meta-chip';
                        chip2.textContent = price;
                        metaEl.appendChild(chip2);
                    }
                    if (agencyName) {
                        var chip3 = document.createElement('span');
                        chip3.className = 'meta-chip';
                        chip3.textContent = agencyName;
                        metaEl.appendChild(chip3);
                    }
                    if (imgSrc) {
                        imgEl.src = imgSrc;
                        imgEl.alt = title + ' image';
                    } else {
                        imgEl.src = 'https://images.unsplash.com/photo-1507525428034-b723cf961d3e?q=80&w=1200&auto=format&fit=crop';
                        imgEl.alt = 'Tour image';
                    }

                    // Booking button opens payment modal
                    bookBtn.onclick = function(){
                        window.currentTourBooking = {
                            title: title,
                            price: price,
                            description: desc,
                            agency: agencyName,
                            image: imgSrc || 'https://images.unsplash.com/photo-1507525428034-b723cf961d3e?q=80&w=1200&auto=format&fit=crop'
                        };
                        closeModal();
                        var paymentModal = document.getElementById('paymentModal');
                        if (paymentModal) {
                            var paymentTourName = document.getElementById('paymentTourName');
                            var paymentTourPrice = document.getElementById('paymentTourPrice');
                            if (paymentTourName) paymentTourName.textContent = title;
                            if (paymentTourPrice) paymentTourPrice.textContent = price || 'Narx aniqlanmoqda';
                            paymentModal.classList.add('open');
                            document.body.style.overflow = 'hidden';
                        }
                    };

                    openModal();
                }

                var destGrid = document.querySelector('.destinations .destination-grid');
                if (destGrid) {
                    destGrid.addEventListener('click', function(e){
                        var card = e.target.closest('.destination-card');
                        if (!card || !destGrid.contains(card)) return;
                        handleCard(card);
                    });
                }
            })();

            /* Repeat "Popular Destinations" horizontally on demand so users can keep scrolling on mobile */
            (function(){
                var grid = document.querySelector('.destinations .destination-grid');
                if (!grid) return;
                var originals = Array.prototype.slice.call(grid.querySelectorAll('.destination-card'));
                if (!originals.length) return;

                function appendBatch() {
                    var frag = document.createDocumentFragment();
                    for (var i = 0; i < originals.length; i++) {
                        frag.appendChild(originals[i].cloneNode(true));
                    }
                    grid.appendChild(frag);
                }

                function ensureLength() {
                    var rounds = 0;
                    while (grid.scrollWidth < grid.clientWidth * 3 && rounds < 4) {
                        appendBatch();
                        rounds++;
                    }
                }

                function maybeExtend() {
                    var remaining = grid.scrollWidth - (grid.scrollLeft + grid.clientWidth);
                    if (remaining < 80) {
                        appendBatch();
                    }
                }

                function enable() {
                    ensureLength();
                    grid.addEventListener('scroll', maybeExtend, { passive: true });
                }

                if (document.readyState === 'complete' || document.readyState === 'interactive') {
                    enable();
                } else {
                    document.addEventListener('DOMContentLoaded', enable);
                }
                window.addEventListener('resize', ensureLength);
            })();

            // Agency filter interactions
            (function(){
                var agencySelect = document.getElementById('agencyFilter');
                var tourCards = Array.from(document.querySelectorAll('.destination-card'));
                var agencyTypeButtons = Array.from(document.querySelectorAll('.agency-toolbar button'));
                var currentAgency = 'all';
                var currentType = 'all';

                function syncToolbar() {
                    agencyTypeButtons.forEach(function(btn){
                        btn.classList.toggle('active', (btn.getAttribute('data-filter') || 'all') === currentType);
                    });
                }

                function applyFilter() {
                    // Filter tours
                    tourCards.forEach(function(card){
                        var agency = card.getAttribute('data-agency');
                        var type = card.getAttribute('data-type') || 'all';
                        var agencyMatch = currentAgency === 'all' || agency === currentAgency;
                        var typeMatch = currentType === 'all' || type === currentType;
                        var shouldShow = agencyMatch && typeMatch;
                        card.classList.toggle('hidden', !shouldShow);
                    });

                    // Filter agencies (query current cards to include any clones)
                    var allAgencyCards = Array.from(document.querySelectorAll('.agency-card'));
                    allAgencyCards.forEach(function(card){
                        var agency = card.getAttribute('data-agency');
                        var type = card.getAttribute('data-type') || 'all';
                        var typeAllowed = currentType === 'all' || type === currentType;
                        var agencyMatch = currentAgency === 'all' || agency === currentAgency;
                        var shouldShow = typeAllowed && (currentAgency === 'all' || agencyMatch);
                        card.classList.toggle('hidden', !shouldShow);
                        card.classList.toggle('active', agencyMatch);
                    });
                }

                if (agencySelect) {
                    agencySelect.addEventListener('change', function(){
                        currentAgency = agencySelect.value || 'all';
                        applyFilter();
                    });
                    currentAgency = agencySelect.value || 'all';
                }

                agencyTypeButtons.forEach(function(btn){
                    btn.addEventListener('click', function(){
                        currentType = btn.getAttribute('data-filter') || 'all';
                        currentAgency = 'all';
                        if (agencySelect) agencySelect.value = 'all';
                        syncToolbar();
                        applyFilter();
                    });
                });

                // Per-card click for existing cards (kept)
                Array.from(document.querySelectorAll('.agency-card')).forEach(function(card){
                    card.addEventListener('click', function(){
                        var value = card.getAttribute('data-agency');
                        var type = card.getAttribute('data-type') || 'all';
                        currentAgency = value;
                        currentType = type;
                        if (agencySelect) {
                            agencySelect.value = value;
                        }
                        syncToolbar();
                        applyFilter();
                        var destEl = document.getElementById('destinations');
                        if (destEl) destEl.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    });
                });

                // Delegated click so cloned cards behave the same
                var agencyGrid = document.querySelector('.agency-section .agency-grid');
                if (agencyGrid) {
                    agencyGrid.addEventListener('click', function(e){
                        var card = e.target.closest('.agency-card');
                        if (!card || !agencyGrid.contains(card)) return;
                        var value = card.getAttribute('data-agency');
                        var type = card.getAttribute('data-type') || 'all';
                        currentAgency = value;
                        currentType = type;
                        if (agencySelect) agencySelect.value = value;
                        syncToolbar();
                        applyFilter();
                        var destEl = document.getElementById('destinations');
                        if (destEl) destEl.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    });
                }

                // Initialize filter state
                if (agencyTypeButtons.length) {
                    var defaultBtn = agencyTypeButtons.find(function(btn){ return btn.classList.contains('active'); }) || agencyTypeButtons[0];
                    currentType = defaultBtn ? defaultBtn.getAttribute('data-filter') || 'all' : 'all';
                    syncToolbar();
                }
                applyFilter();
            })();

            /* Infinite horizontal scroll for Agency grid (Hamkor Agentliklar) */
            (function(){
                var grid = document.querySelector('.agency-section .agency-grid');
                if (!grid) return;
                var originals = Array.prototype.slice.call(grid.querySelectorAll('.agency-card'));
                if (!originals.length) return;

                function appendBatch() {
                    var frag = document.createDocumentFragment();
                    for (var i = 0; i < originals.length; i++) {
                        frag.appendChild(originals[i].cloneNode(true));
                    }
                    grid.appendChild(frag);
                }

                function ensureLength() {
                    var rounds = 0;
                    while (grid.scrollWidth < grid.clientWidth * 3 && rounds < 4) {
                        appendBatch();
                        rounds++;
                    }
                }

                function maybeExtend() {
                    var remaining = grid.scrollWidth - (grid.scrollLeft + grid.clientWidth);
                    if (remaining < 80) appendBatch();
                }

                function enable() {
                    ensureLength();
                    grid.addEventListener('scroll', maybeExtend, { passive: true });
                }

                if (document.readyState === 'complete' || document.readyState === 'interactive') {
                    enable();
                } else {
                    document.addEventListener('DOMContentLoaded', enable);
                }
                window.addEventListener('resize', ensureLength);
            })();

            // Payment Modal functionality
            // Payment Modal functionality
            (function(){
                var paymentModal = document.getElementById('paymentModal');
                var paymentCloseBtn = document.getElementById('paymentModalClose');
                var paymentCancelBtn = document.getElementById('paymentCancel');
                var paymentForm = document.getElementById('paymentForm');
                var cardNumberInput = document.getElementById('paymentCardNumber');
                var expiryInput = document.getElementById('paymentExpiry');
                var cvvInput = document.getElementById('paymentCVV');

                function openPaymentModal() {
                    paymentModal.classList.add('open');
                    document.body.style.overflow = 'hidden';
                }

                function closePaymentModal() {
                    paymentModal.classList.remove('open');
                    document.body.style.overflow = '';
                    paymentForm.reset();
                }

                // Close handlers
                if (paymentCloseBtn) {
                    paymentCloseBtn.addEventListener('click', closePaymentModal);
                }
                if (paymentCancelBtn) {
                    paymentCancelBtn.addEventListener('click', closePaymentModal);
                }
                if (paymentModal) {
                    paymentModal.addEventListener('click', function(e){
                        if (e.target === paymentModal) closePaymentModal();
                    });
                }
                document.addEventListener('keydown', function(e){
                    if (e.key === 'Escape' && paymentModal.classList.contains('open')) {
                        closePaymentModal();
                    }
                });

                // Format card number (add spaces every 4 digits)
                if (cardNumberInput) {
                    cardNumberInput.addEventListener('input', function(e){
                        var value = e.target.value.replace(/\s/g, '');
                        var formatted = value.match(/.{1,4}/g)?.join(' ') || value;
                        e.target.value = formatted;
                    });
                }

                // Format expiry date (MM/YY)
                if (expiryInput) {
                    expiryInput.addEventListener('input', function(e){
                        var value = e.target.value.replace(/\D/g, '');
                        if (value.length >= 2) {
                            value = value.substring(0, 2) + '/' + value.substring(2, 4);
                        }
                        e.target.value = value;
                    });
                }

                // Only allow numbers for CVV
                if (cvvInput) {
                    cvvInput.addEventListener('input', function(e){
                        e.target.value = e.target.value.replace(/\D/g, '');
                    });
                }

                // Handle form submission
                if (paymentForm) {
                    paymentForm.addEventListener('submit', function(e){
                        e.preventDefault();
                        
                        // Get form data
                        var formData = {
                            name: document.getElementById('paymentName').value,
                            email: document.getElementById('paymentEmail').value,
                            phone: document.getElementById('paymentPhone').value,
                            cardNumber: document.getElementById('paymentCardNumber').value.replace(/\s/g, ''),
                            expiry: document.getElementById('paymentExpiry').value,
                            cvv: document.getElementById('paymentCVV').value,
                            address: document.getElementById('paymentAddress').value,
                            tour: window.currentTourBooking || {}
                        };

                        console.log('Payment submitted:', formData);

                        // Simulate payment processing
                        var submitBtn = paymentForm.querySelector('button[type="submit"]');
                        var originalText = submitBtn.textContent;
                        submitBtn.textContent = 'To\'lov amalga oshirilmoqda...';
                        submitBtn.disabled = true;

                        // Simulate API call
                        setTimeout(function(){
                            submitBtn.textContent = originalText;
                            submitBtn.disabled = false;
                            
                            // Show success message
                            alert('To\'lov muvaffaqiyatli amalga oshirildi! Batafsil ma\'lumot email orqali yuboriladi.');
                            
                            // Close modal and reset form
                            closePaymentModal();
                            
                            // Optional: Redirect or show confirmation
                            // window.location.href = '/confirmation';
                        }, 2000);
                    });
                }

                // Make openPaymentModal available globally if needed
                window.openPaymentModal = openPaymentModal;
                window.closePaymentModal = closePaymentModal;
            })();

            // Header CTAs interactions
            (function(){
                var book = document.querySelector('header [data-text=\"nav_book\"]');
                
                if (book) book.addEventListener('click', function(e){
                    // Scroll to search section as a booking entry point
                    var anchor = document.getElementById('search');
                    if (anchor) { e.preventDefault(); anchor.scrollIntoView({ behavior: 'smooth' }); }
                });
                // Open login/register modals
                var loginModal = document.getElementById('loginModal');
                var registerModal = document.getElementById('registerModal');
                function open(el){ el.classList.add('open'); document.body.style.overflow='hidden'; }
                function close(el){ el.classList.remove('open'); document.body.style.overflow=''; }
                
                // Update header actions according to auth state
                function updateHeaderAuth() {
                    var acc = document.getElementById('accountLink');
                    var logoutBtn = document.getElementById('logoutBtn');
                    var loginBtn = document.getElementById('topBarLoginBtn');
                    var regBtn = document.getElementById('topBarRegisterBtn');
                    var user = null;
                    try { user = JSON.parse(localStorage.getItem('ketmon_user') || 'null'); } catch(e) {}
                    if (user && (user.name || user.email)) {
                        if (acc) {
                            acc.style.display = 'inline-flex';
                            acc.textContent = user.name ? (user.name.split(' ')[0]) : 'Profil';
                        }
                        if (logoutBtn) logoutBtn.style.display = 'inline-flex';
                        if (loginBtn) loginBtn.style.display = 'none';
                        if (regBtn) regBtn.style.display = 'none';
                    } else {
                        if (acc) acc.style.display = 'none';
                        if (logoutBtn) logoutBtn.style.display = 'none';
                        if (loginBtn) loginBtn.style.display = '';
                        if (regBtn) regBtn.style.display = '';
                    }
                }
                
                // Logout function - clears auth data and updates header
                window.logout = function() {
                    try {
                        localStorage.removeItem('ketmon_user');
                        localStorage.removeItem('ketmon_token');
                        localStorage.removeItem('ketmon_avatar');
                        localStorage.removeItem('ketmon_agency');
                    } catch(e) {
                        console.error('Logout error:', e);
                    }
                    updateHeaderAuth();
                    // If on profile page, redirect to home
                    if (window.location.pathname.includes('profile.html')) {
                        window.location.href = 'index.html';
                    }
                };
                document.addEventListener('DOMContentLoaded', updateHeaderAuth);
                updateHeaderAuth();

                // Add event listeners to all login/register buttons (top bar only)
                var topBarLoginBtn = document.getElementById('topBarLoginBtn');
                var topBarRegisterBtn = document.getElementById('topBarRegisterBtn');
                
                // Note: topBarLoginBtn handler will be updated later to include saved account functionality
                if (topBarLoginBtn) {
                    topBarLoginBtn.addEventListener('click', function(e){ e.preventDefault(); open(loginModal); });
                }
                if (topBarRegisterBtn) {
                    topBarRegisterBtn.addEventListener('click', function(e){ e.preventDefault(); open(registerModal); });
                }

                // Close buttons and backdrop clicks
                document.getElementById('loginModalClose').addEventListener('click', function(){ close(loginModal); });
                document.getElementById('registerModalClose').addEventListener('click', function(){ close(registerModal); });
                loginModal.addEventListener('click', function(e){ if (e.target === loginModal) close(loginModal); });
                registerModal.addEventListener('click', function(e){ if (e.target === registerModal) close(registerModal); });

                // License Modal
                var licenseModal = document.getElementById('licenseModal');
                var licenseData = {
                    'atlas': {
                        name: 'Atlas Travel',
                        number: 'UZ-TA-2021-AT-001234',
                        issued: '2021-03-15',
                        expires: '2026-03-15',
                        authority: 'O\'zbekiston Respublikasi Turizm va madaniy meros vazirligi'
                    },
                    'samarqand': {
                        name: 'Samarqand Tours',
                        number: 'UZ-TA-2019-ST-005678',
                        issued: '2019-06-20',
                        expires: '2024-06-20',
                        authority: 'O\'zbekiston Respublikasi Turizm va madaniy meros vazirligi'
                    },
                    'nomad': {
                        name: 'Nomad Explorer',
                        number: 'UZ-TA-2020-NE-003456',
                        issued: '2020-09-10',
                        expires: '2025-09-10',
                        authority: 'O\'zbekiston Respublikasi Turizm va madaniy meros vazirligi'
                    },
                    'clubtravel': {
                        name: 'ClubTravel UZ',
                        number: 'UZ-TA-2018-CT-007890',
                        issued: '2018-11-25',
                        expires: '2023-11-25',
                        authority: 'O\'zbekiston Respublikasi Turizm va madaniy meros vazirligi'
                    },
                    'silk': {
                        name: 'Silk Road Elite',
                        number: 'UZ-TA-2022-SR-009012',
                        issued: '2022-01-18',
                        expires: '2027-01-18',
                        authority: 'O\'zbekiston Respublikasi Turizm va madaniy meros vazirligi'
                    },
                    'azialux': {
                        name: 'AziaLux Travel',
                        number: 'UZ-TA-2021-AL-004567',
                        issued: '2021-05-12',
                        expires: '2026-05-12',
                        authority: 'O\'zbekiston Respublikasi Turizm va madaniy meros vazirligi'
                    },
                    'globalvoyage': {
                        name: 'Global Voyage Hub',
                        number: 'UZ-TA-2020-GV-008901',
                        issued: '2020-08-30',
                        expires: '2025-08-30',
                        authority: 'O\'zbekiston Respublikasi Turizm va madaniy meros vazirligi'
                    }
                };

                window.showLicense = function(agencyId) {
                    var data = licenseData[agencyId];
                    if (!data) return;

                    document.getElementById('licenseAgencyName').textContent = data.name;
                    document.getElementById('licenseNumber').textContent = data.number;
                    document.getElementById('licenseIssued').textContent = data.issued;
                    document.getElementById('licenseExpires').textContent = data.expires;
                    document.getElementById('licenseAuthority').textContent = data.authority;

                    // Apply translations
                    var lang = localStorage.getItem('ketmon_lang') || 'uz';
                    var dict = window.i18n && window.i18n[lang] || {};
                    
                    // Apply translations to all license modal elements
                    var titleEl = document.getElementById('licenseModalTitle');
                    if (titleEl && dict.license_title) titleEl.textContent = dict.license_title;
                    
                    document.querySelectorAll('[data-text^="license_"]').forEach(function(el) {
                        var key = el.getAttribute('data-text');
                        if (key && dict[key] !== undefined) {
                            el.textContent = dict[key];
                        }
                    });

                    open(licenseModal);
                };

                document.getElementById('licenseModalClose').addEventListener('click', function(){ close(licenseModal); });
                licenseModal.addEventListener('click', function(e){ if (e.target === licenseModal) close(licenseModal); });

                // All Destinations Modal
                var allDestinationsModal = document.getElementById('allDestinationsModal');
                var allDestinationsGrid = document.getElementById('allDestinationsGrid');

                window.showAllDestinations = function() {
                    // Clear previous content
                    allDestinationsGrid.innerHTML = '';
                    
                    // Get all destination cards from the page
                    var destinationCards = document.querySelectorAll('.destination-card');
                    
                    // Clone and add each destination card to the modal
                    destinationCards.forEach(function(card) {
                        var clonedCard = card.cloneNode(true);
                        allDestinationsGrid.appendChild(clonedCard);
                    });

                    // Apply translations
                    var lang = localStorage.getItem('ketmon_lang') || 'uz';
                    var dict = window.i18n && window.i18n[lang] || {};
                    if (dict.destinations_title) {
                        document.getElementById('allDestinationsModalTitle').textContent = dict.destinations_title;
                    }

                    // Apply translations to cloned cards
                    if (window.applyTranslations) {
                        window.applyTranslations(lang);
                    }

                    open(allDestinationsModal);
                };

                document.getElementById('allDestinationsModalClose').addEventListener('click', function(){ close(allDestinationsModal); });
                allDestinationsModal.addEventListener('click', function(e){ if (e.target === allDestinationsModal) close(allDestinationsModal); });

                // All Agencies Modal
                var allAgenciesModal = document.getElementById('allAgenciesModal');
                var allAgenciesGrid = document.getElementById('allAgenciesGrid');

                window.showAllAgencies = function() {
                    // Clear previous content
                    allAgenciesGrid.innerHTML = '';
                    
                    // Get all agency cards from the page
                    var agencyCards = document.querySelectorAll('.agency-card');
                    
                    // Clone and add each agency card to the modal
                    agencyCards.forEach(function(card) {
                        var clonedCard = card.cloneNode(true);
                        allAgenciesGrid.appendChild(clonedCard);
                    });

                    // Apply translations
                    var lang = localStorage.getItem('ketmon_lang') || 'uz';
                    var dict = window.i18n && window.i18n[lang] || {};
                    if (dict.agency_section_title) {
                        document.getElementById('allAgenciesModalTitle').textContent = dict.agency_section_title;
                    }

                    // Apply translations to cloned cards
                    if (window.applyTranslations) {
                        window.applyTranslations(lang);
                    }

                    open(allAgenciesModal);
                };

                document.getElementById('allAgenciesModalClose').addEventListener('click', function(){ close(allAgenciesModal); });
                allAgenciesModal.addEventListener('click', function(e){ if (e.target === allAgenciesModal) close(allAgenciesModal); });

                // Saved account functionality
                function loadSavedAccount() {
                    var savedAccount = localStorage.getItem('ketmon_saved_account');
                    var savedAccountDisplay = document.getElementById('savedAccountDisplay');
                    var loginFormFields = document.getElementById('loginFormFields');
                    var savedAccountEmail = document.getElementById('savedAccountEmail');
                    
                    if (savedAccount) {
                        var accountData = JSON.parse(savedAccount);
                        savedAccountEmail.textContent = accountData.email;
                        savedAccountDisplay.style.display = 'block';
                        loginFormFields.style.display = 'none';
                    } else {
                        savedAccountDisplay.style.display = 'none';
                        loginFormFields.style.display = 'block';
                    }
                }

                function useSavedAccount() {
                    var savedAccount = localStorage.getItem('ketmon_saved_account');
                    if (!savedAccount) return;
                    
                    var accountData = JSON.parse(savedAccount);
                    
                    // Auto-fill and submit login
                    var userData = JSON.parse(localStorage.getItem('ketmon_user') || 'null');
                    // If user wasn't registered in this demo flow, create a minimal profile
                    if (!userData || !userData.email) {
                        userData = { name: accountData.email.split('@')[0], email: accountData.email, role: 'customer' };
                        localStorage.setItem('ketmon_user', JSON.stringify(userData));
                    }
                    
                    close(loginModal);
                    updateHeaderAuth();
                    window.location.href = 'profile.html';
                }

                function forgetSavedAccount() {
                    if (confirm('Saqlangan akkauntni o\'chirishni xohlaysizmi?')) {
                        localStorage.removeItem('ketmon_saved_account');
                        loadSavedAccount();
                    }
                }

                function enterNewAccount() {
                    var savedAccountDisplay = document.getElementById('savedAccountDisplay');
                    var loginFormFields = document.getElementById('loginFormFields');
                    savedAccountDisplay.style.display = 'none';
                    loginFormFields.style.display = 'block';
                    document.getElementById('loginEmail').focus();
                }

                // Load saved account when login modal opens
                function originalOpenLogin() {
                    open(loginModal);
                    loadSavedAccount();
                }

                // Update login button handler to load saved account (replaces earlier handler)
                if (topBarLoginBtn) {
                    // Clone node to remove all event listeners
                    var newLoginBtn = topBarLoginBtn.cloneNode(true);
                    topBarLoginBtn.parentNode.replaceChild(newLoginBtn, topBarLoginBtn);
                    topBarLoginBtn = newLoginBtn;
                    topBarLoginBtn.addEventListener('click', function(e) {
                        e.preventDefault();
                        originalOpenLogin();
                    });
                }

                document.getElementById('loginToRegister').addEventListener('click', function(){ 
                    close(loginModal); 
                    open(registerModal); 
                });

                document.getElementById('registerToLogin').addEventListener('click', function(){ 
                    close(registerModal); 
                    originalOpenLogin(); 
                });

                // Saved account button handlers
                document.getElementById('useSavedAccountBtn').addEventListener('click', useSavedAccount);
                document.getElementById('forgetAccountBtn').addEventListener('click', forgetSavedAccount);
                document.getElementById('enterNewAccountBtn').addEventListener('click', enterNewAccount);

                // Handle submit (demo)
                document.getElementById('loginForm').addEventListener('submit', function(e){
                    e.preventDefault();
                    var email = document.getElementById('loginEmail').value || '';
                    var password = document.getElementById('loginPassword').value || '';
                    var rememberMe = document.getElementById('rememberMe').checked;
                    
                    // Validate inputs
                    if (!email || !password) {
                        alert('Iltimos, email va parolni kiriting.');
                        return;
                    }
                    
                    // Save account if "remember me" is checked
                    if (rememberMe) {
                        localStorage.setItem('ketmon_saved_account', JSON.stringify({ email: email }));
                    }
                    
                    var userData = JSON.parse(localStorage.getItem('ketmon_user') || 'null');
                    // If user wasn't registered in this demo flow, create a minimal profile
                    if (!userData || !userData.email) {
                        userData = { name: email.split('@')[0], email: email, role: 'customer' };
                        localStorage.setItem('ketmon_user', JSON.stringify(userData));
                    }
                    
                    close(loginModal);
                    updateHeaderAuth();
                    window.location.href = 'profile.html';
                });
                document.getElementById('registerForm').addEventListener('submit', function(e){
                    e.preventDefault();
                    var role = document.getElementById('regRole').value;
                    if (role === 'agency') {
                        var aname = document.getElementById('regAgencyName').value || '';
                        var lic = document.getElementById('regLicense').value || '';
                        var email = document.getElementById('regAgencyEmail').value || '';
                        var phone = document.getElementById('regAgencyPhone').value || '';
                        
                        // Save agency data
                        var agencyData = {
                            name: aname,
                            license: lic,
                            email: email,
                            phone: phone,
                            role: 'agency'
                        };
                        localStorage.setItem('ketmon_agency', JSON.stringify(agencyData));
                        localStorage.setItem('ketmon_user', JSON.stringify({...agencyData, name: aname, email: email}));
                        
                        close(registerModal);
                        updateHeaderAuth();
                        // Show profile for agency too to avoid 404 (panel not implemented yet)
                        window.location.href = 'profile.html';
                    } else {
                        var name = document.getElementById('regName').value || '';
                        var email = document.getElementById('regEmail').value || '';
                        
                        // Save customer data
                        var userData = {
                            name: name,
                            email: email,
                            role: 'customer'
                        };
                        localStorage.setItem('ketmon_user', JSON.stringify(userData));
                        
                        close(registerModal);
                        updateHeaderAuth();
                        window.location.href = 'profile.html';
                    }
                });

                // Esc key to close auth modals
                document.addEventListener('keydown', function(e){
                    if (e.key === 'Escape') {
                        if (loginModal.classList.contains('open')) close(loginModal);
                        if (registerModal.classList.contains('open')) close(registerModal);
                    }
                });

                // Register tabs toggle
                var regRoleInput = document.getElementById('regRole');
                var tabCustomer = document.getElementById('regTabCustomer');
                var tabAgency = document.getElementById('regTabAgency');
                var fieldsCustomer = document.getElementById('regFieldsCustomer');
                var fieldsAgency = document.getElementById('regFieldsAgency');
                function setRole(role){
                    regRoleInput.value = role;
                    if (role === 'agency') {
                        tabAgency.classList.add('active'); tabAgency.setAttribute('aria-selected','true');
                        tabCustomer.classList.remove('active'); tabCustomer.setAttribute('aria-selected','false');
                        fieldsAgency.classList.remove('hidden'); fieldsCustomer.classList.add('hidden');
                        // Relax required on hidden fields
                        document.getElementById('regName').required = false;
                        document.getElementById('regEmail').required = false;
                        document.getElementById('regPassword').required = false;
                        // Agency fields not strictly required for demo
                    } else {
                        tabCustomer.classList.add('active'); tabCustomer.setAttribute('aria-selected','true');
                        tabAgency.classList.remove('active'); tabAgency.setAttribute('aria-selected','false');
                        fieldsCustomer.classList.remove('hidden'); fieldsAgency.classList.add('hidden');
                        document.getElementById('regName').required = true;
                        document.getElementById('regEmail').required = true;
                        document.getElementById('regPassword').required = true;
                    }
                }
                tabCustomer.addEventListener('click', function(){ setRole('customer'); });
                tabAgency.addEventListener('click', function(){ setRole('agency'); });
                // ensure default state
                setRole('customer');
            })();
            // Agency filter interactions
            (function(){
                var agencySelect = document.getElementById('agencyFilter');
                var tourCards = Array.from(document.querySelectorAll('.destination-card'));
                var agencyTypeButtons = Array.from(document.querySelectorAll('.agency-toolbar button'));
                var currentAgency = 'all';
                var currentType = 'all';

                function syncToolbar() {
                    agencyTypeButtons.forEach(function(btn){
                        btn.classList.toggle('active', (btn.getAttribute('data-filter') || 'all') === currentType);
                    });
                }

                function applyFilter() {
                    // Filter tours
                    tourCards.forEach(function(card){
                        var agency = card.getAttribute('data-agency');
                        var type = card.getAttribute('data-type') || 'all';
                        var agencyMatch = currentAgency === 'all' || agency === currentAgency;
                        var typeMatch = currentType === 'all' || type === currentType;
                        var shouldShow = agencyMatch && typeMatch;
                        card.classList.toggle('hidden', !shouldShow);
                    });

                    // Filter agencies (query current cards to include any clones)
                    var allAgencyCards = Array.from(document.querySelectorAll('.agency-card'));
                    allAgencyCards.forEach(function(card){
                        var agency = card.getAttribute('data-agency');
                        var type = card.getAttribute('data-type') || 'all';
                        var typeAllowed = currentType === 'all' || type === currentType;
                        var agencyMatch = currentAgency === 'all' || agency === currentAgency;
                        var shouldShow = typeAllowed && (currentAgency === 'all' || agencyMatch);
                        card.classList.toggle('hidden', !shouldShow);
                        card.classList.toggle('active', agencyMatch);
                    });
                }

                if (agencySelect) {
                    agencySelect.addEventListener('change', function(){
                        currentAgency = agencySelect.value || 'all';
                        applyFilter();
                    });
                    currentAgency = agencySelect.value || 'all';
                }

                agencyTypeButtons.forEach(function(btn){
                    btn.addEventListener('click', function(){
                        currentType = btn.getAttribute('data-filter') || 'all';
                        currentAgency = 'all';
                        if (agencySelect) agencySelect.value = 'all';
                        syncToolbar();
                        applyFilter();
                    });
                });

                // Per-card click for existing cards (kept)
                Array.from(document.querySelectorAll('.agency-card')).forEach(function(card){
                    card.addEventListener('click', function(){
                        var value = card.getAttribute('data-agency');
                        var type = card.getAttribute('data-type') || 'all';
                        currentAgency = value;
                        currentType = type;
                        if (agencySelect) {
                            agencySelect.value = value;
                        }
                        syncToolbar();
                        applyFilter();
                        var destEl = document.getElementById('destinations');
                        if (destEl) destEl.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    });
                });

                // Delegated click so cloned cards behave the same
                var agencyGrid = document.querySelector('.agency-section .agency-grid');
                if (agencyGrid) {
                    agencyGrid.addEventListener('click', function(e){
                        var card = e.target.closest('.agency-card');
                        if (!card || !agencyGrid.contains(card)) return;
                        var value = card.getAttribute('data-agency');
                        var type = card.getAttribute('data-type') || 'all';
                        currentAgency = value;
                        currentType = type;
                        if (agencySelect) agencySelect.value = value;
                        syncToolbar();
                        applyFilter();
                        var destEl = document.getElementById('destinations');
                        if (destEl) destEl.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    });
                }

                // Initialize filter state
                if (agencyTypeButtons.length) {
                    var defaultBtn = agencyTypeButtons.find(function(btn){ return btn.classList.contains('active'); }) || agencyTypeButtons[0];
                    currentType = defaultBtn ? defaultBtn.getAttribute('data-filter') || 'all' : 'all';
                    syncToolbar();
                }
                applyFilter();
            })();

            /* Infinite horizontal scroll for Agency grid (Hamkor Agentliklar) */
            (function(){
                var grid = document.querySelector('.agency-section .agency-grid');
                if (!grid) return;
                var originals = Array.prototype.slice.call(grid.querySelectorAll('.agency-card'));
                if (!originals.length) return;

                function appendBatch() {
                    var frag = document.createDocumentFragment();
                    for (var i = 0; i < originals.length; i++) {
                        frag.appendChild(originals[i].cloneNode(true));
                    }
                    grid.appendChild(frag);
                }

                function ensureLength() {
                    var rounds = 0;
                    while (grid.scrollWidth < grid.clientWidth * 3 && rounds < 4) {
                        appendBatch();
                        rounds++;
                    }
                }

                function maybeExtend() {
                    var remaining = grid.scrollWidth - (grid.scrollLeft + grid.clientWidth);
                    if (remaining < 80) appendBatch();
                }

                function enable() {
                    ensureLength();
                    grid.addEventListener('scroll', maybeExtend, { passive: true });
                }

                if (document.readyState === 'complete' || document.readyState === 'interactive') {
                    enable();
                } else {
                    document.addEventListener('DOMContentLoaded', enable);
                }
                window.addEventListener('resize', ensureLength);
            })();
            // Trip category buttons
            (function(){
                var categoryBtns = document.querySelectorAll('.trip-category-btn');
                var destinationCards = document.querySelectorAll('.trip-destination-card');
                
                function filterDestinations(category) {
                    destinationCards.forEach(function(card) {
                        var categories = card.getAttribute('data-categories');
                        if (categories && categories.includes(category)) {
                            card.classList.remove('hidden');
                        } else {
                            card.classList.add('hidden');
                        }
                    });
                }
                
                categoryBtns.forEach(function(btn){
                    btn.addEventListener('click', function(){
                        categoryBtns.forEach(function(b){ b.classList.remove('active'); });
                        btn.classList.add('active');
                        var category = btn.getAttribute('data-category');
                        filterDestinations(category);
                    });
                });
                
                // Initialize with festivals category (active by default)
                filterDestinations('festivals');
            })();

            // AI Assistant functionality
            (function(){
                var aiForm = document.getElementById('aiForm');
                var aiResponse = document.getElementById('aiResponse');
                var aiSeason = document.getElementById('aiSeason');
                var aiMonthField = document.getElementById('aiMonthField');
                var aiMonth = document.getElementById('aiMonth');

                // Season to months mapping
                var seasonMonths = {
                    'summer': ['june', 'july', 'august'],      // Yoz: Iyun, Iyul, Avgust
                    'autumn': ['september', 'october', 'november'], // Kuz: Sentabr, Oktabr, Noyabr
                    'winter': ['december', 'january', 'february'],  // Qish: Dekabr, Yanvar, Fevral
                    'spring': ['march', 'april', 'may']        // Bahor: Mart, Aprel, May
                };

                // Store all month options
                var allMonthOptions = [];
                if (aiMonth) {
                    var options = aiMonth.querySelectorAll('option');
                    options.forEach(function(opt){
                        allMonthOptions.push({
                            value: opt.value,
                            text: opt.textContent,
                            dataText: opt.getAttribute('data-text'),
                            element: opt.cloneNode(true)
                        });
                    });
                }

                function filterMonthsBySeason(season){
                    if (!aiMonth) return;
                    
                    // Clear current options except the first (default "Tanlang")
                    aiMonth.innerHTML = '';
                    
                    // Add default option
                    var defaultOption = allMonthOptions[0];
                    if (defaultOption) {
                        var opt = defaultOption.element.cloneNode(true);
                        aiMonth.appendChild(opt);
                    }
                    
                    // Get months for selected season
                    var monthsForSeason = seasonMonths[season] || [];
                    
                    // Add filtered month options
                    allMonthOptions.forEach(function(month){
                        if (month.value && monthsForSeason.includes(month.value)) {
                            var opt = month.element.cloneNode(true);
                            aiMonth.appendChild(opt);
                        }
                    });
                }

                // Show/hide month field based on season selection
                if (aiSeason && aiMonthField) {
                    aiSeason.addEventListener('change', function(){
                        var season = this.value;
                        // Show month field for any season selection
                        if (season) {
                            aiMonthField.style.display = 'block';
                            // Filter months based on selected season
                            filterMonthsBySeason(season);
                            // Reset month to default empty value when season changes
                            if (aiMonth) {
                                aiMonth.value = '';
                            }
                        } else {
                            aiMonthField.style.display = 'none';
                            // Reset month to default empty value
                            if (aiMonth) {
                                aiMonth.value = '';
                            }
                        }
                    });
                }

                // Handle form submission
                if (aiForm && aiResponse) {
                    aiForm.addEventListener('submit', function(e){
                        e.preventDefault();
                        
                        var budget = document.getElementById('aiBudget').value;
                        var destination = document.getElementById('aiDestination').value;
                        var season = aiSeason ? aiSeason.value : '';
                        var month = aiMonth ? aiMonth.value : '';

                        // Validation
                        if (!budget || parseFloat(budget) < 100) {
                            aiResponse.textContent = 'Iltimos, budjetni kiriting (minimal 100 USD).';
                            aiResponse.style.color = '#e74c3c';
                            return;
                        }

                        // Show loading state
                        aiResponse.innerHTML = '<div style="text-align: center; padding: 20px;">⏳ Tavsiyalar tayyorlanmoqda...</div>';
                        aiResponse.style.color = '#0a4d68';

                        // Simulate AI processing (in a real app, this would call an API)
                        setTimeout(function(){
                            var recommendations = generateRecommendations({
                                budget: parseFloat(budget),
                                destination: destination,
                                season: season,
                                month: month
                            });
                            
                            displayRecommendations(recommendations);
                        }, 1500);
                    });
                }

                function generateRecommendations(params){
                    var recommendations = [];
                    var basePrice = params.budget;
                    var destinations = ['Dubai', 'Istanbul', 'Bali', 'Thailand', 'Malaysia', 'Singapore', 'Maldives', 'Egypt', 'Türkiye', 'UAE'];
                    
                    // Filter destinations if specified
                    if (params.destination) {
                        var searchDest = params.destination.toLowerCase();
                        destinations = destinations.filter(function(d){
                            return d.toLowerCase().includes(searchDest) || 
                                   (searchDest.includes('osiyo') && ['Bali', 'Thailand', 'Malaysia', 'Singapore', 'Maldives'].includes(d)) ||
                                   (searchDest.includes('yevropa') && ['Istanbul', 'Türkiye'].includes(d)) ||
                                   (searchDest.includes('o\'rta sharq') && ['Dubai', 'UAE', 'Egypt'].includes(d));
                        });
                        if (destinations.length === 0) {
                            destinations = ['Dubai', 'Istanbul', 'Bali', 'Thailand'];
                        }
                    }

                    // Generate 3-5 recommendations within budget
                    var numRecs = Math.min(Math.max(3, Math.floor(basePrice / 500)), 5);
                    var usedDests = {};
                    
                    for (var i = 0; i < numRecs; i++) {
                        var dest = destinations[Math.floor(Math.random() * destinations.length)];
                        var attempts = 0;
                        while (usedDests[dest] && attempts < 20) {
                            dest = destinations[Math.floor(Math.random() * destinations.length)];
                            attempts++;
                        }
                        usedDests[dest] = true;

                        var price = Math.round((basePrice * (0.7 + Math.random() * 0.6)) / 100) * 100;
                        var duration = [3, 5, 7, 10, 14][Math.floor(Math.random() * 5)];
                        
                        recommendations.push({
                            destination: dest,
                            price: price,
                            duration: duration + ' kun',
                            description: getDestinationDescription(dest, params.season)
                        });
                    }

                    // Sort by price closest to budget
                    recommendations.sort(function(a, b){
                        return Math.abs(a.price - basePrice) - Math.abs(b.price - basePrice);
                    });

                    return recommendations;
                }

                function getDestinationDescription(dest, season){
                    var descriptions = {
                        'Dubai': 'Zamonaviy shaharlar, qumli cho\'llar va hashamatli mehmonxonalar',
                        'Istanbul': 'Tarixiy joylar, Bo\'g\'az ko\'rfazi va ajoyib oshxona',
                        'Bali': 'Tropik plyajlar, mevali bog\'lar va madaniy meros',
                        'Thailand': 'Jannat plyajlari, buddist ibodatxonalari va zamonaviy shaharlar',
                        'Malaysia': 'Tropik orollar, ekologik turizm va xilma-xil madaniyat',
                        'Singapore': 'Zamonaviy shahar, chiroyli parklar va xilma-xil oshxona',
                        'Maldives': 'Kristal suvlar, baliq tutish va hashamatli kurortlar',
                        'Egypt': 'Piramidalar, Suez kanali va qadimiy tarix',
                        'Türkiye': 'Mediterranean qirg\'oqlari, tarixiy joylar va ajoyib oshxona',
                        'UAE': 'Hashamatli shaharlar, qumli cho\'llar va yuqori darajadagi xizmatlar'
                    };
                    return descriptions[dest] || 'Ajoyib sayohat imkoniyati';
                }

                function displayRecommendations(recommendations){
                    if (!aiResponse) return;

                    if (recommendations.length === 0) {
                        aiResponse.innerHTML = '<div style="color: #e74c3c;">Sizning kiritilgan ma\'lumotlar bo\'yicha tavsiyalar topilmadi. Iltimos, budjetni yoki yo\'nalishni o\'zgartiring.</div>';
                        return;
                    }

                    var html = '<div style="margin-top: 20px;"><h4 style="color: #0a4d68; margin-bottom: 15px;">Tavsiya etilgan yo\'nalishlar:</h4>';
                    
                    recommendations.forEach(function(rec){
                        html += '<div style="background: var(--bg-secondary); padding: 15px; margin-bottom: 12px; border-radius: 8px; border-left: 4px solid var(--accent-primary);">';
                        html += '<div style="display: flex; justify-content: space-between; align-items: start; flex-wrap: wrap; gap: 10px;">';
                        html += '<div style="flex: 1; min-width: 200px;">';
                        html += '<h5 style="margin: 0 0 8px 0; color: #0a4d68; font-size: 18px;">' + rec.destination + '</h5>';
                        html += '<p style="margin: 0 0 8px 0; color: #666; font-size: 14px;">' + rec.description + '</p>';
                        html += '<div style="display: flex; gap: 15px; font-size: 14px; color: #888;">';
                        html += '<span>⏱️ ' + rec.duration + '</span>';
                        html += '<span>💰 $' + rec.price.toLocaleString() + '</span>';
                        html += '</div>';
                        html += '</div>';
                        html += '</div>';
                        html += '</div>';
                    });

                    html += '</div>';
                    aiResponse.innerHTML = html;
                    aiResponse.style.color = '#333';
                }
            })();
        </script>

        <!-- Service Worker Registration for PWA -->
        <script>
            if ('serviceWorker' in navigator) {
                window.addEventListener('load', () => {
                    navigator.serviceWorker.register('/sw.js')
                        .then((registration) => {
                            console.log('Service Worker registered successfully:', registration.scope);
                            
                            // Check for updates
                            registration.addEventListener('updatefound', () => {
                                const newWorker = registration.installing;
                                newWorker.addEventListener('statechange', () => {
                                    if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                                        // New service worker available
                                        if (confirm('Yangi versiya mavjud. Yangilashni xohlaysizmi?')) {
                                            newWorker.postMessage({ action: 'skipWaiting' });
                                            window.location.reload();
                                        }
                                    }
                                });
                            });
                        })
                        .catch((error) => {
                            console.log('Service Worker registration failed:', error);
                        });
                });

                // Listen for service worker messages
                navigator.serviceWorker.addEventListener('message', (event) => {
                    if (event.data && event.data.type === 'SW_UPDATED') {
                        if (confirm('Yangi versiya mavjud. Yangilashni xohlaysizmi?')) {
                            window.location.reload();
                        }
                    }
                });

                // Handle beforeinstallprompt event (for install banner)
                let deferredPrompt;
                window.addEventListener('beforeinstallprompt', (e) => {
                    // Prevent the mini-infobar from appearing on mobile
                    e.preventDefault();
                    // Stash the event so it can be triggered later
                    deferredPrompt = e;
                    // Show custom install button if needed
                    showInstallButton();
                });

                function showInstallButton() {
                    // Create install button if it doesn't exist
                    if (!document.getElementById('pwa-install-btn')) {
                        const installBtn = document.createElement('button');
                        installBtn.id = 'pwa-install-btn';
                        installBtn.innerHTML = '📱 Ilovani O\'rnatish';
                        installBtn.addEventListener('click', async () => {
                            if (deferredPrompt) {
                                deferredPrompt.prompt();
                                const { outcome } = await deferredPrompt.userChoice;
                                console.log(`User response: ${outcome}`);
                                deferredPrompt = null;
                                installBtn.style.display = 'none';
                            }
                        });
                        document.body.appendChild(installBtn);
                    }
                }

                // Track app installation
                window.addEventListener('appinstalled', () => {
                    console.log('PWA was installed');
                    deferredPrompt = null;
                });
            }

            // Scroll animations using Intersection Observer
            (function() {
                const observerOptions = {
                    threshold: 0.1,
                    rootMargin: '0px 0px -50px 0px'
                };

                const observer = new IntersectionObserver(function(entries) {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add('animated');
                        }
                    });
                }, observerOptions);

                // Observe all sections
                document.querySelectorAll('section').forEach(section => {
                    section.classList.add('animate-on-scroll');
                    observer.observe(section);
                });

                // Observe cards that don't have initial animation
                setTimeout(function() {
                    document.querySelectorAll('.destination-card, .service-card, .testimonial-card, .agency-card').forEach(card => {
                        if (!card.style.animation) {
                            card.classList.add('animate-on-scroll');
                            observer.observe(card);
                        }
                    });
                }, 100);
            })();
        </script>
    </body>